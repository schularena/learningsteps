(function(e){function t(t){for(var n,o,s=t[0],a=t[1],l=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);u&&u(t);while(h.length)h.shift()();return c.push.apply(c,l||[]),i()}function i(){for(var e,t=0;t<c.length;t++){for(var i=c[t],n=!0,s=1;s<i.length;s++){var a=i[s];0!==r[a]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},r={app:0},c=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=a;c.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0596":function(e,t,i){"use strict";i("49a2")},"1c50":function(e,t,i){},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=c(e);return i(t)}function c(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id="4678"},"49a2":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23"),r=Object(n["h"])("div",{id:"chargement"},[Object(n["h"])("div",{class:"spinner"},[Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div"),Object(n["h"])("div")])],-1),c=[r],o={key:1,id:"conteneur-message",class:"conteneur-modale"},s={id:"message",class:"modale"},a={class:"conteneur"},l={class:"contenu"},u=["innerHTML"],d={class:"actions"};function h(e,t,i,r,h,p){var b=Object(n["B"])("router-view");return Object(n["u"])(),Object(n["g"])("main",null,[h.chargement||h.chargementBlocs||h.chargementParcours?(Object(n["u"])(),Object(n["g"])("div",{key:0,id:"conteneur-chargement",class:Object(n["p"])({"chargement-parcours":h.chargementParcours,"chargement-blocs":h.chargementBlocs})},c,2)):Object(n["f"])("",!0),h.message?(Object(n["u"])(),Object(n["g"])("div",o,[Object(n["h"])("div",s,[Object(n["h"])("div",a,[Object(n["h"])("div",l,[Object(n["h"])("div",{class:"message",innerHTML:h.message},null,8,u),Object(n["h"])("div",d,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[0]||(t[0]=function(e){return h.message=""})},"Fermer")])])])])])):Object(n["f"])("",!0),Object(n["j"])(b)])}i("d3b7"),i("25f0"),i("ac1f"),i("1276");var p={name:"App",data:function(){return{hote:"",chargement:!0,chargementBlocs:!1,chargementParcours:!0,message:"",notification:""}},watch:{notification:function(e){if(""!==e){var t=document.createElement("div"),i="notification_"+Date.now().toString(36)+Math.random().toString(36).substr(2);t.id=i,t.textContent=e,t.classList.add("notification"),document.querySelector("#app").appendChild(t),this.notification="",setTimeout((function(){t.parentNode.removeChild(t)}),2e3)}}},created:function(){this.hote=window.location.href.split("#")[0]}},b=(i("f462"),i("d73d"),i("6b0d")),f=i.n(b);const j=f()(p,[["render",h]]);var O=j,m=i("6c02"),v=function(e){return Object(n["x"])("data-v-27a30831"),e=e(),Object(n["v"])(),e},g={id:"page"},y=v((function(){return Object(n["h"])("div",{id:"masque"},null,-1)})),k={id:"conteneur"},x={id:"contenu"},$=v((function(){return Object(n["h"])("h1",null,[Object(n["h"])("span",null,"Digisteps"),Object(n["i"])(),Object(n["h"])("span",null,"by La Digitale")],-1)})),C=v((function(){return Object(n["h"])("p",null,[Object(n["h"])("strong",null,"Digisteps"),Object(n["i"])(" permet de créer des "),Object(n["h"])("strong",null,"parcours pédagogiques"),Object(n["i"])(" en ligne.")],-1)})),q={id:"credits"},_=v((function(){return Object(n["h"])("p",null,[Object(n["h"])("a",{href:"https://opencollective.com/ladigitale",target:"_blank",rel:"noreferrer"},"Je souhaite apporter mon soutien ❤️.")],-1)})),w=v((function(){return Object(n["h"])("a",{href:"https://ladigitale.dev",target:"_blank",rel:"noreferrer"},"La Digitale",-1)})),M=Object(n["i"])(" - "),S=v((function(){return Object(n["h"])("a",{href:"https://gitlab.com/ladigitale/digisteps",target:"_blank",rel:"noreferrer"},"Code source",-1)})),P=Object(n["i"])(" - "),D=v((function(){return Object(n["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#001d1d",width:"36px",height:"36px"},[Object(n["h"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(n["h"])("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})],-1)})),T=[D],L={key:0,class:"conteneur-modale"},E={class:"modale"},N=v((function(){return Object(n["h"])("span",{class:"titre"},"Nouveau parcours pédagogique",-1)})),I=v((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),R=[I],z={class:"conteneur"},V={class:"contenu"},H=v((function(){return Object(n["h"])("label",null,"Nom du parcours",-1)})),A=["value"],F=v((function(){return Object(n["h"])("label",null,"Question secrète",-1)})),J=["value"],B=v((function(){return Object(n["h"])("label",null,"Réponse secrète (pour édition ultérieure)",-1)})),Q=["value"],X={class:"actions"},G=v((function(){return Object(n["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",width:"36px",height:"36px"},[Object(n["h"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(n["h"])("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)})),K=[G],U=v((function(){return Object(n["h"])("iframe",{src:"https://ladigitale.dev/hub.html"},null,-1)}));function W(e,t,i,r,c,o){return Object(n["u"])(),Object(n["g"])("div",g,[Object(n["h"])("div",{id:"accueil",style:Object(n["q"])({"background-image":"url(./static/img/digisteps.jpg)"})},[y,Object(n["h"])("div",k,[Object(n["h"])("div",x,[$,Object(n["h"])("div",null,[C,Object(n["h"])("span",{id:"bouton",role:"button",tabindex:"0",onClick:t[0]||(t[0]=function(){return o.ouvrirModaleParcours&&o.ouvrirModaleParcours.apply(o,arguments)})},"Créer un parcours")])]),Object(n["h"])("div",q,[_,Object(n["h"])("p",null,[Object(n["i"])(Object(n["D"])((new Date).getFullYear())+" - ",1),w,M,S,P,Object(n["h"])("span",{class:"hub",onClick:t[1]||(t[1]=function(){return o.ouvrirHub&&o.ouvrirHub.apply(o,arguments)})},T)])])])],4),"parcours"===c.modale?(Object(n["u"])(),Object(n["g"])("div",L,[Object(n["h"])("div",E,[Object(n["h"])("header",null,[N,Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[2]||(t[2]=function(){return o.fermerModaleParcours&&o.fermerModaleParcours.apply(o,arguments)})},R)]),Object(n["h"])("div",z,[Object(n["h"])("div",V,[H,Object(n["h"])("input",{type:"text",value:c.nom,onInput:t[3]||(t[3]=function(e){return c.nom=e.target.value})},null,40,A),F,Object(n["h"])("select",{value:c.question,onChange:t[4]||(t[4]=function(e){return c.question=e.target.value})},[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.questions,(function(e,t){return Object(n["u"])(),Object(n["g"])("option",{key:"option_"+t},Object(n["D"])(e),1)})),128))],40,J),B,Object(n["h"])("input",{type:"text",value:c.reponse,onInput:t[5]||(t[5]=function(e){return c.reponse=e.target.value}),onKeydown:t[6]||(t[6]=Object(n["J"])((function(){return o.creerParcours&&o.creerParcours.apply(o,arguments)}),["enter"]))},null,40,Q),Object(n["h"])("div",X,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[7]||(t[7]=function(){return o.creerParcours&&o.creerParcours.apply(o,arguments)})},"Créer")])])])])])):Object(n["f"])("",!0),Object(n["h"])("div",{id:"hub",class:Object(n["p"])({ouvert:c.hub})},[Object(n["h"])("span",{onClick:t[8]||(t[8]=function(){return o.fermerHub&&o.fermerHub.apply(o,arguments)})},K),U],2)])}var Y={name:"Accueil",data:function(){return{modale:"",nom:"",question:"",questions:["Quel est mon mot préféré ?","Quel est mon film préféré ?","Quelle est ma chanson préférée ?","Quel est le prénom de ma mère ?","Quel est le prénom de mon père ?","Quel est le nom de ma rue ?","Quel est le nom de mon employeur ?","Quel est le nom de mon animal de compagnie ?"],reponse:"",hub:!1}},created:function(){this.$parent.$parent.chargementParcours=!1},mounted:function(){setTimeout(function(){this.$parent.$parent.chargement=!1}.bind(this),300)},methods:{ouvrirModaleParcours:function(){this.modale="parcours"},fermerModaleParcours:function(){this.modale="",this.nom="",this.question="",this.reponse=""},creerParcours:function(){if(""!==this.nom&&""!==this.question&&""!==this.reponse){this.$parent.$parent.chargement=!0;var e=new XMLHttpRequest;e.onload=function(){e.readyState===e.DONE&&200===e.status?(this.$parent.$parent.chargement=!1,this.fermerModaleParcours(),"erreur"!==e.responseText?this.$router.push("/s/"+e.responseText):this.$parent.$parent.message="Erreur de communication avec le serveur."):(this.$parent.$parent.chargement=!1,this.fermerModaleParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),e.open("POST",this.$parent.$parent.hote+"inc/creer_parcours.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("nom="+this.nom+"&question="+this.question+"&reponse="+this.reponse)}else""===this.nom?this.$parent.$parent.message="Veuillez complétez le champ «&nbsp;Nom du parcours&nbsp;».":""===this.question?this.$parent.$parent.message="Veuillez sélectionner une question secrète.":""===this.reponse&&(this.$parent.$parent.message="Veuillez complétez le champ «&nbsp;Réponse secrète&nbsp;».")},ouvrirHub:function(){this.hub=!0},fermerHub:function(){this.hub=!1}}};i("5da1");const Z=f()(Y,[["render",W],["__scopeId","data-v-27a30831"]]);var ee=Z,te=(i("caad"),i("2532"),function(e){return Object(n["x"])("data-v-bd1e034a"),e=e(),Object(n["v"])(),e}),ie={id:"page"},ne={id:"parcours"},re={id:"conteneur-header"},ce=["href"],oe=te((function(){return Object(n["h"])("span",{id:"logo"},null,-1)})),se=[oe],ae={id:"titre"},le=te((function(){return Object(n["h"])("i",{class:"material-icons"},"share_alt",-1)})),ue=[le],de=te((function(){return Object(n["h"])("i",{class:"material-icons"},"settings",-1)})),he=[de],pe=te((function(){return Object(n["h"])("i",{class:"material-icons"},"lock_open",-1)})),be=[pe],fe={id:"conteneur-partager"},je=te((function(){return Object(n["h"])("label",null,"Lien et code QR :",-1)})),Oe={id:"copier-lien",class:"copier"},me=["value"],ve=te((function(){return Object(n["h"])("span",{class:"icone lien",role:"button",tabindex:"0",title:"Copier le lien"},[Object(n["h"])("i",{class:"material-icons"},"content_copy")],-1)})),ge=te((function(){return Object(n["h"])("i",{class:"material-icons"},"qr_code",-1)})),ye=[ge],ke=te((function(){return Object(n["h"])("label",null,"Code d'intégration :",-1)})),xe={id:"copier-iframe",class:"copier"},$e=["value"],Ce=te((function(){return Object(n["h"])("span",{class:"icone",role:"button",tabindex:"0",title:"Copier le code d\\'intégration"},[Object(n["h"])("i",{class:"material-icons"},"content_copy")],-1)})),qe=te((function(){return Object(n["h"])("p",{class:"credits"},[Object(n["i"])("Créé avec "),Object(n["h"])("a",{href:"https://ladigitale.dev/digisteps/",target:"_blank",rel:"noreferrer"},[Object(n["h"])("u",null,"Digisteps by La Digitale")])],-1)})),_e={id:"conteneur-parcours"},we={key:0,id:"actions"},Me=["id"],Se={class:"contenu"},Pe=["innerHTML"],De={class:"actions statique"},Te=["onClick"],Le=te((function(){return Object(n["h"])("i",{class:"material-icons"},"visibility",-1)})),Ee=[Le],Ne=["onClick"],Ie=te((function(){return Object(n["h"])("i",{class:"material-icons"},"visibility_off",-1)})),Re=[Ie],ze=["onClick"],Ve=te((function(){return Object(n["h"])("i",{class:"material-icons"},"edit",-1)})),He=[Ve],Ae=["onClick"],Fe=te((function(){return Object(n["h"])("i",{class:"material-icons"},"delete",-1)})),Je=[Fe],Be=["id"],Qe={key:0,class:"icone"},Xe={class:"material-icons"},Ge={key:1,class:"image"},Ke=["src"],Ue={key:2,class:"duree"},We={key:3,class:"cadenas"},Ye=te((function(){return Object(n["h"])("i",{class:"material-icons"},"lock",-1)})),Ze=[Ye],et=["innerHTML"],tt={key:1,class:"date-et-horaire"},it={class:"date"},nt=te((function(){return Object(n["h"])("i",{class:"material-icons"},"event_note",-1)})),rt={class:"horaire"},ct=te((function(){return Object(n["h"])("i",{class:"material-icons"},"schedule",-1)})),ot={key:2,class:"lieu"},st=te((function(){return Object(n["h"])("i",{class:"material-icons"},"place",-1)})),at=["href"],lt={key:3,class:"lieu"},ut=te((function(){return Object(n["h"])("i",{class:"material-icons"},"voice_chat",-1)})),dt=["href"],ht={key:4,class:"action"},pt=["href"],bt=te((function(){return Object(n["h"])("i",{class:"material-icons"},"open_in_new",-1)})),ft=[bt],jt=["href"],Ot=te((function(){return Object(n["h"])("i",{class:"material-icons"},"get_app",-1)})),mt=[Ot],vt=["onClick"],gt=te((function(){return Object(n["h"])("i",{class:"material-icons"},"fact_check",-1)})),yt=[gt],kt=["onClick"],xt=te((function(){return Object(n["h"])("i",{class:"material-icons"},"send",-1)})),$t=[xt],Ct={class:"actions statique"},qt=["onClick"],_t=te((function(){return Object(n["h"])("i",{class:"material-icons"},"visibility",-1)})),wt=[_t],Mt=["onClick"],St=te((function(){return Object(n["h"])("i",{class:"material-icons"},"visibility_off",-1)})),Pt=[St],Dt=["onClick"],Tt=te((function(){return Object(n["h"])("i",{class:"material-icons"},"edit",-1)})),Lt=[Tt],Et=["onClick"],Nt=te((function(){return Object(n["h"])("i",{class:"material-icons"},"delete",-1)})),It=[Nt],Rt={key:2,id:"blocs"},zt=["id"],Vt={class:"contenu"},Ht=["innerHTML"],At=["id"],Ft={key:0,class:"icone"},Jt=te((function(){return Object(n["h"])("i",{class:"material-icons"},"lock",-1)})),Bt=[Jt],Qt={key:1,class:"icone"},Xt={class:"material-icons"},Gt={key:2,class:"image"},Kt=["src"],Ut={key:3,class:"duree"},Wt={class:"conteneur-chargement"},Yt=["innerHTML"],Zt={key:1,class:"date-et-horaire"},ei={class:"date"},ti=te((function(){return Object(n["h"])("i",{class:"material-icons"},"event_note",-1)})),ii={class:"horaire"},ni=te((function(){return Object(n["h"])("i",{class:"material-icons"},"schedule",-1)})),ri={key:2,class:"lieu"},ci=te((function(){return Object(n["h"])("i",{class:"material-icons"},"place",-1)})),oi=["href"],si={key:3,class:"lieu"},ai=te((function(){return Object(n["h"])("i",{class:"material-icons"},"voice_chat",-1)})),li=["href"],ui={key:4,class:"action"},di=["href"],hi=te((function(){return Object(n["h"])("i",{class:"material-icons"},"open_in_new",-1)})),pi=[hi],bi=["href"],fi=te((function(){return Object(n["h"])("i",{class:"material-icons"},"get_app",-1)})),ji=[fi],Oi=["onClick"],mi=te((function(){return Object(n["h"])("i",{class:"material-icons"},"fact_check",-1)})),vi=[mi],gi=["onClick"],yi=te((function(){return Object(n["h"])("i",{class:"material-icons"},"reply",-1)})),ki=[yi],xi={key:1,class:"contenu"},$i=te((function(){return Object(n["h"])("label",null,"Contenu verrouillé",-1)})),Ci=["onKeydown"],qi={class:"action"},_i=["onClick"],wi=["onClick"],Mi=te((function(){return Object(n["h"])("i",{class:"material-icons"},"info",-1)})),Si=[Mi],Pi={key:3,id:"blocs",class:"vide"},Di=te((function(){return Object(n["h"])("p",null,"Aucune étape pour le moment.",-1)})),Ti=[Di],Li={key:0,class:"conteneur-modale"},Ei={id:"bloc",class:"modale"},Ni={key:0,class:"titre"},Ii={key:1,class:"titre"},Ri={key:2,class:"titre"},zi={key:3,class:"titre"},Vi={key:4,class:"titre"},Hi={key:5,class:"titre"},Ai={key:6,class:"titre"},Fi=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),Ji=[Fi],Bi={class:"conteneur ascenseur"},Qi={class:"contenu"},Xi=te((function(){return Object(n["h"])("label",{for:"champ-titre"},"Titre",-1)})),Gi=["value"],Ki={key:0},Ui={key:1},Wi=te((function(){return Object(n["h"])("div",{id:"texte"},null,-1)})),Yi=te((function(){return Object(n["h"])("label",null,"Type d'étape",-1)})),Zi=["selected"],en=["selected"],tn=["selected"],nn=["selected"],rn=["selected"],cn=["selected"],on={key:2,id:"options"},sn={id:"date-et-horaire"},an={id:"date"},ln=te((function(){return Object(n["h"])("label",{for:"champ-date"},"Date",-1)})),un=["value"],dn={id:"debut"},hn=te((function(){return Object(n["h"])("label",{for:"champ-debut"},"Début",-1)})),pn=["value"],bn={id:"fin"},fn=te((function(){return Object(n["h"])("label",{for:"champ-fin"},"Fin",-1)})),jn=["value"],On=te((function(){return Object(n["h"])("label",{for:"champ-lieu"},"Adresse ou lien de visioconférence",-1)})),mn=["value"],vn=te((function(){return Object(n["h"])("label",null,"Type de ressource",-1)})),gn=["selected"],yn=["selected"],kn=["selected"],xn={key:0,for:"champ-lien"},$n=["value"],Cn=["value"],qn=["value"],_n={key:4},wn={key:5,id:"fichier"},Mn=["href"],Sn={key:1,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Pn={key:2,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Dn={key:3,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Tn={key:4,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Ln=te((function(){return Object(n["h"])("label",null,"Dépôt par les apprenants (lien ou fichier)",-1)})),En={id:"depot"},Nn={class:"label"},In=["checked"],Rn=te((function(){return Object(n["h"])("label",{for:"depot_oui"},"Oui",-1)})),zn={class:"label"},Vn=["checked"],Hn=te((function(){return Object(n["h"])("label",{for:"depot_non"},"Non",-1)})),An=te((function(){return Object(n["h"])("label",null,"Critères d'évaluation",-1)})),Fn={id:"criteres"},Jn={class:"label"},Bn=["checked"],Qn=te((function(){return Object(n["h"])("label",{for:"criteres_oui"},"Oui",-1)})),Xn={class:"label"},Gn=["checked"],Kn=te((function(){return Object(n["h"])("label",{for:"criteres_non"},"Non",-1)})),Un={key:0,id:"evaluation"},Wn=te((function(){return Object(n["h"])("label",null,"Libellé du critère",-1)})),Yn=te((function(){return Object(n["h"])("label",null,"Nombre d'étoiles",-1)})),Zn=["value","onInput"],er=["onChange"],tr=["selected"],ir=["selected"],nr=["selected"],rr=["selected"],cr=["selected"],or=["selected"],sr=["selected"],ar=["selected"],lr=["selected"],ur=["selected"],dr={class:"actions"},hr=te((function(){return Object(n["h"])("i",{class:"material-icons"},"remove_circle_outline",-1)})),pr=[hr],br=te((function(){return Object(n["h"])("i",{class:"material-icons"},"add_circle_outline",-1)})),fr=[br],jr={key:3},Or={key:4},mr={key:5},vr={id:"duree"},gr=["selected"],yr=["selected"],kr=["selected"],xr=["selected"],$r=["selected"],Cr=["selected"],qr=["selected"],_r=["selected"],wr=["selected"],Mr=["selected"],Sr=["selected"],Pr=["selected"],Dr=["selected"],Tr=te((function(){return Object(n["h"])("span",null,"h",-1)})),Lr=["selected"],Er=["selected"],Nr=["selected"],Ir=["selected"],Rr=["selected"],zr=["selected"],Vr=["selected"],Hr=["selected"],Ar=["selected"],Fr=["selected"],Jr=["selected"],Br=["selected"],Qr=te((function(){return Object(n["h"])("label",null,"Étape verrouillée avec un code d'accès",-1)})),Xr={id:"verrouillage"},Gr={class:"label"},Kr=["checked"],Ur=te((function(){return Object(n["h"])("label",{for:"verrouillage_oui"},"Oui",-1)})),Wr={class:"label"},Yr=["checked"],Zr=te((function(){return Object(n["h"])("label",{for:"verrouillage_non"},"Non",-1)})),ec={key:0},tc=["value"],ic={key:2},nc=["value"],rc={key:4},cc=["selected"],oc=["selected"],sc=["selected"],ac=["selected"],lc=["selected"],uc=["selected"],dc=["selected"],hc=["selected"],pc=["selected"],bc=["selected"],fc=["selected"],jc=["selected"],Oc=["selected"],mc=["selected"],vc=["selected"],gc=["selected"],yc=["selected"],kc=["selected"],xc=["selected"],$c=["selected"],Cc=["selected"],qc=["selected"],_c=["selected"],wc=["selected"],Mc=["selected"],Sc=["selected"],Pc=["selected"],Dc=["selected"],Tc=["selected"],Lc=["selected"],Ec=["selected"],Nc=["selected"],Ic=["selected"],Rc=["selected"],zc=["selected"],Vc=["selected"],Hc=["selected"],Ac=["selected"],Fc=["selected"],Jc=["selected"],Bc=["selected"],Qc=["selected"],Xc=["selected"],Gc={key:9,id:"apercu"},Kc={key:0,class:"material-icons"},Uc=["src"],Wc=te((function(){return Object(n["h"])("label",null,"Couleur",-1)})),Yc={id:"couleurs"},Zc=["onClick"],eo={class:"icone"},to=te((function(){return Object(n["h"])("label",{for:"couleur"},[Object(n["h"])("i",{class:"material-icons"},"colorize")],-1)})),io={key:1,class:"conteneur-modale"},no={class:"modale"},ro=te((function(){return Object(n["h"])("header",null,[Object(n["h"])("span",{class:"titre"},"Téléversement du fichier...")],-1)})),co={class:"conteneur"},oo={class:"contenu"},so={class:"conteneur-chargement progression"},ao=["value"],lo=te((function(){return Object(n["h"])("div",{class:"chargement"},null,-1)})),uo={key:2,class:"conteneur-modale"},ho={class:"modale confirmation"},po={class:"conteneur entier"},bo={class:"contenu"},fo=te((function(){return Object(n["h"])("p",null,"Souhaitez-vous vraiment supprimer cette étape ?",-1)})),jo={class:"actions"},Oo={key:3,class:"conteneur-modale"},mo={id:"travaux",class:"modale"},vo=te((function(){return Object(n["h"])("span",{class:"titre"},"Afficher les travaux",-1)})),go=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),yo=[go],ko={class:"conteneur ascenseur"},xo={class:"contenu"},$o=["id"],Co={class:"meta"},qo=Object(n["i"])("par "),_o={class:"motdepasse"},wo={class:"boutons"},Mo=["href"],So=te((function(){return Object(n["h"])("i",{class:"material-icons"},"open_in_new",-1)})),Po=[So],Do=["href"],To=te((function(){return Object(n["h"])("i",{class:"material-icons"},"get_app",-1)})),Lo=[To],Eo=["onClick"],No=te((function(){return Object(n["h"])("i",{class:"material-icons"},"edit",-1)})),Io=[No],Ro=["onClick"],zo=te((function(){return Object(n["h"])("i",{class:"material-icons"},"edit",-1)})),Vo=[zo],Ho={key:0,class:"retroaction"},Ao={key:0,id:"liste-criteres"},Fo={class:"etoiles"},Jo=["onClick"],Bo=te((function(){return Object(n["h"])("i",{class:"material-icons"},"star",-1)})),Qo=[Bo],Xo=["onClick"],Go=te((function(){return Object(n["h"])("i",{class:"material-icons"},"star_outline",-1)})),Ko=[Go],Uo=te((function(){return Object(n["h"])("div",{id:"retroaction"},null,-1)})),Wo={class:"boutons"},Yo={key:4,class:"conteneur-modale"},Zo={key:0,class:"titre"},es={key:1,class:"titre"},ts={key:2,class:"titre"},is=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),ns=[is],rs={class:"conteneur ascenseur"},cs={class:"contenu"},os={key:0},ss=te((function(){return Object(n["h"])("option",{value:"-"},"-",-1)})),as=te((function(){return Object(n["h"])("option",{value:"deposer"},"déposer un travail.",-1)})),ls=te((function(){return Object(n["h"])("option",{value:"verifier"},"consulter un travail.",-1)})),us=[ss,as,ls],ds=te((function(){return Object(n["h"])("label",null,"Nom ou pseudo",-1)})),hs=["value"],ps=te((function(){return Object(n["h"])("label",null,[Object(n["i"])("Mot de passe ("),Object(n["h"])("u",null,"à noter"),Object(n["i"])(" pour modifier le dépôt ou consulter le retour de l'enseignant)")],-1)})),bs=["value"],fs=te((function(){return Object(n["h"])("label",null,"Type de dépôt",-1)})),js=["selected"],Os=["selected"],ms={key:0,for:"champ-lien"},vs=["value"],gs={key:2},ys={key:3,id:"fichier"},ks={key:0,for:"televerser",class:"bouton",role:"button",tabindex:"0"},xs={key:1,for:"televerser",class:"bouton",role:"button",tabindex:"0"},$s=te((function(){return Object(n["h"])("label",null,"Mot de passe",-1)})),Cs=["value"],qs=te((function(){return Object(n["h"])("label",null,"Nom ou pseudo",-1)})),_s=["value"],ws=te((function(){return Object(n["h"])("label",null,"Mot de passe",-1)})),Ms=["value"],Ss=te((function(){return Object(n["h"])("label",null,"Type de dépôt",-1)})),Ps=["selected"],Ds=["selected"],Ts={key:0,for:"champ-lien"},Ls=["value"],Es={key:2},Ns={key:3,id:"fichier"},Is=["href"],Rs={key:1,for:"televerser",class:"bouton",role:"button",tabindex:"0"},zs={key:2,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Vs={key:3,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Hs=te((function(){return Object(n["h"])("label",null,"Commentaire",-1)})),As=["innerHTML"],Fs={key:5,id:"commentaire"},Js={key:6,id:"etoiles"},Bs={class:"etoiles"},Qs=te((function(){return Object(n["h"])("i",{class:"material-icons"},"star",-1)})),Xs=[Qs],Gs=te((function(){return Object(n["h"])("i",{class:"material-icons"},"star_outline",-1)})),Ks=[Gs],Us={key:5,class:"conteneur-modale"},Ws={class:"modale"},Ys=te((function(){return Object(n["h"])("span",{class:"titre"},"Critères d'évaluation",-1)})),Zs=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),ea=[Zs],ta={class:"conteneur"},ia={class:"contenu"},na={class:"etoiles"},ra=te((function(){return Object(n["h"])("i",{class:"material-icons"},"star",-1)})),ca=[ra],oa={key:6,class:"conteneur-modale"},sa={class:"modale"},aa=te((function(){return Object(n["h"])("span",{class:"titre"},"Modifier ce parcours",-1)})),la=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),ua=[la],da={class:"conteneur"},ha={class:"contenu"},pa=te((function(){return Object(n["h"])("label",null,"Question secrète",-1)})),ba=["value"],fa=te((function(){return Object(n["h"])("label",null,"Réponse secrète",-1)})),ja=["value"],Oa={class:"actions"},ma={key:7,class:"conteneur-modale"},va={class:"modale"},ga=te((function(){return Object(n["h"])("span",{class:"titre"},"Paramètres du parcours",-1)})),ya=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),ka=[ya],xa={class:"conteneur"},$a={class:"contenu"},Ca={key:8,class:"conteneur-modale"},qa={class:"modale"},_a=te((function(){return Object(n["h"])("span",{class:"titre"},"Modifier le nom du parcours",-1)})),wa=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),Ma=[wa],Sa={class:"conteneur"},Pa={class:"contenu"},Da=te((function(){return Object(n["h"])("label",null,"Nouveau nom",-1)})),Ta=["value"],La={class:"actions"},Ea={key:9,class:"conteneur-modale"},Na={class:"modale"},Ia=te((function(){return Object(n["h"])("span",{class:"titre"},"Modifier l'accès au parcours",-1)})),Ra=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),za=[Ra],Va={class:"conteneur"},Ha={class:"contenu"},Aa=te((function(){return Object(n["h"])("label",null,"Question secrète actuelle",-1)})),Fa=["value"],Ja=te((function(){return Object(n["h"])("label",null,"Réponse secrète actuelle",-1)})),Ba=["value"],Qa=te((function(){return Object(n["h"])("label",null,"Nouvelle question secrète",-1)})),Xa=["value"],Ga=te((function(){return Object(n["h"])("label",null,"Nouvelle réponse secrète",-1)})),Ka=["value"],Ua={class:"actions"},Wa={key:10,class:"conteneur-modale"},Ya={class:"modale confirmation"},Za={class:"conteneur entier"},el={class:"contenu"},tl=te((function(){return Object(n["h"])("p",null,"Souhaitez-vous vraiment supprimer ce parcours et tout son contenu ?",-1)})),il={class:"actions"},nl={class:"conteneur-modale"},rl={id:"codeqr",class:"modale"},cl=te((function(){return Object(n["h"])("span",{class:"titre"},"Code QR",-1)})),ol=te((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),sl=[ol],al=te((function(){return Object(n["h"])("div",{class:"conteneur"},[Object(n["h"])("div",{class:"contenu"},[Object(n["h"])("div",{id:"qr"})])],-1)}));function ll(e,t,i,r,c,o){var s=Object(n["B"])("draggable");return Object(n["u"])(),Object(n["g"])("div",ie,[Object(n["h"])("div",ne,[Object(n["h"])("header",null,[Object(n["h"])("div",re,[Object(n["h"])("a",{id:"conteneur-logo",href:o.definirRacine(),title:"Accueil"},se,8,ce),Object(n["h"])("span",ae,Object(n["D"])(c.nom),1),Object(n["h"])("span",{id:"conteneur-partage",onClick:t[0]||(t[0]=function(){return o.afficherMenuPartager&&o.afficherMenuPartager.apply(o,arguments)})},ue),c.admin?(Object(n["u"])(),Object(n["g"])("span",{key:0,id:"conteneur-parametres",onClick:t[1]||(t[1]=function(){return o.ouvrirModaleParcours&&o.ouvrirModaleParcours.apply(o,arguments)})},he)):(Object(n["u"])(),Object(n["g"])("span",{key:1,id:"conteneur-parametres",onClick:t[2]||(t[2]=function(){return o.ouvrirModaleConnexion&&o.ouvrirModaleConnexion.apply(o,arguments)})},be))])]),Object(n["I"])(Object(n["h"])("div",{id:"menu-partager",style:Object(n["q"])({left:c.position+"px"})},[Object(n["h"])("div",fe,[je,Object(n["h"])("div",Oe,[Object(n["h"])("input",{type:"text",disabled:"",value:o.definirRacine()+"#/s/"+c.id},null,8,me),ve,Object(n["h"])("span",{class:"icone codeqr",role:"button",tabindex:"0",title:"Afficher le code QR",onClick:t[3]||(t[3]=function(e){return c.modale="code-qr"})},ye)]),ke,Object(n["h"])("div",xe,[Object(n["h"])("input",{type:"text",disabled:"",value:'<iframe src="'+o.definirRacine()+"#/s/"+c.id+'" allowfullscreen frameborder="0" width="100%" height="500"></iframe>'},null,8,$e),Ce]),qe])],4),[[n["F"],"partager"===c.menu]]),Object(n["h"])("section",null,[Object(n["h"])("div",_e,[c.admin?(Object(n["u"])(),Object(n["g"])("div",we,[Object(n["h"])("span",{id:"ajouter",class:"bouton",role:"button",tabindex:"0",onClick:t[4]||(t[4]=function(e){return o.ouvrirModaleBloc("creation","")})},"Ajouter une étape")])):Object(n["f"])("",!0),c.blocs.length>0&&c.admin?(Object(n["u"])(),Object(n["e"])(s,{key:1,id:"blocs",class:"admin",modelValue:c.blocs,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.blocs=e}),animation:250,sort:!0,"swap-threshold":.5,"force-fallback":!0,"fallback-tolerance":10,filter:".statique, .lire",draggable:".bloc",onEnd:o.modifierPositionBloc},{default:Object(n["H"])((function(){return[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.blocs,(function(e,t){return Object(n["u"])(),Object(n["g"])(n["a"],{key:"bloc_"+t},["section"===e.type?(Object(n["u"])(),Object(n["g"])("article",{key:0,id:e.id,class:Object(n["p"])(["bloc section",{invisible:!1===e.visibilite}])},[Object(n["h"])("div",Se,[Object(n["h"])("span",{class:"titre",style:Object(n["q"])({"border-color":e.couleur})},Object(n["D"])(e.titre),5),""!==e.texte?(Object(n["u"])(),Object(n["g"])("span",{key:0,class:"texte",innerHTML:e.texte},null,8,Pe)):Object(n["f"])("",!0)]),Object(n["h"])("div",De,[!0===e.visibilite?(Object(n["u"])(),Object(n["g"])("span",{key:0,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Masquer"},Ee,8,Te)):(Object(n["u"])(),Object(n["g"])("span",{key:1,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Afficher"},Re,8,Ne)),Object(n["h"])("span",{onClick:function(t){return o.ouvrirModaleBloc("edition",e)},title:"Éditer"},He,8,ze),Object(n["h"])("span",{onClick:function(t){return o.afficherSupprimerBloc(e.id)},title:"Supprimer"},Je,8,Ae)])],10,Me)):(Object(n["u"])(),Object(n["g"])("article",{key:1,id:e.id,class:Object(n["p"])(["bloc",{invisible:!1===e.visibilite}]),style:Object(n["q"])({background:o.eclaircirCouleur(e.couleur)})},[Object(n["h"])("div",{class:"vignette",style:Object(n["q"])({"border-color":e.couleur,color:o.modifierCouleur(e.couleur,-20)})},["icone"===e.vignette.substring(0,5)?(Object(n["u"])(),Object(n["g"])("span",Qe,[Object(n["h"])("i",Xe,Object(n["D"])(e.vignette.substring(6)),1)])):(Object(n["u"])(),Object(n["g"])("span",Ge,[Object(n["h"])("img",{src:o.definirRacine()+"static/vignettes/"+e.vignette+".png"},null,8,Ke)])),e.heures>0||e.minutes>0?(Object(n["u"])(),Object(n["g"])("span",Ue,Object(n["D"])(o.definirDuree(e.heures,e.minutes)),1)):Object(n["f"])("",!0),!0===e.hasOwnProperty("code")&&""!==e.code?(Object(n["u"])(),Object(n["g"])("span",We,Ze)):Object(n["f"])("",!0)],4),Object(n["h"])("div",{class:Object(n["p"])(["contenu",e.type])},[Object(n["h"])("span",{class:"titre",style:Object(n["q"])({"border-color":e.couleur})},Object(n["D"])(e.titre),5),""!==e.texte?(Object(n["u"])(),Object(n["g"])("span",{key:0,class:"texte",innerHTML:e.texte},null,8,et)):Object(n["f"])("",!0),""!==e.date&&""!==e.debut&""!==e.fin?(Object(n["u"])(),Object(n["g"])("div",tt,[Object(n["h"])("span",it,[nt,Object(n["i"])(Object(n["D"])(o.definirDate(e.date)),1)]),Object(n["h"])("span",rt,[ct,Object(n["i"])(Object(n["D"])(o.definirHoraire(e.date,e.debut,e.fin)),1)])])):Object(n["f"])("",!0),""!==e.lieu&&!1===e.lieu.includes("http")?(Object(n["u"])(),Object(n["g"])("span",ot,[st,Object(n["h"])("a",{href:"https://www.openstreetmap.org/search?query="+e.lieu,target:"_blank"},Object(n["D"])(e.lieu),9,at)])):""!==e.lieu&&!0===e.lieu.includes("http")?(Object(n["u"])(),Object(n["g"])("span",lt,[ut,Object(n["h"])("a",{href:e.lieu,target:"_blank"},Object(n["D"])(o.definirDomaine(e.lieu)),9,dt)])):Object(n["f"])("",!0),""!==e.lien||""!==e.fichier||!0===e.hasOwnProperty("depot")&&"oui"===e.depot&&!0===e.hasOwnProperty("travaux")&&e.travaux.length>0||!0===e.hasOwnProperty("listeCriteres")&&e.listeCriteres.length>0?(Object(n["u"])(),Object(n["g"])("div",ht,[""!==e.lien?(Object(n["u"])(),Object(n["g"])("a",{key:0,class:"bouton icone",href:e.lien,target:"_blank",title:"Ouvrir le lien",style:Object(n["q"])({"border-color":e.couleur,color:o.modifierCouleur(e.couleur,-20)})},ft,12,pt)):""!==e.fichier?(Object(n["u"])(),Object(n["g"])("a",{key:1,class:"bouton icone",href:o.definirRacine()+"fichiers/"+c.id+"/"+e.fichier,target:"_blank",title:"Télécharger le fichier",style:Object(n["q"])({"border-color":e.couleur,color:o.modifierCouleur(e.couleur,-20)})},mt,12,jt)):Object(n["f"])("",!0),!0===e.hasOwnProperty("listeCriteres")&&e.listeCriteres.length>0?(Object(n["u"])(),Object(n["g"])("span",{key:2,class:"bouton icone",role:"button",tabindex:"0",style:Object(n["q"])({"border-color":e.couleur,color:o.modifierCouleur(e.couleur,-20)}),onClick:function(t){return o.ouvrirModaleCriteres(e.listeCriteres)}},yt,12,vt)):Object(n["f"])("",!0),!0===e.hasOwnProperty("depot")&&"oui"===e.depot&&!0===e.hasOwnProperty("travaux")&&e.travaux.length>0?(Object(n["u"])(),Object(n["g"])("span",{key:3,class:"bouton icone travaux",role:"button",tabindex:"0",title:"Afficher les travaux",style:Object(n["q"])({"border-color":e.couleur}),onClick:function(t){return o.ouvrirModaleTravaux(e)}},$t,12,kt)):Object(n["f"])("",!0)])):Object(n["f"])("",!0)],2),Object(n["h"])("div",Ct,[!0===e.visibilite?(Object(n["u"])(),Object(n["g"])("span",{key:0,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Masquer"},wt,8,qt)):(Object(n["u"])(),Object(n["g"])("span",{key:1,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Afficher"},Pt,8,Mt)),Object(n["h"])("span",{onClick:function(t){return o.ouvrirModaleBloc("edition",e)},title:"Éditer"},Lt,8,Dt),Object(n["h"])("span",{onClick:function(t){return o.afficherSupprimerBloc(e.id)},title:"Supprimer"},It,8,Et)])],14,Be))],64)})),128))]})),_:1},8,["modelValue","swap-threshold","onEnd"])):c.blocs.length>0&&!c.admin?(Object(n["u"])(),Object(n["g"])("div",Rt,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.blocs,(function(t,i){return Object(n["u"])(),Object(n["g"])(n["a"],{key:"bloc_"+i},[!0===t.visibilite&&"section"===t.type?(Object(n["u"])(),Object(n["g"])("article",{key:0,id:t.id,class:"bloc section"},[Object(n["h"])("div",Vt,[Object(n["h"])("span",{class:"titre",style:Object(n["q"])({"border-color":t.couleur})},Object(n["D"])(t.titre),5),""!==t.texte?(Object(n["u"])(),Object(n["g"])("span",{key:0,class:"texte",innerHTML:t.texte},null,8,Ht)):Object(n["f"])("",!0)])],8,zt)):!0===t.visibilite&&"section"!==t.type?(Object(n["u"])(),Object(n["g"])("article",{key:1,id:t.id,class:Object(n["p"])(["bloc",{verrouille:!0===t.hasOwnProperty("code")&&""!==t.code}]),style:Object(n["q"])({background:o.eclaircirCouleur(t.couleur)})},[Object(n["h"])("div",{class:"vignette",style:Object(n["q"])({"border-color":t.couleur,color:o.modifierCouleur(t.couleur,-20)})},[!0===t.hasOwnProperty("code")&&""!==t.code?(Object(n["u"])(),Object(n["g"])("span",Ft,Bt)):t.hasOwnProperty("code")&&""!==t.code||"icone"!==t.vignette.substring(0,5)?(Object(n["u"])(),Object(n["g"])("span",Gt,[Object(n["h"])("img",{src:o.definirRacine()+"static/vignettes/"+t.vignette+".png"},null,8,Kt)])):(Object(n["u"])(),Object(n["g"])("span",Qt,[Object(n["h"])("i",Xt,Object(n["D"])(t.vignette.substring(6)),1)])),t.hasOwnProperty("code")&&""!==t.code||!(t.heures>0||t.minutes>0)?Object(n["f"])("",!0):(Object(n["u"])(),Object(n["g"])("span",Ut,Object(n["D"])(o.definirDuree(t.heures,t.minutes)),1))],4),Object(n["j"])(n["b"],{name:"fondu"},{default:Object(n["H"])((function(){return[c.chargement&&t.id===c.blocId?(Object(n["u"])(),Object(n["g"])("div",{key:0,class:"masque-chargement",style:Object(n["q"])({background:t.couleur})},[Object(n["h"])("div",Wt,[Object(n["h"])("div",{class:"chargement",style:Object(n["q"])({"border-top-color":o.modifierCouleur(t.couleur,-20)})},null,4)])],4)):Object(n["f"])("",!0)]})),_:2},1024),t.hasOwnProperty("code")&&""!==t.code?!0===t.hasOwnProperty("code")&&""!==t.code?(Object(n["u"])(),Object(n["g"])("div",xi,[Object(n["h"])("span",{class:"titre",style:Object(n["q"])({"border-color":t.couleur})},Object(n["D"])(t.titre),5),$i,Object(n["h"])("input",{type:"text",placeholder:"Code d'accès pour débloquer le contenu",style:Object(n["q"])({"border-color":t.couleur}),onKeydown:Object(n["J"])((function(e){return o.debloquerEtape(t.id)}),["enter"])},null,44,Ci),Object(n["h"])("div",qi,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",style:Object(n["q"])({"border-color":t.couleur}),onClick:function(e){return o.debloquerEtape(t.id)}},"Valider",12,_i),""!==t.indice?(Object(n["u"])(),Object(n["g"])("span",{key:0,class:"bouton icone",role:"button",tabindex:"0",style:Object(n["q"])({color:t.couleur}),onClick:function(i){return e.$parent.$parent.message=t.indice}},Si,12,wi)):Object(n["f"])("",!0)])])):Object(n["f"])("",!0):(Object(n["u"])(),Object(n["g"])("div",{key:0,class:Object(n["p"])(["contenu",t.type])},[Object(n["h"])("span",{class:"titre",style:Object(n["q"])({"border-color":t.couleur})},Object(n["D"])(t.titre),5),""!==t.texte?(Object(n["u"])(),Object(n["g"])("span",{key:0,class:"texte",innerHTML:t.texte},null,8,Yt)):Object(n["f"])("",!0),""!==t.date&&""!==t.debut&&""!==t.fin?(Object(n["u"])(),Object(n["g"])("div",Zt,[Object(n["h"])("span",ei,[ti,Object(n["i"])(Object(n["D"])(o.definirDate(t.date)),1)]),Object(n["h"])("span",ii,[ni,Object(n["i"])(Object(n["D"])(o.definirHoraire(t.date,t.debut,t.fin)),1)])])):Object(n["f"])("",!0),""!==t.lieu&&!1===t.lieu.includes("http")?(Object(n["u"])(),Object(n["g"])("span",ri,[ci,Object(n["h"])("a",{href:"https://www.openstreetmap.org/search?query="+t.lieu,target:"_blank"},Object(n["D"])(t.lieu),9,oi)])):""!==t.lieu&&!0===t.lieu.includes("http")?(Object(n["u"])(),Object(n["g"])("span",si,[ai,Object(n["h"])("a",{href:t.lieu,target:"_blank"},Object(n["D"])(o.definirDomaine(t.lieu)),9,li)])):Object(n["f"])("",!0),""!==t.lien||""!==t.fichier||!0===t.hasOwnProperty("depot")&&"oui"===t.depot||!0===t.hasOwnProperty("listeCriteres")&&t.listeCriteres.length>0?(Object(n["u"])(),Object(n["g"])("div",ui,[""!==t.lien?(Object(n["u"])(),Object(n["g"])("a",{key:0,class:"bouton icone",href:t.lien,target:"_blank",title:"Ouvrir le lien",style:Object(n["q"])({"border-color":t.couleur,color:o.modifierCouleur(t.couleur,-20)})},pi,12,di)):""!==t.fichier?(Object(n["u"])(),Object(n["g"])("a",{key:1,class:"bouton icone",href:o.definirRacine()+"fichiers/"+c.id+"/"+t.fichier,target:"_blank",title:"Télécharger le fichier",style:Object(n["q"])({"border-color":t.couleur,color:o.modifierCouleur(t.couleur,-20)})},ji,12,bi)):Object(n["f"])("",!0),!0===t.hasOwnProperty("listeCriteres")&&t.listeCriteres.length>0?(Object(n["u"])(),Object(n["g"])("span",{key:2,class:"bouton icone",role:"button",tabindex:"0",style:Object(n["q"])({"border-color":t.couleur,color:o.modifierCouleur(t.couleur,-20)}),onClick:function(e){return o.ouvrirModaleCriteres(t.listeCriteres)}},vi,12,Oi)):Object(n["f"])("",!0),!0===t.hasOwnProperty("depot")&&"oui"===t.depot?(Object(n["u"])(),Object(n["g"])("span",{key:3,class:"bouton icone travaux",role:"button",tabindex:"0",title:"Déposer ou consulter un travail",style:Object(n["q"])({"border-color":t.couleur}),onClick:function(e){return o.ouvrirModaleDepot(t.id)}},ki,12,gi)):Object(n["f"])("",!0)])):Object(n["f"])("",!0)],2))],14,At)):Object(n["f"])("",!0)],64)})),128))])):0===c.blocs.length&&!1===e.$parent.$parent.chargement?(Object(n["u"])(),Object(n["g"])("div",Pi,Ti)):Object(n["f"])("",!0)])])]),"bloc"===c.modale?(Object(n["u"])(),Object(n["g"])("div",Li,[Object(n["h"])("div",Ei,[Object(n["h"])("header",null,["creation"===c.mode&&"-"===c.type?(Object(n["u"])(),Object(n["g"])("span",Ni,"Ajouter une étape")):"creation"===c.mode&&"section"===c.type?(Object(n["u"])(),Object(n["g"])("span",Ii,"Ajouter une section")):"creation"===c.mode&&"seance"===c.type?(Object(n["u"])(),Object(n["g"])("span",Ri,"Ajouter une séance")):"creation"===c.mode&&"document"===c.type?(Object(n["u"])(),Object(n["g"])("span",zi,"Ajouter un document")):"creation"===c.mode&&"exercice"===c.type?(Object(n["u"])(),Object(n["g"])("span",Vi,"Ajouter un exercice")):"creation"===c.mode&&"activite"===c.type?(Object(n["u"])(),Object(n["g"])("span",Hi,"Ajouter une activité")):(Object(n["u"])(),Object(n["g"])("span",Ai,"Modifier cette étape")),Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[6]||(t[6]=function(){return o.fermerModaleContenu&&o.fermerModaleContenu.apply(o,arguments)})},Ji)]),Object(n["h"])("div",Bi,[Object(n["h"])("div",Qi,[Xi,Object(n["h"])("input",{id:"champ-titre",type:"text",placeholder:"Ajouter un titre",value:c.titre,onInput:t[7]||(t[7]=function(e){return c.titre=e.target.value})},null,40,Gi),"-"===c.type||"section"===c.type||"seance"===c.type||"document"===c.type?(Object(n["u"])(),Object(n["g"])("label",Ki,"Description")):(Object(n["u"])(),Object(n["g"])("label",Ui,"Consigne")),Wi,Yi,Object(n["h"])("select",{onChange:t[8]||(t[8]=function(e){return o.modifierType(e.target.value)})},[Object(n["h"])("option",{value:"-",selected:"-"===c.type},"-",8,Zi),Object(n["h"])("option",{value:"section",selected:"section"===c.type},"-Section-",8,en),Object(n["h"])("option",{value:"seance",selected:"seance"===c.type},"Séance (en présence ou à distance)",8,tn),Object(n["h"])("option",{value:"document",selected:"document"===c.type},"Document (fichier ou lien)",8,nn),Object(n["h"])("option",{value:"exercice",selected:"exercice"===c.type},"Exercice",8,rn),Object(n["h"])("option",{value:"activite",selected:"activite"===c.type},"Activité",8,cn)],32),"-"!==c.type&&"section"!==c.type?(Object(n["u"])(),Object(n["g"])("div",on,["seance"===c.type?(Object(n["u"])(),Object(n["g"])(n["a"],{key:0},[Object(n["h"])("div",sn,[Object(n["h"])("div",an,[ln,Object(n["h"])("input",{id:"champ-date",type:"date",value:c.date,onInput:t[9]||(t[9]=function(e){return c.date=e.target.value})},null,40,un)]),Object(n["h"])("div",dn,[hn,Object(n["h"])("input",{id:"champ-debut",type:"time",value:c.debut,onInput:t[10]||(t[10]=function(e){return c.debut=e.target.value})},null,40,pn)]),Object(n["h"])("div",bn,[fn,Object(n["h"])("input",{id:"champ-fin",type:"time",value:c.fin,onInput:t[11]||(t[11]=function(e){return c.fin=e.target.value})},null,40,jn)])]),On,Object(n["h"])("input",{id:"champ-lieu",type:"text",placeholder:"Exemple : 5 rue des fleurs, 2000 La Digitale ou https://meet.jit.si",value:c.lieu,onInput:t[12]||(t[12]=function(e){return c.lieu=e.target.value})},null,40,mn)],64)):"document"===c.type||"exercice"===c.type||"activite"===c.type?(Object(n["u"])(),Object(n["g"])(n["a"],{key:1},[vn,Object(n["h"])("select",{onChange:t[13]||(t[13]=function(e){return o.modifierRessource(e.target.value)})},["activite"===c.type?(Object(n["u"])(),Object(n["g"])("option",{key:0,value:"-",selected:"-"===c.ressource},"-",8,gn)):Object(n["f"])("",!0),Object(n["h"])("option",{value:"lien",selected:"lien"===c.ressource},"Lien",8,yn),Object(n["h"])("option",{value:"fichier",selected:"fichier"===c.ressource},"Fichier",8,kn)],32),"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("label",xn,"Lien")):Object(n["f"])("",!0),"document"===c.type&&"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("input",{key:1,id:"champ-lien",type:"text",placeholder:"Exemples : https://ladigitale.dev/digiplay, https://ladigitale.dev/digiread",value:c.lien,onInput:t[14]||(t[14]=function(e){return c.lien=e.target.value})},null,40,$n)):"exercice"===c.type&&"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("input",{key:2,id:"champ-lien",type:"text",placeholder:"Exemples : https://digistorm.app, https://ladigitale.dev/digiquiz",value:c.lien,onInput:t[15]||(t[15]=function(e){return c.lien=e.target.value})},null,40,Cn)):"activite"===c.type&&"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("input",{key:3,id:"champ-lien",type:"text",placeholder:"Exemples : https://digipad.app, https://ladigitale.dev/digidoc",value:c.lien,onInput:t[16]||(t[16]=function(e){return c.lien=e.target.value})},null,40,qn)):Object(n["f"])("",!0),"fichier"===c.ressource?(Object(n["u"])(),Object(n["g"])("label",_n,"Fichier (max. 2 Mo)")):Object(n["f"])("",!0),"fichier"===c.ressource?(Object(n["u"])(),Object(n["g"])("div",wn,["edition"===c.mode&&""!==c.fichier&&c.ancienFichier===c.fichier?(Object(n["u"])(),Object(n["g"])("a",{key:0,class:"bouton",href:o.definirRacine()+"fichiers/"+c.id+"/"+c.fichier,target:"_blank"},"Voir le fichier actuel",8,Mn)):Object(n["f"])("",!0),""===c.fichier?(Object(n["u"])(),Object(n["g"])("label",Sn,"Sélectionner un fichier")):"creation"===c.mode&&""!==c.fichier?(Object(n["u"])(),Object(n["g"])("label",Pn,Object(n["D"])(c.fichier),1)):"edition"===c.mode&&""!==c.fichier&&c.ancienFichier===c.fichier?(Object(n["u"])(),Object(n["g"])("label",Dn,"Remplacer le fichier actuel")):"edition"===c.mode&&""!==c.fichier&&c.ancienFichier!==c.fichier?(Object(n["u"])(),Object(n["g"])("label",Tn,Object(n["D"])(c.fichier),1)):Object(n["f"])("",!0),Object(n["h"])("input",{id:"televerser",type:"file",accept:".jpg, .jpeg, .png, .gif, .mp3, .mp4, .pdf, .doc, .docx, .odt, .ppt, .pptx, .odp, .xls, .xlsx, .ods",onChange:t[17]||(t[17]=function(){return o.selectionnerFichier&&o.selectionnerFichier.apply(o,arguments)}),style:{display:"none"}},null,32)])):Object(n["f"])("",!0)],64)):Object(n["f"])("",!0),"activite"===c.type?(Object(n["u"])(),Object(n["g"])(n["a"],{key:2},[Ln,Object(n["h"])("div",En,[Object(n["h"])("span",Nn,[Object(n["h"])("input",{type:"radio",id:"depot_oui",name:"depot",value:"oui",checked:"oui"===c.depot,onChange:t[18]||(t[18]=function(e){return c.depot=e.target.value})},null,40,In),Rn]),Object(n["h"])("span",zn,[Object(n["h"])("input",{type:"radio",id:"depot_non",name:"depot",value:"non",checked:"non"===c.depot,onChange:t[19]||(t[19]=function(e){return c.depot=e.target.value})},null,40,Vn),Hn])]),An,Object(n["h"])("div",Fn,[Object(n["h"])("span",Jn,[Object(n["h"])("input",{type:"radio",id:"criteres_oui",name:"criteres",value:"oui",checked:"oui"===c.criteres,onChange:t[20]||(t[20]=function(e){return o.modifierCriteres(e.target.value)})},null,40,Bn),Qn]),Object(n["h"])("span",Xn,[Object(n["h"])("input",{type:"radio",id:"criteres_non",name:"criteres",value:"non",checked:"non"===c.criteres,onChange:t[21]||(t[21]=function(e){return o.modifierCriteres(e.target.value)})},null,40,Gn),Kn])]),"oui"===c.criteres?(Object(n["u"])(),Object(n["g"])("div",Un,[Wn,Yn,(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.listeCriteres,(function(e,t){return Object(n["u"])(),Object(n["g"])("span",{class:"critere",key:"critere_"+t},[Object(n["h"])("input",{type:"text",placeholder:"Exemple : qualité de la langue",value:e.libelle,onInput:function(t){return e.libelle=t.target.value}},null,40,Zn),Object(n["h"])("select",{onChange:function(t){return e.etoiles=parseInt(t.target.value)}},[Object(n["h"])("option",{value:1,selected:1===e.etoiles},"1",8,tr),Object(n["h"])("option",{value:2,selected:2===e.etoiles},"2",8,ir),Object(n["h"])("option",{value:3,selected:3===e.etoiles},"3",8,nr),Object(n["h"])("option",{value:4,selected:4===e.etoiles},"4",8,rr),Object(n["h"])("option",{value:5,selected:5===e.etoiles},"5",8,cr),Object(n["h"])("option",{value:6,selected:6===e.etoiles},"6",8,or),Object(n["h"])("option",{value:7,selected:7===e.etoiles},"7",8,sr),Object(n["h"])("option",{value:8,selected:8===e.etoiles},"8",8,ar),Object(n["h"])("option",{value:9,selected:9===e.etoiles},"9",8,lr),Object(n["h"])("option",{value:10,selected:10===e.etoiles},"10",8,ur)],40,er)])})),128)),Object(n["h"])("div",dr,[Object(n["h"])("span",{role:"button",tabindex:"0",title:"Supprimer un critère",onClick:t[22]||(t[22]=function(){return o.supprimerCritere&&o.supprimerCritere.apply(o,arguments)})},pr),Object(n["h"])("span",{role:"button",tabindex:"0",title:"Ajouter un critère",onClick:t[23]||(t[23]=function(){return o.ajouterCritere&&o.ajouterCritere.apply(o,arguments)})},fr)])])):Object(n["f"])("",!0)],64)):Object(n["f"])("",!0),"seance"===c.type?(Object(n["u"])(),Object(n["g"])("label",jr,"Durée")):"document"===c.type?(Object(n["u"])(),Object(n["g"])("label",Or,"Durée estimée de consultation")):(Object(n["u"])(),Object(n["g"])("label",mr,"Durée estimée de réalisation")),Object(n["h"])("div",vr,[Object(n["h"])("select",{onChange:t[24]||(t[24]=function(e){return c.heures=parseInt(e.target.value)})},[Object(n["h"])("option",{value:0,selected:0===c.heures},"0",8,gr),Object(n["h"])("option",{value:1,selected:1===c.heures},"1",8,yr),Object(n["h"])("option",{value:2,selected:2===c.heures},"2",8,kr),Object(n["h"])("option",{value:3,selected:3===c.heures},"3",8,xr),Object(n["h"])("option",{value:4,selected:4===c.heures},"4",8,$r),Object(n["h"])("option",{value:5,selected:5===c.heures},"5",8,Cr),Object(n["h"])("option",{value:6,selected:6===c.heures},"6",8,qr),Object(n["h"])("option",{value:7,selected:7===c.heures},"7",8,_r),Object(n["h"])("option",{value:8,selected:8===c.heures},"8",8,wr),Object(n["h"])("option",{value:9,selected:9===c.heures},"9",8,Mr),Object(n["h"])("option",{value:10,selected:10===c.heures},"10",8,Sr),Object(n["h"])("option",{value:11,selected:11===c.heures},"11",8,Pr),Object(n["h"])("option",{value:12,selected:12===c.heures},"12",8,Dr)],32),Tr,Object(n["h"])("select",{onChange:t[25]||(t[25]=function(e){return c.minutes=parseInt(e.target.value)})},[Object(n["h"])("option",{value:0,selected:0===c.minutes},"00",8,Lr),Object(n["h"])("option",{value:5,selected:5===c.minutes},"05",8,Er),Object(n["h"])("option",{value:10,selected:10===c.minutes},"10",8,Nr),Object(n["h"])("option",{value:15,selected:15===c.minutes},"15",8,Ir),Object(n["h"])("option",{value:20,selected:20===c.minutes},"20",8,Rr),Object(n["h"])("option",{value:25,selected:25===c.minutes},"25",8,zr),Object(n["h"])("option",{value:30,selected:30===c.minutes},"30",8,Vr),Object(n["h"])("option",{value:35,selected:35===c.minutes},"35",8,Hr),Object(n["h"])("option",{value:40,selected:40===c.minutes},"40",8,Ar),Object(n["h"])("option",{value:45,selected:45===c.minutes},"45",8,Fr),Object(n["h"])("option",{value:50,selected:50===c.minutes},"50",8,Jr),Object(n["h"])("option",{value:55,selected:55===c.minutes},"55",8,Br)],32)])])):Object(n["f"])("",!0),"-"!==c.type&&"section"!==c.type?(Object(n["u"])(),Object(n["g"])(n["a"],{key:3},[Qr,Object(n["h"])("div",Xr,[Object(n["h"])("span",Gr,[Object(n["h"])("input",{type:"radio",id:"verrouillage_oui",name:"verrouillage",value:"oui",checked:"oui"===c.verrouillage,onChange:t[26]||(t[26]=function(e){return o.modifierVerrouillage(e.target.value)})},null,40,Kr),Ur]),Object(n["h"])("span",Wr,[Object(n["h"])("input",{type:"radio",id:"verrouillage_non",name:"verrouillage",value:"non",checked:"non"===c.verrouillage,onChange:t[27]||(t[27]=function(e){return o.modifierVerrouillage(e.target.value)})},null,40,Yr),Zr])]),"oui"===c.verrouillage?(Object(n["u"])(),Object(n["g"])("label",ec,"Code d'accès")):Object(n["f"])("",!0),"oui"===c.verrouillage?(Object(n["u"])(),Object(n["g"])("input",{key:1,id:"champ-code",type:"text",placeholder:"Ajouter un code",value:c.code,onInput:t[28]||(t[28]=function(e){return c.code=e.target.value})},null,40,tc)):Object(n["f"])("",!0),"oui"===c.verrouillage?(Object(n["u"])(),Object(n["g"])("label",ic,"Indice pour le code d'accès")):Object(n["f"])("",!0),"oui"===c.verrouillage?(Object(n["u"])(),Object(n["g"])("input",{key:3,id:"champ-indice",type:"text",placeholder:"Exemple : plante herbacée vénéneuse dont la tige porte une longue grappe de fleurs",value:c.indice,onInput:t[29]||(t[29]=function(e){return c.indice=e.target.value})},null,40,nc)):Object(n["f"])("",!0)],64)):Object(n["f"])("",!0),"-"!==c.type&&"section"!==c.type?(Object(n["u"])(),Object(n["g"])("label",rc,"Vignette")):Object(n["f"])("",!0),"seance"===c.type?(Object(n["u"])(),Object(n["g"])("select",{key:5,id:"vignette",onChange:t[30]||(t[30]=function(e){return o.modifierVignette(e.target.value)})},[Object(n["h"])("option",{value:"icone_meeting_room",selected:"icone_meeting_room"===c.vignette},"Icône classe",8,cc),Object(n["h"])("option",{value:"icone_devices",selected:"icone_devices"===c.vignette},"Icône visioconférence",8,oc),Object(n["h"])("option",{value:"jitsi",selected:"jitsi"===c.vignette},"Jitsi Meet",8,sc),Object(n["h"])("option",{value:"teams",selected:"teams"===c.vignette},"Microsoft Teams",8,ac),Object(n["h"])("option",{value:"zoom",selected:"zoom"===c.vignette},"Zoom",8,lc),Object(n["h"])("option",{value:"meet",selected:"meet"===c.vignette},"Google Meet",8,uc)],32)):"document"===c.type?(Object(n["u"])(),Object(n["g"])("select",{key:6,id:"vignette",onChange:t[31]||(t[31]=function(e){return o.modifierVignette(e.target.value)})},[Object(n["h"])("option",{value:"icone_article",selected:"icone_article"===c.vignette},"Icône document",8,dc),Object(n["h"])("option",{value:"icone_cloud_download",selected:"icone_cloud_download"===c.vignette},"Icône nuage",8,hc),Object(n["h"])("option",{value:"icone_explore",selected:"icone_explore"===c.vignette},"Icône explorer",8,pc),Object(n["h"])("option",{value:"ladigitale",selected:"ladigitale"===c.vignette},"La Digitale",8,bc),Object(n["h"])("option",{value:"wikipedia",selected:"wikipedia"===c.vignette},"Wikipedia",8,fc),Object(n["h"])("option",{value:"canoprof",selected:"canoprof"===c.vignette},"Canoprof",8,jc),Object(n["h"])("option",{value:"tv5monde",selected:"tv5monde"===c.vignette},"TV5MONDE",8,Oc),Object(n["h"])("option",{value:"lumni",selected:"lumni"===c.vignette},"Lumni",8,mc),Object(n["h"])("option",{value:"peertube",selected:"peertube"===c.vignette},"Peertube",8,vc),Object(n["h"])("option",{value:"pdf",selected:"pdf"===c.vignette},"Fichier PDF",8,gc),Object(n["h"])("option",{value:"odt",selected:"odt"===c.vignette},"LibreOffice Writer",8,yc),Object(n["h"])("option",{value:"odp",selected:"odp"===c.vignette},"LibreOffice Impress",8,kc),Object(n["h"])("option",{value:"ods",selected:"ods"===c.vignette},"LibreOffice Calc",8,xc),Object(n["h"])("option",{value:"doc",selected:"doc"===c.vignette},"Microsoft Word",8,$c),Object(n["h"])("option",{value:"ppt",selected:"ppt"===c.vignette},"Microsoft Powerpoint",8,Cc),Object(n["h"])("option",{value:"xls",selected:"xls"===c.vignette},"Microsoft Excel",8,qc),Object(n["h"])("option",{value:"gdoc",selected:"gdoc"===c.vignette},"Google Document",8,_c),Object(n["h"])("option",{value:"gslides",selected:"gslides"===c.vignette},"Google Slides",8,wc),Object(n["h"])("option",{value:"gsheets",selected:"gsheets"===c.vignette},"Google Sheets",8,Mc),Object(n["h"])("option",{value:"genially",selected:"genially"===c.vignette},"Genially",8,Sc),Object(n["h"])("option",{value:"youtube",selected:"youtube"===c.vignette},"Youtube",8,Pc),Object(n["h"])("option",{value:"vimeo",selected:"vimeo"===c.vignette},"Vimeo",8,Dc)],32)):"exercice"===c.type?(Object(n["u"])(),Object(n["g"])("select",{key:7,id:"vignette",onChange:t[32]||(t[32]=function(e){return o.modifierVignette(e.target.value)})},[Object(n["h"])("option",{value:"icone_check_circle",selected:"icone_check_circle"===c.vignette},"Icône exercice",8,Tc),Object(n["h"])("option",{value:"ladigitale",selected:"ladigitale"===c.vignette},"La Digitale",8,Lc),Object(n["h"])("option",{value:"h5p",selected:"h5p"===c.vignette},"H5P",8,Ec),Object(n["h"])("option",{value:"learningapps",selected:"learningapps"===c.vignette},"Learning Apps",8,Nc),Object(n["h"])("option",{value:"snacks",selected:"snacks"===c.vignette},"Learning Snacks",8,Ic),Object(n["h"])("option",{value:"quizlet",selected:"quizlet"===c.vignette},"Quizlet",8,Rc)],32)):"activite"===c.type?(Object(n["u"])(),Object(n["g"])("select",{key:8,id:"vignette",onChange:t[33]||(t[33]=function(e){return o.modifierVignette(e.target.value)})},[Object(n["h"])("option",{value:"icone_lightbulb",selected:"icone_lightbulb"===c.vignette},"Icône activite",8,zc),Object(n["h"])("option",{value:"icone_assessment",selected:"icone_assessment"===c.vignette},"Icône évaluation",8,Vc),Object(n["h"])("option",{value:"icone_check_circle",selected:"icone_check_circle"===c.vignette},"Icône coche",8,Hc),Object(n["h"])("option",{value:"ladigitale",selected:"ladigitale"===c.vignette},"La Digitale",8,Ac),Object(n["h"])("option",{value:"h5p",selected:"h5p"===c.vignette},"H5P",8,Fc),Object(n["h"])("option",{value:"quiziniere",selected:"quiziniere"===c.vignette},"QuiZinière",8,Jc),Object(n["h"])("option",{value:"vocaroo",selected:"vocaroo"===c.vignette},"Vocaroo",8,Bc),Object(n["h"])("option",{value:"flipgrid",selected:"flipgrid"===c.vignette},"Flipgrid",8,Qc),Object(n["h"])("option",{value:"genially",selected:"genially"===c.vignette},"Genially",8,Xc)],32)):Object(n["f"])("",!0),"-"!==c.type&&"section"!==c.type?(Object(n["u"])(),Object(n["g"])("div",Gc,["icone"===c.vignette.substring(0,5)?(Object(n["u"])(),Object(n["g"])("i",Kc,Object(n["D"])(c.vignette.substring(6)),1)):(Object(n["u"])(),Object(n["g"])("img",{key:1,src:o.definirRacine()+"static/vignettes/"+c.vignette+".png"},null,8,Uc))])):Object(n["f"])("",!0),Wc,Object(n["h"])("div",Yc,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.couleurs,(function(e,t){return Object(n["u"])(),Object(n["g"])("span",{class:Object(n["p"])({selectionne:e===c.couleur}),style:Object(n["q"])({background:e}),onClick:function(t){return o.selectionnerCouleur(e)},key:"couleur_"+t},null,14,Zc)})),128)),Object(n["h"])("span",eo,[to,c.couleurs.includes(c.couleur)?(Object(n["u"])(),Object(n["g"])("input",{key:0,type:"color",id:"couleur",value:"#dddddd",title:"Sélectionner une couleur",onChange:t[34]||(t[34]=function(e){return o.selectionnerCouleur(e.target.value)})},null,32)):(Object(n["u"])(),Object(n["g"])("input",{key:1,type:"color",id:"couleur",class:"selectionne",title:"Sélectionner une couleur",onChange:t[35]||(t[35]=function(e){return o.selectionnerCouleur(e.target.value)})},null,32))])])])]),"creation"===c.mode?(Object(n["u"])(),Object(n["g"])("div",{key:0,id:"valider",role:"button",tabindex:"0",onClick:t[36]||(t[36]=function(){return o.ajouterBloc&&o.ajouterBloc.apply(o,arguments)})},"Valider")):(Object(n["u"])(),Object(n["g"])("div",{key:1,id:"valider",role:"button",tabindex:"0",onClick:t[37]||(t[37]=function(){return o.modifierBloc&&o.modifierBloc.apply(o,arguments)})},"Modifier"))])])):"televerser"===c.modale?(Object(n["u"])(),Object(n["g"])("div",io,[Object(n["h"])("div",no,[ro,Object(n["h"])("div",co,[Object(n["h"])("div",oo,[Object(n["h"])("div",so,[Object(n["h"])("progress",{class:"barre-progression",max:"100",value:c.progression},null,8,ao),lo])])])])])):"supprimer-bloc"===c.modale?(Object(n["u"])(),Object(n["g"])("div",uo,[Object(n["h"])("div",ho,[Object(n["h"])("div",po,[Object(n["h"])("div",bo,[fo,Object(n["h"])("div",jo,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[38]||(t[38]=function(e){return c.modale=""})},"Non"),Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[39]||(t[39]=function(){return o.supprimerBloc&&o.supprimerBloc.apply(o,arguments)})},"Oui")])])])])])):"travaux"===c.modale?(Object(n["u"])(),Object(n["g"])("div",Oo,[Object(n["h"])("div",mo,[Object(n["h"])("header",null,[vo,Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[40]||(t[40]=function(){return o.fermerModaleTravaux&&o.fermerModaleTravaux.apply(o,arguments)})},yo)]),Object(n["h"])("div",ko,[Object(n["h"])("div",xo,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.travaux,(function(e,i){return Object(n["u"])(),Object(n["g"])("div",{id:"travail"+e.motdepasse,class:"travail",key:"travail_"+i},[Object(n["h"])("span",Co,[qo,Object(n["h"])("b",null,Object(n["D"])(e.pseudo),1),Object(n["i"])(" "+Object(n["D"])(o.definirDateEtHeure(e.date))+" ",1),Object(n["h"])("span",_o,"(mot de passe : "+Object(n["D"])(e.motdepasse)+")",1)]),Object(n["h"])("div",wo,[""!==e.lien?(Object(n["u"])(),Object(n["g"])("a",{key:0,class:"bouton icone",href:e.lien,target:"_blank",title:"Ouvrir le lien vers le travail"},Po,8,Mo)):""!==e.fichier?(Object(n["u"])(),Object(n["g"])("a",{key:1,class:"bouton icone",href:o.definirRacine()+"fichiers/"+c.id+"/"+e.fichier,target:"_blank",title:"Télécharger le travail"},Lo,8,Do)):Object(n["f"])("",!0),parseInt(e.motdepasse)!==parseInt(c.motdepasse)&&""===e.retroaction?(Object(n["u"])(),Object(n["g"])("span",{key:2,class:"bouton icone evaluer",role:"button",tabindex:"0",title:"Évaluer",onClick:function(t){return o.afficherRetroaction(e)}},Io,8,Eo)):parseInt(e.motdepasse)!==parseInt(c.motdepasse)&&""!==e.retroaction?(Object(n["u"])(),Object(n["g"])("span",{key:3,class:"bouton icone evaluer",role:"button",tabindex:"0",title:"Modifier l'évaluation",onClick:function(t){return o.afficherRetroaction(e)}},Vo,8,Ro)):Object(n["f"])("",!0)]),parseInt(e.motdepasse)===parseInt(c.motdepasse)?(Object(n["u"])(),Object(n["g"])("div",Ho,[c.listeCriteres.length>0?(Object(n["u"])(),Object(n["g"])("div",Ao,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.listeCriteres,(function(e,t){return Object(n["u"])(),Object(n["g"])(n["a"],{key:"critere_"+t},[Object(n["h"])("label",null,Object(n["D"])(e.libelle),1),Object(n["h"])("div",Fo,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.evaluation[t],(function(e){return Object(n["u"])(),Object(n["g"])("span",{class:"etoile",onClick:function(i){return c.evaluation[t]=e},key:"etoile_"+e},Qo,8,Jo)})),128)),(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(e.etoiles-c.evaluation[t],(function(e){return Object(n["u"])(),Object(n["g"])("span",{class:"etoile",onClick:function(i){return c.evaluation[t]=c.evaluation[t]+e},key:"etoile_"+e},Ko,8,Xo)})),128))])],64)})),128))])):Object(n["f"])("",!0),Uo,Object(n["h"])("div",Wo,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[41]||(t[41]=function(){return o.annulerRetroaction&&o.annulerRetroaction.apply(o,arguments)})},"Annuler"),Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[42]||(t[42]=function(){return o.enregistrerRetroaction&&o.enregistrerRetroaction.apply(o,arguments)})},"Enregistrer")])])):Object(n["f"])("",!0)],8,$o)})),128))])]),"deposer"===c.mode||"afficher"===c.mode?(Object(n["u"])(),Object(n["g"])("div",{key:0,id:"valider",role:"button",tabindex:"0",onClick:t[43]||(t[43]=function(){return o.deposer&&o.deposer.apply(o,arguments)})},"Valider")):"verifier"===c.mode?(Object(n["u"])(),Object(n["g"])("div",{key:1,id:"valider",role:"button",tabindex:"0",onClick:t[44]||(t[44]=function(){return o.verifier&&o.verifier.apply(o,arguments)})},"Valider")):Object(n["f"])("",!0)])])):"depot"===c.modale?(Object(n["u"])(),Object(n["g"])("div",Yo,[Object(n["h"])("div",{id:"travail",class:Object(n["p"])(["modale",{deposer:"deposer"===c.mode||"afficher"===c.mode,verifier:"verifier"===c.mode}])},[Object(n["h"])("header",null,["deposer"===c.mode?(Object(n["u"])(),Object(n["g"])("span",Zo,"Déposer un travail")):"verifier"===c.mode||"afficher"===c.mode?(Object(n["u"])(),Object(n["g"])("span",es,"Consulter un travail")):(Object(n["u"])(),Object(n["g"])("span",ts,"Déposer ou consulter un travail")),Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[45]||(t[45]=function(){return o.fermerModaleDepot&&o.fermerModaleDepot.apply(o,arguments)})},ns)]),Object(n["h"])("div",rs,[Object(n["h"])("div",cs,[""===c.mode||"-"===c.mode?(Object(n["u"])(),Object(n["g"])("label",os,"Je veux...")):Object(n["f"])("",!0),""===c.mode||"-"===c.mode?(Object(n["u"])(),Object(n["g"])("select",{key:1,onChange:t[46]||(t[46]=function(e){return o.modifierModeDepot(e.target.value)})},us,32)):Object(n["f"])("",!0),"deposer"===c.mode?(Object(n["u"])(),Object(n["g"])(n["a"],{key:2},[ds,Object(n["h"])("input",{type:"text",value:c.pseudo,placeholder:"Nom ou pseudo",onInput:t[47]||(t[47]=function(e){return c.pseudo=e.target.value})},null,40,hs),ps,Object(n["h"])("input",{type:"text",value:c.motdepasse,disabled:""},null,8,bs),fs,Object(n["h"])("select",{onChange:t[48]||(t[48]=function(e){return o.modifierRessourceDepot(e.target.value)})},[Object(n["h"])("option",{value:"lien",selected:"lien"===c.ressource},"Lien",8,js),Object(n["h"])("option",{value:"fichier",selected:"fichier"===c.ressource},"Fichier",8,Os)],32),"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("label",ms,"Lien")):Object(n["f"])("",!0),"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("input",{key:1,id:"champ-lien",type:"text",value:c.lien,placeholder:"https://...",onInput:t[49]||(t[49]=function(e){return c.lien=e.target.value})},null,40,vs)):Object(n["f"])("",!0),"fichier"===c.ressource?(Object(n["u"])(),Object(n["g"])("label",gs,"Fichier (max. 2 Mo)")):Object(n["f"])("",!0),"fichier"===c.ressource?(Object(n["u"])(),Object(n["g"])("div",ys,[""===c.fichier?(Object(n["u"])(),Object(n["g"])("label",ks,"Sélectionner un fichier")):(Object(n["u"])(),Object(n["g"])("label",xs,Object(n["D"])(c.fichier),1)),Object(n["h"])("input",{id:"televerser",type:"file",accept:".jpg, .jpeg, .png, .gif, .mp3, .mp4, .pdf, .doc, .docx, .odt, .ppt, .pptx, .odp, .xls, .xlsx, .ods",onChange:t[50]||(t[50]=function(){return o.selectionnerFichier&&o.selectionnerFichier.apply(o,arguments)}),style:{display:"none"}},null,32)])):Object(n["f"])("",!0)],64)):"verifier"===c.mode?(Object(n["u"])(),Object(n["g"])(n["a"],{key:3},[$s,Object(n["h"])("input",{type:"text",value:c.motdepasse,placeholder:"6 chiffres",onInput:t[51]||(t[51]=function(e){return c.motdepasse=e.target.value}),onKeydown:t[52]||(t[52]=Object(n["J"])((function(){return o.verifier&&o.verifier.apply(o,arguments)}),["enter"]))},null,40,Cs)],64)):"afficher"===c.mode?(Object(n["u"])(),Object(n["g"])(n["a"],{key:4},[qs,Object(n["h"])("input",{type:"text",value:c.pseudo,placeholder:"Nom ou pseudo",onInput:t[53]||(t[53]=function(e){return c.pseudo=e.target.value})},null,40,_s),ws,Object(n["h"])("input",{type:"text",value:c.motdepasse,disabled:""},null,8,Ms),Ss,Object(n["h"])("select",{onChange:t[54]||(t[54]=function(e){return o.modifierRessourceDepot(e.target.value)})},[Object(n["h"])("option",{value:"lien",selected:"lien"===c.ressource},"Lien",8,Ps),Object(n["h"])("option",{value:"fichier",selected:"fichier"===c.ressource},"Fichier",8,Ds)],32),"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("label",Ts,"Lien")):Object(n["f"])("",!0),"lien"===c.ressource?(Object(n["u"])(),Object(n["g"])("input",{key:1,id:"champ-lien",type:"text",value:c.lien,placeholder:"https://...",onInput:t[55]||(t[55]=function(e){return c.lien=e.target.value})},null,40,Ls)):Object(n["f"])("",!0),"fichier"===c.ressource?(Object(n["u"])(),Object(n["g"])("label",Es,"Fichier (max. 2 Mo)")):Object(n["f"])("",!0),"fichier"===c.ressource?(Object(n["u"])(),Object(n["g"])("div",Ns,[""!==c.fichier&&c.ancienFichier===c.fichier?(Object(n["u"])(),Object(n["g"])("a",{key:0,class:"bouton",href:o.definirRacine()+"fichiers/"+c.id+"/"+c.fichier,target:"_blank"},"Voir le fichier actuel",8,Is)):Object(n["f"])("",!0),""===c.fichier?(Object(n["u"])(),Object(n["g"])("label",Rs,"Sélectionner un fichier")):""!==c.fichier&&c.ancienFichier===c.fichier?(Object(n["u"])(),Object(n["g"])("label",zs,"Remplacer le fichier actuel")):""!==c.fichier&&c.ancienFichier!==c.fichier?(Object(n["u"])(),Object(n["g"])("label",Vs,Object(n["D"])(c.fichier),1)):Object(n["f"])("",!0),Object(n["h"])("input",{id:"televerser",type:"file",accept:".jpg, .jpeg, .png, .gif, .mp3, .mp4, .pdf, .doc, .docx, .odt, .ppt, .pptx, .odp, .xls, .xlsx, .ods",onChange:t[56]||(t[56]=function(){return o.selectionnerFichier&&o.selectionnerFichier.apply(o,arguments)}),style:{display:"none"}},null,32)])):Object(n["f"])("",!0),Hs,""!==c.retroaction?(Object(n["u"])(),Object(n["g"])("div",{key:4,id:"commentaire",innerHTML:c.retroaction},null,8,As)):(Object(n["u"])(),Object(n["g"])("div",Fs,"Aucun commentaire.")),c.evaluation.length>0?(Object(n["u"])(),Object(n["g"])("div",Js,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.listeCriteres,(function(e,t){return Object(n["u"])(),Object(n["g"])(n["a"],{key:"critere_"+t},[Object(n["h"])("label",null,Object(n["D"])(e.libelle),1),Object(n["h"])("div",Bs,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.evaluation[t],(function(e){return Object(n["u"])(),Object(n["g"])("span",{class:"etoile",key:"etoile_"+e},Xs)})),128)),(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(e.etoiles-c.evaluation[t],(function(e){return Object(n["u"])(),Object(n["g"])("span",{class:"etoile",key:"etoile_"+e},Ks)})),128))])],64)})),128))])):Object(n["f"])("",!0)],64)):Object(n["f"])("",!0)])]),"deposer"===c.mode||"afficher"===c.mode?(Object(n["u"])(),Object(n["g"])("div",{key:0,id:"valider",role:"button",tabindex:"0",onClick:t[57]||(t[57]=function(){return o.deposer&&o.deposer.apply(o,arguments)})},"Valider")):"verifier"===c.mode?(Object(n["u"])(),Object(n["g"])("div",{key:1,id:"valider",role:"button",tabindex:"0",onClick:t[58]||(t[58]=function(){return o.verifier&&o.verifier.apply(o,arguments)})},"Valider")):Object(n["f"])("",!0)],2)])):"criteres"===c.modale?(Object(n["u"])(),Object(n["g"])("div",Us,[Object(n["h"])("div",Ws,[Object(n["h"])("header",null,[Ys,Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[59]||(t[59]=function(){return o.fermerModaleCriteres&&o.fermerModaleCriteres.apply(o,arguments)})},ea)]),Object(n["h"])("div",ta,[Object(n["h"])("div",ia,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.listeCriteres,(function(e,t){return Object(n["u"])(),Object(n["g"])(n["a"],{key:"critere_"+t},[Object(n["h"])("label",null,Object(n["D"])(e.libelle),1),Object(n["h"])("div",na,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(e.etoiles,(function(e){return Object(n["u"])(),Object(n["g"])("span",{class:"etoile",key:"etoile_"+e},ca)})),128))])],64)})),128))])])])])):"connexion"===c.modale?(Object(n["u"])(),Object(n["g"])("div",oa,[Object(n["h"])("div",sa,[Object(n["h"])("header",null,[aa,Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[60]||(t[60]=function(){return o.fermerModaleConnexion&&o.fermerModaleConnexion.apply(o,arguments)})},ua)]),Object(n["h"])("div",da,[Object(n["h"])("div",ha,[pa,Object(n["h"])("select",{value:c.question,onChange:t[61]||(t[61]=function(e){return c.question=e.target.value})},[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.questions,(function(e,t){return Object(n["u"])(),Object(n["g"])("option",{key:"option_"+t},Object(n["D"])(e),1)})),128))],40,ba),fa,Object(n["h"])("input",{type:"password",value:c.reponse,onInput:t[62]||(t[62]=function(e){return c.reponse=e.target.value}),onKeydown:t[63]||(t[63]=Object(n["J"])((function(){return o.debloquerParcours&&o.debloquerParcours.apply(o,arguments)}),["enter"]))},null,40,ja),Object(n["h"])("div",Oa,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[64]||(t[64]=function(){return o.debloquerParcours&&o.debloquerParcours.apply(o,arguments)})},"Valider")])])])])])):"parcours"===c.modale?(Object(n["u"])(),Object(n["g"])("div",ma,[Object(n["h"])("div",va,[Object(n["h"])("header",null,[ga,Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[65]||(t[65]=function(){return o.fermerModaleParcours&&o.fermerModaleParcours.apply(o,arguments)})},ka)]),Object(n["h"])("div",xa,[Object(n["h"])("div",$a,[Object(n["h"])("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[66]||(t[66]=function(){return o.ouvrirModaleNomParcours&&o.ouvrirModaleNomParcours.apply(o,arguments)})},"Modifier le nom du parcours"),Object(n["h"])("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[67]||(t[67]=function(){return o.ouvrirModaleAccesParcours&&o.ouvrirModaleAccesParcours.apply(o,arguments)})},"Modifier l'accès au parcours"),Object(n["h"])("span",{class:"bouton large rouge",role:"button",tabindex:"0",onClick:t[68]||(t[68]=function(){return o.afficherSupprimerParcours&&o.afficherSupprimerParcours.apply(o,arguments)})},"Supprimer le parcours"),Object(n["h"])("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[69]||(t[69]=function(){return o.terminerSession&&o.terminerSession.apply(o,arguments)})},"Terminer la session d'édition")])])])])):"modifier-nom"===c.modale?(Object(n["u"])(),Object(n["g"])("div",Ca,[Object(n["h"])("div",qa,[Object(n["h"])("header",null,[_a,Object(n["h"])("span",{class:"fermer",role:"button",onClick:t[70]||(t[70]=function(){return o.fermerModaleNomParcours&&o.fermerModaleNomParcours.apply(o,arguments)})},Ma)]),Object(n["h"])("div",Sa,[Object(n["h"])("div",Pa,[Da,Object(n["h"])("input",{type:"text",value:c.nouveaunom,onInput:t[71]||(t[71]=function(e){return c.nouveaunom=e.target.value}),onKeydown:t[72]||(t[72]=Object(n["J"])((function(){return o.modifierNomParcours&&o.modifierNomParcours.apply(o,arguments)}),["enter"]))},null,40,Ta),Object(n["h"])("div",La,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[73]||(t[73]=function(){return o.modifierNomParcours&&o.modifierNomParcours.apply(o,arguments)})},"Modifier")])])])])])):"modifier-acces"===c.modale?(Object(n["u"])(),Object(n["g"])("div",Ea,[Object(n["h"])("div",Na,[Object(n["h"])("header",null,[Ia,Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[74]||(t[74]=function(){return o.fermerModaleAccesParcours&&o.fermerModaleAccesParcours.apply(o,arguments)})},za)]),Object(n["h"])("div",Va,[Object(n["h"])("div",Ha,[Aa,Object(n["h"])("select",{value:c.question,onChange:t[75]||(t[75]=function(e){return c.question=e.target.value})},[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.questions,(function(e,t){return Object(n["u"])(),Object(n["g"])("option",{key:"option_"+t},Object(n["D"])(e),1)})),128))],40,Fa),Ja,Object(n["h"])("input",{type:"text",value:c.reponse,onInput:t[76]||(t[76]=function(e){return c.reponse=e.target.value})},null,40,Ba),Qa,Object(n["h"])("select",{value:c.nouvellequestion,onChange:t[77]||(t[77]=function(e){return c.nouvellequestion=e.target.value})},[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.questions,(function(e,t){return Object(n["u"])(),Object(n["g"])("option",{key:"option_"+t},Object(n["D"])(e),1)})),128))],40,Xa),Ga,Object(n["h"])("input",{type:"text",value:c.nouvellereponse,onInput:t[78]||(t[78]=function(e){return c.nouvellereponse=e.target.value}),onKeydown:t[79]||(t[79]=Object(n["J"])((function(){return o.modifierAccesParcours&&o.modifierAccesParcours.apply(o,arguments)}),["enter"]))},null,40,Ka),Object(n["h"])("div",Ua,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[80]||(t[80]=function(){return o.modifierAccesParcours&&o.modifierAccesParcours.apply(o,arguments)})},"Modifier")])])])])])):"supprimer-parcours"===c.modale?(Object(n["u"])(),Object(n["g"])("div",Wa,[Object(n["h"])("div",Ya,[Object(n["h"])("div",Za,[Object(n["h"])("div",el,[tl,Object(n["h"])("div",il,[Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[81]||(t[81]=function(e){return c.modale=""})},"Non"),Object(n["h"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[82]||(t[82]=function(){return o.supprimerParcours&&o.supprimerParcours.apply(o,arguments)})},"Oui")])])])])])):Object(n["f"])("",!0),Object(n["I"])(Object(n["h"])("div",nl,[Object(n["h"])("div",rl,[Object(n["h"])("header",null,[cl,Object(n["h"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[83]||(t[83]=function(e){return c.modale=""})},sl)]),al])],512),[[n["F"],"code-qr"===c.modale]])])}var ul=i("1da1"),dl=(i("96cf"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("159b"),i("5319"),i("b0c0"),i("a434"),i("fb6a"),i("e9c4"),i("b311")),hl=i.n(dl),pl=i("d5ff"),bl=i.n(pl),fl=i("2113"),jl=i("c1df"),Ol=i.n(jl),ml=i("bd7e"),vl=i.n(ml),gl=i("7d42"),yl={name:"Editeur",components:{draggable:gl["a"]},data:function(){return{modale:"",menu:"",admin:!1,id:"",question:"",questions:["Quel est mon mot préféré ?","Quel est mon film préféré ?","Quelle est ma chanson préférée ?","Quel est le prénom de ma mère ?","Quel est le prénom de mon père ?","Quel est le nom de ma rue ?","Quel est le nom de mon employeur ?","Quel est le nom de mon animal de compagnie ?"],reponse:"",nom:"",nouveaunom:"",nouvellequestion:"",nouvellereponse:"",blocs:[],mode:"creation",blocId:"",titre:"",texte:"",type:"-",date:"",debut:"",fin:"",lieu:"",ressource:"-",lien:"",fichier:"",ancienFichier:"",depot:"non",travaux:[],retroaction:"",evaluation:[],criteres:"non",listeCriteres:[],verrouillage:"non",code:"",indice:"",vignette:"",heures:0,minutes:0,couleur:"#00ced1",couleurs:["#00ced1","#55efc4","#74b9ff","#a29bfe","#ffeaa7","#fab1a0","#fea7c6"],pseudo:"",motdepasse:"",chargement:!1,codeqr:"",position:0,progression:0}},watch:{modale:function(e){""!==e&&(this.menu="")}},created:function(){this.id=this.$route.params.id,this.$parent.$parent.chargement=!1;var e=new XMLHttpRequest;e.onload=function(){if(e.readyState===e.DONE&&200===e.status){if(!1===this.verifierJSON(e.responseText))return this.$router.push("/"),!1;var t=JSON.parse(e.responseText);if(!t.nom||""===t.nom)return this.$router.push("/"),!1;if(this.admin=t.admin,this.nom=t.nom,""!==t.donnees){var i=JSON.parse(t.donnees);i.bloc,this.blocs=i.blocs}setTimeout(function(){document.title=this.nom+" - Digisteps by La Digitale",this.verifierTextes(),vl()("#blocs",{background:!0},function(){this.$parent.$parent.chargementParcours=!1}.bind(this))}.bind(this),300)}else this.$parent.$parent.chargementParcours=!1,this.$parent.$parent.message="Erreur de communication avec le serveur."}.bind(this),e.open("POST",this.$parent.$parent.hote+"inc/recuperer_parcours.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("id="+this.id)},mounted:function(){var e=this.definirRacine()+"#/s/"+this.id,t=new hl.a("#copier-lien .lien",{text:function(){return e}});t.on("success",function(){this.$parent.$parent.notification="Lien copié dans le presse-papier."}.bind(this));var i='<iframe src="'+e+'" allowfullscreen frameborder="0" width="100%" height="500"></iframe>',n=new hl.a("#copier-iframe span",{text:function(){return i}});n.on("success",function(){this.$parent.$parent.notification="Code d'intégration copié dans le presse-papier."}.bind(this)),this.codeqr=new QRCode("qr",{text:e,width:500,height:500,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),document.addEventListener("click",function(e){var t=document.querySelector("#conteneur-partage"),i=document.querySelector("#menu-partager");t&&i&&e.target!==t&&e.target!==i&&!t.contains(e.target)&&!i.contains(e.target)&&(this.menu="")}.bind(this)),window.addEventListener("resize",function(){"partager"===this.menu&&(this.menu="")}.bind(this))},methods:{definirRacine:function(){return window.location.href.split("#")[0]},definirDuree:function(e,t){return 0===e?t+" min.":e>0&&0===t||e>0&&5===t?e+" h 0"+t:e+" h "+t},definirDate:function(e){return"le "+Ol()(new Date(e)).locale("fr").format("L")},definirHoraire:function(e,t,i){return"de "+Ol()(new Date(e+" "+t)).locale("fr").format("LT")+" à "+Ol()(new Date(e+" "+i)).locale("fr").format("LT")},definirDateEtHeure:function(e){return"le "+Ol()(new Date(e)).locale("fr").format("L")+" à "+Ol()(new Date(e)).locale("fr").format("LT")},definirDomaine:function(e){return new URL(e).hostname},verifierJSON:function(e){try{return JSON.parse(e),!0}catch(t){return!1}},verifierTextes:function(){var e=document.querySelectorAll(".lire");e.forEach((function(e){e.parentNode.removeChild(e)}));var t=document.querySelectorAll(".texte");t.forEach((function(e){if(e.scrollHeight>e.clientHeight){var t=e.parentNode.parentNode.id,i=document.querySelectorAll("#"+t+" .texte div");i.forEach((function(e,t){t>0&&(e.style.display="none")}));var n=document.createElement("span");n.classList.add("lire"),n.textContent="Lire la suite",e.insertAdjacentElement("afterend",n)}})),e=document.querySelectorAll(".lire"),e.forEach((function(e){e.addEventListener("click",(function(){var t=e.parentNode.parentNode.id,i=document.querySelectorAll("#"+t+" .texte div");"block"===document.querySelector("#"+t+" .texte").style.display?(document.querySelector("#"+t+" .texte").style.display="-webkit-box",e.textContent="Lire la suite",i.forEach((function(e,t){t>0&&(e.style.display="none")}))):(document.querySelector("#"+t+" .texte").style.display="block",e.textContent="Réduire",i.forEach((function(e){e.style.display="block"})))}))}))},afficherMenuPartager:function(){this.menu="partager",this.$nextTick(function(){var e=document.querySelector("#conteneur-partage").getBoundingClientRect(),t=e.width,i=document.querySelector("#menu-partager").getBoundingClientRect().width;this.position=e.left-(90*i/100-t/2)}.bind(this))},ouvrirModaleBloc:function(e,t){this.mode=e,"edition"===e&&(this.blocId=t.id,this.titre=t.titre,this.texte=t.texte,this.type=t.type,this.date=t.date,this.debut=t.debut,this.fin=t.fin,this.lieu=t.lieu,this.lien=t.lien,this.fichier=t.fichier,this.ancienFichier=t.fichier,""!==this.lien?this.ressource="lien":""!==this.fichier&&(this.ressource="fichier"),"evaluation"===this.type&&(this.type="activite"),!0===t.hasOwnProperty("depot")&&(this.depot=t.depot),!0===t.hasOwnProperty("travaux")&&(this.travaux=t.travaux),!0===t.hasOwnProperty("criteres")&&(this.criteres=t.criteres),!0===t.hasOwnProperty("listeCriteres")&&(this.listeCriteres=t.listeCriteres),!0===t.hasOwnProperty("verrouillage")&&(this.verrouillage=t.verrouillage),!0===t.hasOwnProperty("code")&&(this.code=t.code),!0===t.hasOwnProperty("indice")&&(this.indice=t.indice),this.vignette=t.vignette,this.heures=t.heures,this.minutes=t.minutes,this.couleur=t.couleur),this.modale="bloc",this.$nextTick((function(){"creation"===e?document.querySelector("#champ-titre").focus():"edition"!==e||this.couleurs.includes(t.couleur)||this.$nextTick((function(){document.querySelector("#couleur").value=t.couleur})),this.chargerEditeur()}))},chargerEditeur:function(){document.querySelector("#texte").innerHTML="";var e=bl.a.init({element:document.querySelector("#texte"),onChange:function(e){var t=e.replace(/(<a [^>]*)(target="[^"]*")([^>]*>)/gi,"$1$3");t=t.replace(/(<a [^>]*)(>)/gi,'$1 target="_blank"$2'),t=Object(fl["a"])(t,{defaultProtocol:"https"}),this.texte=t}.bind(this),actions:[{name:"gras",title:"Gras",icon:'<i class="material-icons">format_bold</i>',result:function(){return bl.a.exec("bold")}},{name:"italique",title:"Italique",icon:'<i class="material-icons">format_italic</i>',result:function(){return bl.a.exec("italic")}},{name:"souligne",title:"Souligné",icon:'<i class="material-icons">format_underlined</i>',result:function(){return bl.a.exec("underline")}},{name:"barre",title:"Barré",icon:'<i class="material-icons">format_strikethrough</i>',result:function(){return bl.a.exec("strikethrough")}},{name:"listeordonnee",title:"Liste ordonnée",icon:'<i class="material-icons">format_list_numbered</i>',result:function(){return bl.a.exec("insertOrderedList")}},{name:"liste",title:"Liste",icon:'<i class="material-icons">format_list_bulleted</i>',result:function(){return bl.a.exec("insertUnorderedList")}},{name:"couleur",title:"Couleur du texte",icon:'<label for="couleur-texte"><i class="material-icons">format_color_text</i></label><input id="couleur-texte" type="color" style="display: none;">',result:function(){}},{name:"lien",title:"Lien",icon:'<i class="material-icons">link</i>',result:function(){var e=window.prompt("Adresse du lien");e&&bl.a.exec("createLink",e)}}],classes:{actionbar:"boutons-editeur",button:"bouton-editeur",content:"contenu-editeur",selected:"bouton-actif"}});e.content.innerHTML=this.texte,e.onpaste=function(e){e.preventDefault(),e.stopPropagation();var t=e.clipboardData.getData("text/plain");bl.a.exec("insertText",t)},document.querySelector("#texte .contenu-editeur").addEventListener("focus",(function(){document.querySelector("#texte").classList.add("focus")})),document.querySelector("#texte .contenu-editeur").addEventListener("blur",(function(){document.querySelector("#texte").classList.remove("focus")})),document.querySelector("#couleur-texte").addEventListener("change",this.modifierCouleurTexte)},modifierType:function(e){switch(this.type=e,e){case"section":this.date="",this.debut="",this.fin="",this.lieu="",this.ressource="-",this.lien="",this.fichier="",this.depot="non",this.criteres="non",this.listeCriteres=[],this.verrouillage="non",this.code="",this.indice="",this.heures=0,this.minutes=0,this.vignette="",this.code="",this.indice="";break;case"seance":this.ressource="-",this.lien="",this.fichier="",this.depot="non",this.criteres="non",this.listeCriteres=[],this.vignette="icone_meeting_room";break;case"document":this.date="",this.debut="",this.fin="",this.lieu="",this.ressource="lien",this.depot="non",this.criteres="non",this.listeCriteres=[],this.vignette="icone_article";break;case"exercice":this.date="",this.debut="",this.fin="",this.lieu="",this.ressource="lien",this.depot="non",this.criteres="non",this.listeCriteres=[],this.vignette="icone_check_circle";break;case"activite":this.date="",this.debut="",this.fin="",this.lieu="",this.vignette="icone_lightbulb";break}},modifierRessource:function(e){this.ressource=e,this.lien="",this.fichier=""},modifierCriteres:function(e){this.criteres=e,this.listeCriteres="non"===e?[]:[{libelle:"",etoiles:1,evaluation:""}]},modifierVerrouillage:function(e){this.verrouillage=e,"non"===e&&(this.code="",this.indice="")},modifierVignette:function(e){this.vignette=e},modifierCouleurTexte:function(e){bl.a.exec("foreColor",e.target.value),document.querySelector('#texte .bouton-editeur label[for="couleur-texte"]').style.color=e.target.value},modifierCouleurRetroaction:function(e){bl.a.exec("foreColor",e.target.value),document.querySelector('#retroaction .bouton-editeur label[for="couleur-retroaction"]').style.color=e.target.value},selectionnerFichier:function(e){this.fichier=e.target.files[0].name},selectionnerCouleur:function(e){this.couleur=e},ajouterCritere:function(){this.listeCriteres.push({libelle:"",etoiles:1,evaluation:""})},supprimerCritere:function(){this.listeCriteres.length>1&&this.listeCriteres.splice(this.listeCriteres.length-1,1)},verifierBloc:function(){if(""===this.titre)return this.$parent.$parent.message="Veuillez donner un titre à cette étape.",!1;if("-"===this.type)return this.$parent.$parent.message="Veuillez choisir un type d'étape.",!1;if("seance"===this.type&&(""===this.date||""===this.debut||""===this.fin||""===this.lieu))return""===this.date?this.$parent.$parent.message="Veuillez indiquer une date.":""===this.debut?this.$parent.$parent.message="Veuillez indiquer un horaire de début.":""===this.fin?this.$parent.$parent.message="Veuillez indiquer un horaire de fin.":""===this.lieu&&(this.$parent.$parent.message="Veuillez indiquer une adresse ou un lien de visioconférence."),!1;if(("document"===this.type||"exercice"===this.type||"activite"===this.type)&&"lien"===this.ressource&&""!==this.lien&&!1===this.verifierLien(this.lien))return this.$parent.$parent.message="Veuillez indiquer un lien valide.",!1;if(("document"===this.type||"exercice"===this.type||"activite"===this.type)&&"-"!==this.ressource&&""===this.lien&&""===this.fichier)return"lien"===this.ressource&&""===this.lien?this.$parent.$parent.message="Veuillez indiquer un lien.":"fichier"===this.ressource&&""===this.fichier&&(this.$parent.$parent.message="Veuillez sélectionner un fichier."),!1;if("section"!==this.type&&"oui"===this.verrouillage&&""===this.code)return this.$parent.$parent.message="Veuillez indiquer un code.",!1;if("activite"===this.type&&"oui"===this.criteres){var e=0;if(this.listeCriteres.forEach((function(t){""!==t.libelle&&""!==t.etoiles&&e++})),e<this.listeCriteres.length&&1===this.listeCriteres.length)return this.$parent.$parent.message="Veuillez indiquer un libellé pour le critère.",!1;if(e<this.listeCriteres.length&&this.listeCriteres.length>1)return this.$parent.$parent.message="Veuillez indiquer un libellé pour chaque critère.",!1}return!0},televerserFichier:function(){return new Promise(function(e){this.modale="televerser";var t=document.querySelector("#televerser").files[0];if(t.size<2048e3){var i=new FormData;i.append("ancienfichier",this.ancienFichier),i.append("fichier",this.fichier),i.append("parcours",this.id),i.append("blob",t);var n=new XMLHttpRequest;n.onload=function(){n.readyState===n.DONE&&200===n.status?(this.progression=0,"erreur"===n.responseText?(this.$parent.$parent.message="Erreur lors du téléversement du fichier.",e("erreur")):(this.modale="",this.ancienFichier="",e(n.responseText))):(this.$parent.$parent.message="Erreur lors du téléversement du fichier.",e("erreur"))}.bind(this),n.upload.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;this.progression=Math.round(t)}}.bind(this),n.open("POST",this.$parent.$parent.hote+"inc/televerser_fichier.php",!0),n.send(i)}else this.$parent.$parent.message="La taille maximale autorisée est 2 Mo.",e("erreur")}.bind(this))},ajouterBloc:function(){var e=this;return Object(ul["a"])(regeneratorRuntime.mark((function t(){var i,n,r,c,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.verifierBloc()){t.next=2;break}return t.abrupt("return",!1);case 2:if("fichier"!==e.ressource||""===e.fichier){t.next=13;break}return t.next=5,e.televerserFichier();case 5:if(i=t.sent,"erreur"!==i){t.next=12;break}return e.modale="bloc",e.$nextTick(function(){this.chargerEditeur()}.bind(e)),t.abrupt("return",!1);case 12:e.fichier=i;case 13:e.$parent.$parent.chargement=!0,n="etape-"+(new Date).getTime()+Math.random().toString(16).slice(10),r=JSON.parse(JSON.stringify(e.blocs)),c={id:n,titre:e.titre,texte:e.texte,type:e.type,date:e.date,debut:e.debut,fin:e.fin,lieu:e.lieu,lien:e.lien,fichier:e.fichier,depot:e.depot,travaux:e.travaux,criteres:e.criteres,listeCriteres:e.listeCriteres,verrouillage:e.verrouillage,code:e.code,indice:e.indice,vignette:e.vignette,heures:e.heures,minutes:e.minutes,couleur:e.couleur,visibilite:!0},r.push(c),o=new XMLHttpRequest,o.onload=function(){o.readyState===o.DONE&&200===o.status?(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),"erreur"===o.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===o.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===o.responseText&&(this.blocs.push(c),this.$parent.$parent.notification="Étape ajoutée.",this.$nextTick((function(){this.verifierTextes()})))):(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(e),o.open("POST",e.$parent.$parent.hote+"inc/modifier_parcours.php",!0),o.setRequestHeader("Content-type","application/json"),s={parcours:e.id,donnees:JSON.stringify({blocs:r})},o.send(JSON.stringify(s));case 24:case"end":return t.stop()}}),t)})))()},modifierBloc:function(){var e=this;return Object(ul["a"])(regeneratorRuntime.mark((function t(){var i,n,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.verifierBloc()){t.next=2;break}return t.abrupt("return",!1);case 2:if("fichier"!==e.ressource||e.fichier===e.ancienFichier){t.next=13;break}return t.next=5,e.televerserFichier();case 5:if(i=t.sent,"erreur"!==i){t.next=12;break}return e.modale="bloc",e.$nextTick(function(){this.chargerEditeur()}.bind(e)),t.abrupt("return",!1);case 12:e.fichier=i;case 13:n=[],""!==e.lien&&""!==e.ancienFichier&&n.push(e.ancienFichier),e.$parent.$parent.chargement=!0,r=JSON.parse(JSON.stringify(e.blocs)),r.forEach(function(e,t){e.id===this.blocId&&r.splice(t,1,{id:e.id,titre:this.titre,texte:this.texte,type:this.type,date:this.date,debut:this.debut,fin:this.fin,lieu:this.lieu,lien:this.lien,fichier:this.fichier,depot:this.depot,travaux:this.travaux,criteres:this.criteres,listeCriteres:this.listeCriteres,verrouillage:this.verrouillage,code:this.code,indice:this.indice,vignette:this.vignette,heures:this.heures,minutes:this.minutes,couleur:this.couleur,visibilite:e.visibilite})}.bind(e)),c=new XMLHttpRequest,c.onload=function(){c.readyState===c.DONE&&200===c.status?(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),"erreur"===c.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===c.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===c.responseText&&(this.blocs=r,this.$parent.$parent.notification="Étape modifiée.",this.$nextTick((function(){this.verifierTextes()})))):(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(e),c.open("POST",e.$parent.$parent.hote+"inc/modifier_parcours.php",!0),c.setRequestHeader("Content-type","application/json"),o={parcours:e.id,donnees:JSON.stringify({blocs:r}),fichiers:JSON.stringify(n)},c.send(JSON.stringify(o));case 24:case"end":return t.stop()}}),t)})))()},fermerModaleContenu:function(){this.modale="",this.mode="creation",this.titre="",this.texte="",this.type="-",this.date="",this.debut="",this.fin="",this.lieu="",this.ressource="-",this.lien="",this.fichier="",this.ancienFichier="",this.depot="non",this.travaux=[],this.criteres="non",this.listeCriteres=[],this.vignette="",this.verrouillage="non",this.code="",this.indice="",this.heures=0,this.minutes=0,this.couleur="#00ced1",this.progression=0},modifierPositionBloc:function(){if(this.$nextTick((function(){this.verifierTextes()})),this.blocs.length>1){this.$parent.$parent.chargementBlocs=!0;var e=new XMLHttpRequest;e.onload=function(){e.readyState===e.DONE&&200===e.status?(this.$parent.$parent.chargementBlocs=!1,"non_autorise"===e.responseText&&(this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.")):(this.$parent.$parent.chargementBlocs=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),e.open("POST",this.$parent.$parent.hote+"inc/modifier_parcours.php",!0),e.setRequestHeader("Content-type","application/json");var t={parcours:this.id,donnees:JSON.stringify({blocs:this.blocs})};e.send(JSON.stringify(t))}},modifierVisibiliteBloc:function(e){this.$parent.$parent.chargement=!0;var t=JSON.parse(JSON.stringify(this.blocs));t.forEach((function(i,n){i.id===e&&(t[n].visibilite=!t[n].visibilite)}));var i=new XMLHttpRequest;i.onload=function(){i.readyState===i.DONE&&200===i.status?(this.$parent.$parent.chargement=!1,"erreur"===i.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===i.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===i.responseText&&(this.blocs=t,this.$parent.$parent.notification="Visibilité de l'étape modifiée.")):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),i.open("POST",this.$parent.$parent.hote+"inc/modifier_parcours.php",!0),i.setRequestHeader("Content-type","application/json");var n={parcours:this.id,donnees:JSON.stringify({blocs:t})};i.send(JSON.stringify(n))},afficherSupprimerBloc:function(e){this.blocId=e,this.modale="supprimer-bloc"},supprimerBloc:function(){this.modale="",this.$parent.$parent.chargement=!0;var e=JSON.parse(JSON.stringify(this.blocs)),t=[];e.forEach(function(i,n){i.id===this.blocId&&(""!==i.fichier&&t.push(i.fichier),i.hasOwnProperty("travaux")&&i.travaux.forEach((function(e){""!==e.fichier&&t.push(e.fichier)})),e.splice(n,1))}.bind(this));var i=new XMLHttpRequest;i.onload=function(){i.readyState===i.DONE&&200===i.status?(this.$parent.$parent.chargement=!1,"erreur"===i.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===i.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===i.responseText&&(this.blocs=e,this.$parent.$parent.notification="Étape supprimée.")):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),i.open("POST",this.$parent.$parent.hote+"inc/modifier_parcours.php",!0),i.setRequestHeader("Content-type","application/json");var n={parcours:this.id,donnees:JSON.stringify({blocs:e}),fichiers:JSON.stringify(t)};i.send(JSON.stringify(n))},ouvrirModaleCriteres:function(e){this.listeCriteres=e,this.modale="criteres"},fermerModaleCriteres:function(){this.modale="",this.listeCriteres=[]},ouvrirModaleTravaux:function(e){this.blocId=e.id,!0===e.hasOwnProperty("travaux")&&(this.travaux=e.travaux),!0===e.hasOwnProperty("listeCriteres")&&(this.listeCriteres=e.listeCriteres),this.modale="travaux"},afficherRetroaction:function(e){this.evaluation=[],this.motdepasse=e.motdepasse,this.retroaction=e.retroaction,!0===e.hasOwnProperty("evaluation")&&this.listeCriteres.length>0?(this.listeCriteres.forEach((function(t,i){e.evaluation[i]?parseInt(e.evaluation[i])>t.etoiles&&(e.evaluation[i]=t.etoiles):e.evaluation[i]=0})),this.evaluation=e.evaluation):!e.hasOwnProperty("evaluation")&&this.listeCriteres.length>0&&this.listeCriteres.forEach(function(){this.evaluation.push(0)}.bind(this)),this.$nextTick((function(){document.querySelector("#retroaction").innerHTML="";var e=bl.a.init({element:document.querySelector("#retroaction"),onChange:function(e){var t=e.replace(/(<a [^>]*)(target="[^"]*")([^>]*>)/gi,"$1$3");t=t.replace(/(<a [^>]*)(>)/gi,'$1 target="_blank"$2'),t=Object(fl["a"])(t,{defaultProtocol:"https"}),this.retroaction=t}.bind(this),actions:[{name:"gras",title:"Gras",icon:'<i class="material-icons">format_bold</i>',result:function(){return bl.a.exec("bold")}},{name:"italique",title:"Italique",icon:'<i class="material-icons">format_italic</i>',result:function(){return bl.a.exec("italic")}},{name:"souligne",title:"Souligné",icon:'<i class="material-icons">format_underlined</i>',result:function(){return bl.a.exec("underline")}},{name:"barre",title:"Barré",icon:'<i class="material-icons">format_strikethrough</i>',result:function(){return bl.a.exec("strikethrough")}},{name:"listeordonnee",title:"Liste ordonnée",icon:'<i class="material-icons">format_list_numbered</i>',result:function(){return bl.a.exec("insertOrderedList")}},{name:"liste",title:"Liste",icon:'<i class="material-icons">format_list_bulleted</i>',result:function(){return bl.a.exec("insertUnorderedList")}},{name:"couleur",title:"Couleur du texte",icon:'<label for="couleur-retroaction"><i class="material-icons">format_color_text</i></label><input id="couleur-retroaction" type="color" style="display: none;">',result:function(){}},{name:"lien",title:"Lien",icon:'<i class="material-icons">link</i>',result:function(){var e=window.prompt("Adresse du lien");e&&bl.a.exec("createLink",e)}}],classes:{actionbar:"boutons-editeur",button:"bouton-editeur",content:"contenu-editeur",selected:"bouton-actif"}});e.content.innerHTML=this.retroaction,e.onpaste=function(e){e.preventDefault(),e.stopPropagation();var t=e.clipboardData.getData("text/plain");bl.a.exec("insertText",t)},document.querySelector("#retroaction .contenu-editeur").addEventListener("focus",(function(){document.querySelector("#retroaction").classList.add("focus")})),document.querySelector("#retroaction .contenu-editeur").addEventListener("blur",(function(){document.querySelector("#retroaction").classList.remove("focus")})),document.querySelector("#couleur-retroaction").addEventListener("change",this.modifierCouleurRetroaction)}))},enregistrerRetroaction:function(){if(""===this.retroaction)return this.$parent.$parent.message="Veuillez ajouter un commentaire.",!1;if(this.listeCriteres.length>0){var e=0;if(this.evaluation.forEach((function(t){0!==t&&e++})),e!==this.listeCriteres.length)return this.$parent.$parent.message="Veuillez compléter tous les critères.",!1}this.$parent.$parent.chargement=!0;var t=JSON.parse(JSON.stringify(this.blocs));t.forEach(function(e){e.id===this.blocId&&e.travaux.forEach(function(e){parseInt(e.motdepasse)===parseInt(this.motdepasse)&&(e.retroaction=this.retroaction,e.evaluation=this.evaluation)}.bind(this))}.bind(this));var i=JSON.parse(JSON.stringify(this.travaux));i.forEach(function(e){parseInt(e.motdepasse)===parseInt(this.motdepasse)&&(e.retroaction=this.retroaction,e.evaluation=this.evaluation)}.bind(this));var n=new XMLHttpRequest;n.onload=function(){n.readyState===n.DONE&&200===n.status?(this.$parent.$parent.chargement=!1,"non_autorise"===n.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===n.responseText&&(this.blocs=t,this.travaux=i,this.motdepasse="",this.$parent.$parent.notification="Rétroaction enregistrée.")):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),n.open("POST",this.$parent.$parent.hote+"inc/modifier_parcours.php",!0),n.setRequestHeader("Content-type","application/json");var r={parcours:this.id,donnees:JSON.stringify({blocs:t})};n.send(JSON.stringify(r))},annulerRetroaction:function(){this.motdepasse=""},fermerModaleTravaux:function(){this.modale="",this.blocId="",this.travaux=[],this.listeCriteres=[],this.retroaction="",this.evaluation=[],this.motdepasse=""},debloquerEtape:function(e){var t=document.querySelector("#"+e+' input[type="text"]').value,i=!1;this.blocs.forEach(function(n){n.id===e&&t===n.code&&(this.blocId=e,this.chargement=!0,n.code="",i=!0,this.$nextTick(function(){this.verifierTextes()}.bind(this)),setTimeout(function(){this.chargement=!1,this.blocId="",this.$parent.$parent.notification="Étape débloquée."}.bind(this),300))}.bind(this)),!1===i&&(this.$parent.$parent.message="Code d'accès incorrect.")},ouvrirModaleDepot:function(e){this.blocId=e,this.mode="-",this.modale="depot"},modifierModeDepot:function(e){this.mode=e,"deposer"===e?(this.ressource="lien",this.motdepasse=Math.floor(1e5+9e5*Math.random())):(this.ressource="-",this.motdepasse="")},modifierRessourceDepot:function(e){this.ressource=e,this.lien="",this.fichier=""},deposer:function(){var e=this;return Object(ul["a"])(regeneratorRuntime.mark((function t(){var i,n,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.pseudo){t.next=5;break}return e.$parent.$parent.message="Veuillez indiquer un nom ou un pseudo.",t.abrupt("return",!1);case 5:if("lien"!==e.ressource||""===e.lien||!1!==e.verifierLien(e.lien)){t.next=10;break}return e.$parent.$parent.message="Veuillez indiquer un lien valide.",t.abrupt("return",!1);case 10:if(""!==e.lien||""!==e.fichier){t.next=13;break}return"lien"===e.ressource&&""===e.lien?e.$parent.$parent.message="Veuillez indiquer un lien.":"fichier"===e.ressource&&""===e.fichier&&(e.$parent.$parent.message="Veuillez sélectionner un fichier."),t.abrupt("return",!1);case 13:if("fichier"!==e.ressource||""===e.fichier){t.next=20;break}return t.next=16,e.televerserFichier();case 16:if(e.fichier=t.sent,"erreur"!==e.fichier){t.next=20;break}return e.fermerModaleDepot(),t.abrupt("return",!1);case 20:i="",""!==e.lien&&""!==e.ancienFichier&&(i=e.ancienFichier),n=Ol()().format(),r=JSON.parse(JSON.stringify(e.blocs)),"deposer"===e.mode?r.forEach(function(e){e.id===this.blocId&&e.travaux.push({motdepasse:this.motdepasse,pseudo:this.pseudo,lien:this.lien,fichier:this.fichier,retroaction:"",date:n})}.bind(e)):"afficher"===e.mode&&r.forEach(function(e){e.id===this.blocId&&e.travaux.forEach(function(e){parseInt(e.motdepasse)===parseInt(this.motdepasse)&&(e.pseudo=this.pseudo,e.lien=this.lien,e.fichier=this.fichier,e.date=n)}.bind(this))}.bind(e)),e.$parent.$parent.chargement=!0,c=new XMLHttpRequest,c.onload=function(){c.readyState===c.DONE&&200===c.status?(this.$parent.$parent.chargement=!1,this.fermerModaleDepot(),"erreur"===c.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"travail_depose"===c.responseText&&(this.blocs=r,this.$parent.$parent.notification="Travail déposé.")):(this.$parent.$parent.chargement=!1,this.fermerModaleDepot(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(e),c.open("POST",e.$parent.$parent.hote+"inc/deposer_travail.php",!0),c.setRequestHeader("Content-type","application/json"),o={parcours:e.id,id:e.blocId,mode:e.mode,motdepasse:e.motdepasse,pseudo:e.pseudo,lien:e.lien,fichier:e.fichier,date:n,fichierasupprimer:i},c.send(JSON.stringify(o));case 32:case"end":return t.stop()}}),t)})))()},verifier:function(){if(""===this.motdepasse)return this.$parent.$parent.message="Veuillez indiquer un mot de passe.",!1;this.blocs.forEach(function(e){if(e.id===this.blocId){var t=e.travaux,i=!1;t.forEach(function(t){parseInt(t.motdepasse)===parseInt(this.motdepasse)&&(this.mode="afficher",this.pseudo=t.pseudo,this.lien=t.lien,this.fichier=t.fichier,this.ancienFichier=t.fichier,""!==this.lien?this.ressource="lien":""!==this.fichier&&(this.ressource="fichier"),this.retroaction=t.retroaction,e.hasOwnProperty("listeCriteres")&&(this.listeCriteres=e.listeCriteres),t.hasOwnProperty("evaluation")&&(this.evaluation=t.evaluation),i=!0)}.bind(this)),!1===i&&(this.$parent.$parent.message="Ce mot de passe n'existe pas.")}}.bind(this))},fermerModaleDepot:function(){this.blocId="",this.pseudo="",this.motdepasse="",this.lien="",this.fichier="",this.ancienFichier="",this.mode="",this.ressource="-",this.retroaction="",this.listeCriteres=[],this.evaluation=[],this.modale=""},ouvrirModaleParcours:function(){this.modale="parcours"},fermerModaleParcours:function(){this.modale="",this.question="",this.reponse="",this.nouveaunom="",this.nouvellequestion="",this.nouvellereponse=""},ouvrirModaleNomParcours:function(){this.nouveaunom=this.nom,this.modale="modifier-nom"},fermerModaleNomParcours:function(){this.modale="",this.nouveaunom=""},modifierNomParcours:function(){if(""!==this.nouveaunom&&this.nom!==this.nouveaunom){this.$parent.$parent.chargement=!0;var e=this.nouveaunom,t=new XMLHttpRequest;t.onload=function(){t.readyState===t.DONE&&200===t.status?(this.$parent.$parent.chargement=!1,this.fermerModaleNomParcours(),"erreur"===t.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===t.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"nom_modifie"===t.responseText&&(this.nom=e,this.$parent.$parent.notification="Nom modifié.",document.title=this.nom+" - Digisteps by La Digitale")):(this.$parent.$parent.chargement=!1,this.fermerModaleNomParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),t.open("POST",this.$parent.$parent.hote+"inc/modifier_nom_parcours.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("parcours="+this.id+"&nouveaunom="+e)}else""===this.nouveaunom&&(this.$parent.$parent.message="Veuillez compléter le champ «&nbsp;Nouveau nom&nbsp;».")},ouvrirModaleAccesParcours:function(){this.modale="modifier-acces"},fermerModaleAccesParcours:function(){this.modale="",this.question="",this.reponse="",this.nouvellequestion="",this.nouvellereponse=""},modifierAccesParcours:function(){if(""!==this.question&&""!==this.reponse&&""!==this.nouvellequestion&&""!==this.nouvellereponse){this.$parent.$parent.chargement=!0;var e=new XMLHttpRequest;e.onload=function(){e.readyState===e.DONE&&200===e.status?(this.$parent.$parent.chargement=!1,this.fermerModaleAccesParcours(),"erreur"===e.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===e.responseText?this.$parent.$parent.message="La question et la réponse secrètes ne sont pas correctes.":"acces_modifie"===e.responseText&&(this.$parent.$parent.notification="Accès modifié.")):(this.$parent.$parent.chargement=!1,this.fermerModaleAccesParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),e.open("POST",this.$parent.$parent.hote+"inc/modifier_acces_parcours.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("parcours="+this.id+"&question="+this.question+"&reponse="+this.reponse+"&nouvellequestion="+this.nouvellequestion+"&nouvellereponse="+this.nouvellereponse)}else""===this.question?this.$parent.$parent.message="Veuillez sélectionner votre question secrète actuelle.":""===this.reponse?this.$parent.$parent.message="Veuillez indiquer votre réponse secrète actuelle.":""===this.nouvellequestion?this.$parent.$parent.message="Veuillez sélectionner une nouvelle question secrète.":""===this.nouvellereponse&&(this.$parent.$parent.message="Veuillez indiquer une nouvelle réponse secrète.")},ouvrirModaleConnexion:function(){this.modale="connexion"},fermerModaleConnexion:function(){this.modale="",this.question="",this.reponse=""},debloquerParcours:function(){if(""!==this.question&&""!==this.reponse){this.$parent.$parent.chargement=!0;var e=new XMLHttpRequest;e.onload=function(){e.readyState===e.DONE&&200===e.status?(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),"erreur"===e.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===e.responseText?this.$parent.$parent.message="La question et la réponse secrètes ne sont pas correctes.":"parcours_debloque"===e.responseText&&(this.admin=!0,this.$parent.$parent.notification="Parcours débloqué.",this.$nextTick((function(){this.verifierTextes()})))):(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),e.open("POST",this.$parent.$parent.hote+"inc/ouvrir_parcours.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("parcours="+this.id+"&question="+this.question+"&reponse="+this.reponse)}else""===this.question?this.$parent.$parent.message="Veuillez sélectionner une question secrète.":""===this.reponse&&(this.$parent.$parent.message="Veuillez complétez le champ «&nbsp;Réponse secrète&nbsp;».")},terminerSession:function(){this.$parent.$parent.chargement=!0;var e=new XMLHttpRequest;e.onload=function(){e.readyState===e.DONE&&200===e.status?(this.$parent.$parent.chargement=!1,"session_terminee"===e.responseText&&(this.fermerModaleParcours(),this.admin=!1,this.$parent.$parent.notification="Session terminée.",this.$nextTick((function(){this.verifierTextes()})))):(this.$parent.$parent.chargement=!1,this.fermerModaleParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),e.open("POST",this.$parent.$parent.hote+"inc/terminer_session_parcours.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("parcours="+this.id)},afficherSupprimerParcours:function(){this.modale="supprimer-parcours"},supprimerParcours:function(){this.modale="",this.$parent.$parent.chargement=!0;var e=new XMLHttpRequest;e.onload=function(){e.readyState===e.DONE&&200===e.status?(this.$parent.$parent.chargement=!1,"erreur"===e.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"parcours_supprime"===e.responseText&&(document.title="Digisteps by La Digitale",this.$router.push("/"))):(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),e.open("POST",this.$parent.$parent.hote+"inc/supprimer_parcours.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("parcours="+this.id)},eclaircirCouleur:function(e){var t=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return"rgba("+t+", "+i+", "+n+", 0.25)"},modifierCouleur:function(e,t){var i=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);i=parseInt(i*(100+t)/100),n=parseInt(n*(100+t)/100),r=parseInt(r*(100+t)/100),i=i<255?i:255,n=n<255?n:255,r=r<255?r:255;var c=1===i.toString(16).length?"0"+i.toString(16):i.toString(16),o=1===n.toString(16).length?"0"+n.toString(16):n.toString(16),s=1===r.toString(16).length?"0"+r.toString(16):r.toString(16);return"#"+c+o+s},verifierLien:function(e){var t;try{t=new URL(e)}catch(i){return!1}return"http:"===t.protocol||"https:"===t.protocol}}};i("0596"),i("b136");const kl=f()(yl,[["render",ll],["__scopeId","data-v-bd1e034a"]]);var xl=kl,$l=[{path:"/",name:"Accueil",component:ee},{path:"/s/:id",name:"Editeur",component:xl}],Cl=Object(m["a"])({history:Object(m["b"])(),routes:$l}),ql=Cl;Object(n["d"])(O).use(ql).mount("#app")},"5da1":function(e,t,i){"use strict";i("bdd8")},aaf6:function(e,t,i){},b136:function(e,t,i){"use strict";i("aaf6")},bdd8:function(e,t,i){},d73d:function(e,t,i){"use strict";i("1c50")}});