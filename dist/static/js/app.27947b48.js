(function(e){function t(t){for(var i,o,s=t[0],a=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);u&&u(t);while(p.length)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],i=!0,s=1;s<n.length;s++){var a=n[s];0!==r[a]&&(i=!1)}i&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},c=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=a;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4678:function(e,t,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=c,e.exports=r,r.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),r=Object(i["g"])("div",{id:"chargement"},[Object(i["g"])("div",{class:"spinner"},[Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div"),Object(i["g"])("div")])],-1),c=[r],o={key:1,id:"conteneur-message",class:"conteneur-modale"},s={id:"message",class:"modale"},a={class:"conteneur"},l={class:"contenu"},u=["innerHTML"],d={class:"actions"};function p(e,t,n,r,p,b){var f=Object(i["A"])("router-view");return Object(i["t"])(),Object(i["f"])("main",null,[p.chargement||p.chargementBlocs?(Object(i["t"])(),Object(i["f"])("div",{key:0,id:"conteneur-chargement",class:Object(i["o"])({"chargement-blocs":p.chargementBlocs})},c,2)):Object(i["e"])("",!0),p.message?(Object(i["t"])(),Object(i["f"])("div",o,[Object(i["g"])("div",s,[Object(i["g"])("div",a,[Object(i["g"])("div",l,[Object(i["g"])("div",{class:"message",innerHTML:p.message},null,8,u),Object(i["g"])("div",d,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[0]||(t[0]=function(e){return p.message=""})},"Fermer")])])])])])):Object(i["e"])("",!0),Object(i["i"])(f)])}n("d3b7"),n("25f0"),n("ac1f"),n("1276");var b={name:"App",data:function(){return{hote:"",chargement:!0,chargementBlocs:!1,message:"",notification:""}},watch:{notification:function(e){if(""!==e){var t=document.createElement("div"),n="notification_"+Date.now().toString(36)+Math.random().toString(36).substr(2);t.id=n,t.textContent=e,t.classList.add("notification"),document.querySelector("#app").appendChild(t),this.notification="",setTimeout((function(){t.parentNode.removeChild(t)}),2e3)}}},created:function(){this.hote=window.location.href.split("#")[0]}},f=(n("f462"),n("d73d"),n("d959")),h=n.n(f);const m=h()(b,[["render",p]]);var g=m,j=n("6c02"),O=function(e){return Object(i["w"])("data-v-4fbf8961"),e=e(),Object(i["u"])(),e},v={id:"page"},y=O((function(){return Object(i["g"])("div",{id:"masque"},null,-1)})),k={id:"conteneur"},x={id:"contenu"},$=O((function(){return Object(i["g"])("h1",null,[Object(i["g"])("span",null,"Digisteps"),Object(i["h"])(),Object(i["g"])("span",null,"by La Digitale")],-1)})),C=O((function(){return Object(i["g"])("p",null,[Object(i["g"])("strong",null,"Digisteps"),Object(i["h"])(" permet de créer des "),Object(i["g"])("strong",null,"parcours pédagogiques"),Object(i["h"])(" en ligne.")],-1)})),S={id:"credits"},q=O((function(){return Object(i["g"])("p",null,[Object(i["g"])("a",{href:"https://opencollective.com/ladigitale",target:"_blank",rel:"noreferrer"},"Je souhaite apporter mon soutien ❤️.")],-1)})),w=O((function(){return Object(i["g"])("a",{href:"https://ladigitale.dev",target:"_blank",rel:"noreferrer"},"La Digitale",-1)})),M=Object(i["h"])(" - "),_=O((function(){return Object(i["g"])("a",{href:"https://gitlab.com/ladigitale/digisteps",target:"_blank",rel:"noreferrer"},"Code source",-1)})),L=Object(i["h"])(" - "),P=O((function(){return Object(i["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#001d1d",width:"36px",height:"36px"},[Object(i["g"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(i["g"])("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})],-1)})),T=[P],z={key:0,class:"conteneur-modale"},I={class:"modale"},E=O((function(){return Object(i["g"])("span",{class:"titre"},"Nouveau parcours pédagogique",-1)})),D=O((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),R=[D],N={class:"conteneur"},H={class:"contenu"},V=O((function(){return Object(i["g"])("label",null,"Nom du parcours",-1)})),A=["value"],F=O((function(){return Object(i["g"])("label",null,"Question secrète",-1)})),B=["value"],J=O((function(){return Object(i["g"])("label",null,"Réponse secrète (pour édition ultérieure)",-1)})),Q=["value"],X={class:"actions"},G=O((function(){return Object(i["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",width:"36px",height:"36px"},[Object(i["g"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(i["g"])("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)})),U=[G],K=O((function(){return Object(i["g"])("iframe",{src:"https://ladigitale.dev/hub.html"},null,-1)}));function W(e,t,n,r,c,o){return Object(i["t"])(),Object(i["f"])("div",v,[Object(i["g"])("div",{id:"accueil",style:Object(i["p"])({"background-image":"url(./static/img/digisteps.jpg)"})},[y,Object(i["g"])("div",k,[Object(i["g"])("div",x,[$,Object(i["g"])("div",null,[C,Object(i["g"])("span",{id:"bouton",role:"button",tabindex:"0",onClick:t[0]||(t[0]=function(){return o.ouvrirModaleParcours&&o.ouvrirModaleParcours.apply(o,arguments)})},"Créer un parcours")])]),Object(i["g"])("div",S,[q,Object(i["g"])("p",null,[Object(i["h"])(Object(i["C"])((new Date).getFullYear())+" - ",1),w,M,_,L,Object(i["g"])("span",{class:"hub",onClick:t[1]||(t[1]=function(){return o.ouvrirHub&&o.ouvrirHub.apply(o,arguments)})},T)])])])],4),"parcours"===c.modale?(Object(i["t"])(),Object(i["f"])("div",z,[Object(i["g"])("div",I,[Object(i["g"])("header",null,[E,Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[2]||(t[2]=function(){return o.fermerModaleParcours&&o.fermerModaleParcours.apply(o,arguments)})},R)]),Object(i["g"])("div",N,[Object(i["g"])("div",H,[V,Object(i["g"])("input",{type:"text",value:c.nom,onInput:t[3]||(t[3]=function(e){return c.nom=e.target.value})},null,40,A),F,Object(i["g"])("select",{value:c.question,onChange:t[4]||(t[4]=function(e){return c.question=e.target.value})},[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.questions,(function(e,t){return Object(i["t"])(),Object(i["f"])("option",{key:"option_"+t},Object(i["C"])(e),1)})),128))],40,B),J,Object(i["g"])("input",{type:"text",value:c.reponse,onInput:t[5]||(t[5]=function(e){return c.reponse=e.target.value}),onKeydown:t[6]||(t[6]=Object(i["I"])((function(){return o.creerParcours&&o.creerParcours.apply(o,arguments)}),["enter"]))},null,40,Q),Object(i["g"])("div",X,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[7]||(t[7]=function(){return o.creerParcours&&o.creerParcours.apply(o,arguments)})},"Créer")])])])])])):Object(i["e"])("",!0),Object(i["g"])("div",{id:"hub",class:Object(i["o"])({ouvert:c.hub})},[Object(i["g"])("span",{onClick:t[8]||(t[8]=function(){return o.fermerHub&&o.fermerHub.apply(o,arguments)})},U),K],2)])}var Z={name:"Accueil",data:function(){return{modale:"",nom:"",question:"",questions:["Quel est mon mot préféré ?","Quel est mon film préféré ?","Quelle est ma chanson préférée ?","Quel est le prénom de ma mère ?","Quel est le prénom de mon père ?","Quel est le nom de ma rue ?","Quel est le nom de mon employeur ?","Quel est le nom de mon animal de compagnie ?"],reponse:"",hub:!1}},mounted:function(){setTimeout(function(){this.$parent.$parent.chargement=!1}.bind(this),300)},methods:{ouvrirModaleParcours:function(){this.modale="parcours"},fermerModaleParcours:function(){this.modale="",this.nom="",this.question="",this.reponse=""},creerParcours:function(){if(""!==this.nom&&""!==this.question&&""!==this.reponse){this.$parent.$parent.chargement=!0;var e=new XMLHttpRequest;e.onload=function(){if(e.readyState===e.DONE&&200===e.status)if(this.$parent.$parent.chargement=!1,this.fermerModaleParcours(),"erreur"!==e.responseText){var t=JSON.parse(e.responseText);localStorage.setItem("session",t.session),this.$router.push("/s/"+t.url)}else this.$parent.$parent.message="Erreur de communication avec le serveur.";else this.$parent.$parent.chargement=!1,this.fermerModaleParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur."}.bind(this),e.open("POST",this.$parent.$parent.hote+"/inc/creer_parcours.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("nom="+this.nom+"&question="+this.question+"&reponse="+this.reponse)}else""===this.nom?this.$parent.$parent.message="Veuillez complétez le champ «&nbsp;Nom du parcours&nbsp;».":""===this.question?this.$parent.$parent.message="Veuillez sélectionner une question secrète.":""===this.reponse&&(this.$parent.$parent.message="Veuillez complétez le champ «&nbsp;Réponse secrète&nbsp;».")},ouvrirHub:function(){this.hub=!0},fermerHub:function(){this.hub=!1}}};n("b3a3");const Y=h()(Z,[["render",W],["__scopeId","data-v-4fbf8961"]]);var ee=Y,te=(n("caad"),n("2532"),function(e){return Object(i["w"])("data-v-822588c0"),e=e(),Object(i["u"])(),e}),ne={id:"page"},ie={id:"parcours"},re={id:"conteneur-header"},ce=["href"],oe=te((function(){return Object(i["g"])("span",{id:"logo"},null,-1)})),se=[oe],ae={id:"titre"},le=te((function(){return Object(i["g"])("i",{class:"material-icons"},"share_alt",-1)})),ue=[le],de=te((function(){return Object(i["g"])("i",{class:"material-icons"},"settings",-1)})),pe=[de],be=te((function(){return Object(i["g"])("i",{class:"material-icons"},"lock_open",-1)})),fe=[be],he={id:"conteneur-partager"},me=te((function(){return Object(i["g"])("label",null,"Lien et code QR :",-1)})),ge={id:"copier-lien",class:"copier"},je=["value"],Oe=te((function(){return Object(i["g"])("span",{class:"icone lien",role:"button",tabindex:"0",title:"Copier le lien"},[Object(i["g"])("i",{class:"material-icons"},"content_copy")],-1)})),ve=te((function(){return Object(i["g"])("i",{class:"material-icons"},"qr_code",-1)})),ye=[ve],ke=te((function(){return Object(i["g"])("label",null,"Code d'intégration :",-1)})),xe={id:"copier-iframe",class:"copier"},$e=["value"],Ce=te((function(){return Object(i["g"])("span",{class:"icone",role:"button",tabindex:"0",title:"Copier le code d\\'intégration"},[Object(i["g"])("i",{class:"material-icons"},"content_copy")],-1)})),Se=te((function(){return Object(i["g"])("p",{class:"credits"},[Object(i["h"])("Créé avec "),Object(i["g"])("a",{href:"https://ladigitale.dev/digisteps/",target:"_blank",rel:"noreferrer"},[Object(i["g"])("u",null,"Digisteps by La Digitale")])],-1)})),qe={id:"conteneur-parcours"},we={key:0,id:"actions"},Me=["id"],_e={class:"contenu"},Le=["innerHTML"],Pe={class:"actions statique"},Te=["onClick"],ze=te((function(){return Object(i["g"])("i",{class:"material-icons"},"visibility",-1)})),Ie=[ze],Ee=["onClick"],De=te((function(){return Object(i["g"])("i",{class:"material-icons"},"visibility_off",-1)})),Re=[De],Ne=["onClick"],He=te((function(){return Object(i["g"])("i",{class:"material-icons"},"edit",-1)})),Ve=[He],Ae=["onClick"],Fe=te((function(){return Object(i["g"])("i",{class:"material-icons"},"delete",-1)})),Be=[Fe],Je=["id"],Qe={key:0,class:"icone"},Xe={class:"material-icons"},Ge={key:1,class:"image"},Ue=["src"],Ke={key:2,class:"duree"},We=["innerHTML"],Ze={key:1,class:"date-et-horaire"},Ye={class:"date"},et=te((function(){return Object(i["g"])("i",{class:"material-icons"},"event_note",-1)})),tt={class:"horaire"},nt=te((function(){return Object(i["g"])("i",{class:"material-icons"},"schedule",-1)})),it={key:2,class:"lieu"},rt=te((function(){return Object(i["g"])("i",{class:"material-icons"},"place",-1)})),ct=["href"],ot={key:3,class:"lieu"},st=te((function(){return Object(i["g"])("i",{class:"material-icons"},"voice_chat",-1)})),at=["href"],lt={key:4,class:"action"},ut=["href"],dt=["href"],pt=["onClick"],bt={class:"actions statique"},ft=["onClick"],ht=te((function(){return Object(i["g"])("i",{class:"material-icons"},"visibility",-1)})),mt=[ht],gt=["onClick"],jt=te((function(){return Object(i["g"])("i",{class:"material-icons"},"visibility_off",-1)})),Ot=[jt],vt=["onClick"],yt=te((function(){return Object(i["g"])("i",{class:"material-icons"},"edit",-1)})),kt=[yt],xt=["onClick"],$t=te((function(){return Object(i["g"])("i",{class:"material-icons"},"delete",-1)})),Ct=[$t],St={key:2,id:"blocs"},qt=["id"],wt={class:"contenu"},Mt=["innerHTML"],_t=["id"],Lt={key:0,class:"icone"},Pt={class:"material-icons"},Tt={key:1,class:"image"},zt=["src"],It={key:2,class:"duree"},Et=["innerHTML"],Dt={key:1,class:"date-et-horaire"},Rt={class:"date"},Nt=te((function(){return Object(i["g"])("i",{class:"material-icons"},"event_note",-1)})),Ht={class:"horaire"},Vt=te((function(){return Object(i["g"])("i",{class:"material-icons"},"schedule",-1)})),At={key:2,class:"lieu"},Ft=te((function(){return Object(i["g"])("i",{class:"material-icons"},"place",-1)})),Bt=["href"],Jt={key:3,class:"lieu"},Qt=te((function(){return Object(i["g"])("i",{class:"material-icons"},"voice_chat",-1)})),Xt=["href"],Gt={key:4,class:"action"},Ut=["href"],Kt=["href"],Wt=["onClick"],Zt={key:3,id:"blocs",class:"vide"},Yt=te((function(){return Object(i["g"])("p",null,"Aucune étape pour le moment.",-1)})),en=[Yt],tn={key:0,class:"conteneur-modale"},nn={id:"bloc",class:"modale"},rn={key:0,class:"titre"},cn={key:1,class:"titre"},on={key:2,class:"titre"},sn={key:3,class:"titre"},an={key:4,class:"titre"},ln={key:5,class:"titre"},un={key:6,class:"titre"},dn=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),pn=[dn],bn={class:"conteneur"},fn={class:"contenu"},hn=te((function(){return Object(i["g"])("label",{for:"champ-titre"},"Titre",-1)})),mn=["value"],gn={key:0},jn={key:1},On=te((function(){return Object(i["g"])("div",{id:"texte"},null,-1)})),vn=te((function(){return Object(i["g"])("label",null,"Type d'étape",-1)})),yn=["selected"],kn=["selected"],xn=["selected"],$n=["selected"],Cn=["selected"],Sn=["selected"],qn={key:2,id:"options"},wn={id:"date-et-horaire"},Mn={id:"date"},_n=te((function(){return Object(i["g"])("label",{for:"champ-date"},"Date",-1)})),Ln=["value"],Pn={id:"debut"},Tn=te((function(){return Object(i["g"])("label",{for:"champ-debut"},"Début",-1)})),zn=["value"],In={id:"fin"},En=te((function(){return Object(i["g"])("label",{for:"champ-fin"},"Fin",-1)})),Dn=["value"],Rn=te((function(){return Object(i["g"])("label",{for:"champ-lieu"},"Adresse ou lien de visioconférence",-1)})),Nn=["value"],Hn=te((function(){return Object(i["g"])("label",null,"Type de ressource",-1)})),Vn=["selected"],An=["selected"],Fn=["selected"],Bn={key:0,for:"champ-lien"},Jn=["value"],Qn=["value"],Xn={key:3},Gn={key:4,id:"fichier"},Un=["href"],Kn={key:1,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Wn={key:2,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Zn={key:3,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Yn={key:4,for:"televerser",class:"bouton",role:"button",tabindex:"0"},ei=te((function(){return Object(i["g"])("label",null,"Dépôt par les apprenants (lien ou fichier)",-1)})),ti={id:"depot"},ni={class:"label"},ii=["checked"],ri=te((function(){return Object(i["g"])("label",{for:"depot_oui"},"Oui",-1)})),ci={class:"label"},oi=["checked"],si=te((function(){return Object(i["g"])("label",{for:"depot_non"},"Non",-1)})),ai={key:3},li={key:4},ui={key:5},di={id:"duree"},pi=["selected"],bi=["selected"],fi=["selected"],hi=["selected"],mi=["selected"],gi=["selected"],ji=["selected"],Oi=["selected"],vi=["selected"],yi=["selected"],ki=["selected"],xi=["selected"],$i=["selected"],Ci=te((function(){return Object(i["g"])("span",null,"h",-1)})),Si=["selected"],qi=["selected"],wi=["selected"],Mi=["selected"],_i=["selected"],Li=["selected"],Pi=["selected"],Ti=["selected"],zi=["selected"],Ii=["selected"],Ei=["selected"],Di=["selected"],Ri={key:3},Ni=["selected"],Hi=["selected"],Vi=["selected"],Ai=["selected"],Fi=["selected"],Bi=["selected"],Ji=["selected"],Qi=["selected"],Xi=["selected"],Gi=["selected"],Ui=["selected"],Ki=["selected"],Wi=["selected"],Zi=["selected"],Yi=["selected"],er=["selected"],tr=["selected"],nr=["selected"],ir=["selected"],rr=["selected"],cr=["selected"],or=["selected"],sr=["selected"],ar=["selected"],lr=["selected"],ur=["selected"],dr=["selected"],pr=["selected"],br=["selected"],fr=["selected"],hr=["selected"],mr=["selected"],gr=["selected"],jr=["selected"],Or=["selected"],vr=["selected"],yr=["selected"],kr=["selected"],xr=["selected"],$r=["selected"],Cr=["selected"],Sr=["selected"],qr=["selected"],wr={key:8,id:"apercu"},Mr={key:0,class:"material-icons"},_r=["src"],Lr=te((function(){return Object(i["g"])("label",null,"Couleur",-1)})),Pr={id:"couleurs"},Tr=["onClick"],zr={class:"icone"},Ir=te((function(){return Object(i["g"])("label",{for:"couleur"},[Object(i["g"])("i",{class:"material-icons"},"colorize")],-1)})),Er={key:1,class:"conteneur-modale"},Dr={class:"modale"},Rr=te((function(){return Object(i["g"])("header",null,[Object(i["g"])("span",{class:"titre"},"Téléversement du fichier...")],-1)})),Nr={class:"conteneur"},Hr={class:"contenu"},Vr={class:"conteneur-chargement progression"},Ar=["value"],Fr=te((function(){return Object(i["g"])("div",{class:"chargement"},null,-1)})),Br={key:2,class:"conteneur-modale"},Jr={class:"modale confirmation"},Qr={class:"conteneur entier"},Xr={class:"contenu"},Gr=te((function(){return Object(i["g"])("p",null,"Souhaitez-vous vraiment supprimer cette étape ?",-1)})),Ur={class:"actions"},Kr={key:3,class:"conteneur-modale"},Wr={id:"travaux",class:"modale"},Zr=te((function(){return Object(i["g"])("span",{class:"titre"},"Afficher les travaux",-1)})),Yr=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),ec=[Yr],tc={class:"conteneur"},nc={class:"contenu"},ic=["id"],rc={class:"meta"},cc=Object(i["h"])("par "),oc={class:"motdepasse"},sc={class:"boutons"},ac=["href"],lc=["href"],uc=["onClick"],dc=["onClick"],pc={key:0,class:"retroaction"},bc=te((function(){return Object(i["g"])("div",{id:"retroaction"},null,-1)})),fc={class:"boutons"},hc={key:4,class:"conteneur-modale"},mc={key:0,class:"titre"},gc={key:1,class:"titre"},jc={key:2,class:"titre"},Oc=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),vc=[Oc],yc={class:"conteneur"},kc={class:"contenu"},xc={key:0},$c=te((function(){return Object(i["g"])("option",{value:"-"},"-",-1)})),Cc=te((function(){return Object(i["g"])("option",{value:"deposer"},"déposer un travail.",-1)})),Sc=te((function(){return Object(i["g"])("option",{value:"verifier"},"consulter un travail.",-1)})),qc=[$c,Cc,Sc],wc=te((function(){return Object(i["g"])("label",null,"Nom ou pseudo",-1)})),Mc=["value"],_c=te((function(){return Object(i["g"])("label",null,[Object(i["h"])("Mot de passe ("),Object(i["g"])("u",null,"à noter"),Object(i["h"])(" pour modifier le dépôt ou consulter le retour de l'enseignant)")],-1)})),Lc=["value"],Pc=te((function(){return Object(i["g"])("label",null,"Type de dépôt",-1)})),Tc=["selected"],zc=["selected"],Ic={key:0,for:"champ-lien"},Ec=["value"],Dc={key:2},Rc={key:3,id:"fichier"},Nc={key:0,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Hc={key:1,for:"televerser",class:"bouton",role:"button",tabindex:"0"},Vc=te((function(){return Object(i["g"])("label",null,"Mot de passe",-1)})),Ac=["value"],Fc=te((function(){return Object(i["g"])("label",null,"Nom ou pseudo",-1)})),Bc=["value"],Jc=te((function(){return Object(i["g"])("label",null,"Mot de passe",-1)})),Qc=["value"],Xc=te((function(){return Object(i["g"])("label",null,"Type de dépôt",-1)})),Gc=["selected"],Uc=["selected"],Kc={key:0,for:"champ-lien"},Wc=["value"],Zc={key:2},Yc={key:3,id:"fichier"},eo=["href"],to={key:1,for:"televerser",class:"bouton",role:"button",tabindex:"0"},no={key:2,for:"televerser",class:"bouton",role:"button",tabindex:"0"},io={key:3,for:"televerser",class:"bouton",role:"button",tabindex:"0"},ro=te((function(){return Object(i["g"])("label",null,"Rétroaction",-1)})),co=["innerHTML"],oo={key:5,id:"retroaction"},so={key:5,class:"conteneur-modale"},ao={class:"modale"},lo=te((function(){return Object(i["g"])("span",{class:"titre"},"Modifier ce parcours",-1)})),uo=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),po=[uo],bo={class:"conteneur"},fo={class:"contenu"},ho=te((function(){return Object(i["g"])("label",null,"Question secrète",-1)})),mo=["value"],go=te((function(){return Object(i["g"])("label",null,"Réponse secrète",-1)})),jo=["value"],Oo={class:"actions"},vo={key:6,class:"conteneur-modale"},yo={class:"modale"},ko=te((function(){return Object(i["g"])("span",{class:"titre"},"Paramètres du parcours",-1)})),xo=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),$o=[xo],Co={class:"conteneur"},So={class:"contenu"},qo={key:7,class:"conteneur-modale"},wo={class:"modale"},Mo=te((function(){return Object(i["g"])("span",{class:"titre"},"Modifier le nom du parcours",-1)})),_o=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),Lo=[_o],Po={class:"conteneur"},To={class:"contenu"},zo=te((function(){return Object(i["g"])("label",null,"Nouveau nom",-1)})),Io=["value"],Eo={class:"actions"},Do={key:8,class:"conteneur-modale"},Ro={class:"modale"},No=te((function(){return Object(i["g"])("span",{class:"titre"},"Modifier l'accès au parcours",-1)})),Ho=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),Vo=[Ho],Ao={class:"conteneur"},Fo={class:"contenu"},Bo=te((function(){return Object(i["g"])("label",null,"Question secrète actuelle",-1)})),Jo=["value"],Qo=te((function(){return Object(i["g"])("label",null,"Réponse secrète actuelle",-1)})),Xo=["value"],Go=te((function(){return Object(i["g"])("label",null,"Nouvelle question secrète",-1)})),Uo=["value"],Ko=te((function(){return Object(i["g"])("label",null,"Nouvelle réponse secrète",-1)})),Wo=["value"],Zo={class:"actions"},Yo={key:9,class:"conteneur-modale"},es={class:"modale confirmation"},ts={class:"conteneur entier"},ns={class:"contenu"},is=te((function(){return Object(i["g"])("p",null,"Souhaitez-vous vraiment supprimer ce parcours et tout son contenu ?",-1)})),rs={class:"actions"},cs={class:"conteneur-modale"},os={id:"codeqr",class:"modale"},ss=te((function(){return Object(i["g"])("span",{class:"titre"},"Code QR",-1)})),as=te((function(){return Object(i["g"])("i",{class:"material-icons"},"close",-1)})),ls=[as],us=te((function(){return Object(i["g"])("div",{class:"conteneur"},[Object(i["g"])("div",{class:"contenu"},[Object(i["g"])("div",{id:"qr"})])],-1)}));function ds(e,t,n,r,c,o){var s=Object(i["A"])("draggable");return Object(i["t"])(),Object(i["f"])("div",ne,[Object(i["g"])("div",ie,[Object(i["g"])("header",null,[Object(i["g"])("div",re,[Object(i["g"])("a",{id:"conteneur-logo",href:o.definirRacine(),title:"Accueil"},se,8,ce),Object(i["g"])("span",ae,Object(i["C"])(c.nom),1),Object(i["g"])("span",{id:"conteneur-partage",onClick:t[0]||(t[0]=function(){return o.afficherMenuPartager&&o.afficherMenuPartager.apply(o,arguments)})},ue),c.admin?(Object(i["t"])(),Object(i["f"])("span",{key:0,id:"conteneur-parametres",onClick:t[1]||(t[1]=function(){return o.ouvrirModaleParcours&&o.ouvrirModaleParcours.apply(o,arguments)})},pe)):(Object(i["t"])(),Object(i["f"])("span",{key:1,id:"conteneur-parametres",onClick:t[2]||(t[2]=function(){return o.ouvrirModaleConnexion&&o.ouvrirModaleConnexion.apply(o,arguments)})},fe))])]),Object(i["H"])(Object(i["g"])("div",{id:"menu-partager",style:Object(i["p"])({left:c.position+"px"})},[Object(i["g"])("div",he,[me,Object(i["g"])("div",ge,[Object(i["g"])("input",{type:"text",disabled:"",value:o.definirRacine()+"#/s/"+c.id},null,8,je),Oe,Object(i["g"])("span",{class:"icone codeqr",role:"button",tabindex:"0",title:"Afficher le code QR",onClick:t[3]||(t[3]=function(e){return c.modale="code-qr"})},ye)]),ke,Object(i["g"])("div",xe,[Object(i["g"])("input",{type:"text",disabled:"",value:'<iframe src="'+o.definirRacine()+"#/s/"+c.id+'" allowfullscreen frameborder="0" width="100%" height="500"></iframe>'},null,8,$e),Ce]),Se])],4),[[i["E"],"partager"===c.menu]]),Object(i["g"])("section",null,[Object(i["g"])("div",qe,[c.admin?(Object(i["t"])(),Object(i["f"])("div",we,[Object(i["g"])("span",{id:"ajouter",class:"bouton",role:"button",tabindex:"0",onClick:t[4]||(t[4]=function(e){return o.ouvrirModaleBloc("creation","")})},"Ajouter une étape")])):Object(i["e"])("",!0),c.blocs.length>0&&c.admin?(Object(i["t"])(),Object(i["d"])(s,{key:1,id:"blocs",class:"admin",modelValue:c.blocs,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.blocs=e}),animation:250,sort:!0,"swap-threshold":.5,"force-fallback":!0,"fallback-tolerance":10,filter:".statique, .lire",draggable:".bloc",onEnd:o.modifierPositionBloc},{default:Object(i["G"])((function(){return[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.blocs,(function(e,t){return Object(i["t"])(),Object(i["f"])(i["a"],{key:"bloc_"+t},["section"===e.type?(Object(i["t"])(),Object(i["f"])("article",{key:0,id:e.id,class:Object(i["o"])(["bloc section",{invisible:!1===e.visibilite}])},[Object(i["g"])("div",_e,[Object(i["g"])("span",{class:"titre",style:Object(i["p"])({"border-color":e.couleur})},Object(i["C"])(e.titre),5),""!==e.texte?(Object(i["t"])(),Object(i["f"])("span",{key:0,class:"texte",innerHTML:e.texte},null,8,Le)):Object(i["e"])("",!0)]),Object(i["g"])("div",Pe,[!0===e.visibilite?(Object(i["t"])(),Object(i["f"])("span",{key:0,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Masquer"},Ie,8,Te)):(Object(i["t"])(),Object(i["f"])("span",{key:1,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Afficher"},Re,8,Ee)),Object(i["g"])("span",{onClick:function(t){return o.ouvrirModaleBloc("edition",e)},title:"Éditer"},Ve,8,Ne),Object(i["g"])("span",{onClick:function(t){return o.afficherSupprimerBloc(e.id)},title:"Supprimer"},Be,8,Ae)])],10,Me)):(Object(i["t"])(),Object(i["f"])("article",{key:1,id:e.id,class:Object(i["o"])(["bloc",{invisible:!1===e.visibilite}]),style:Object(i["p"])({background:o.eclaircirCouleur(e.couleur)})},[Object(i["g"])("div",{class:"vignette",style:Object(i["p"])({"border-color":e.couleur,color:o.modifierCouleur(e.couleur,-20)})},["icone"===e.vignette.substring(0,5)?(Object(i["t"])(),Object(i["f"])("span",Qe,[Object(i["g"])("i",Xe,Object(i["C"])(e.vignette.substring(6)),1)])):(Object(i["t"])(),Object(i["f"])("span",Ge,[Object(i["g"])("img",{src:o.definirRacine()+"static/vignettes/"+e.vignette+".png"},null,8,Ue)])),e.heures>0||e.minutes>0?(Object(i["t"])(),Object(i["f"])("span",Ke,Object(i["C"])(o.definirDuree(e.heures,e.minutes)),1)):Object(i["e"])("",!0)],4),Object(i["g"])("div",{class:Object(i["o"])(["contenu",e.type])},[Object(i["g"])("span",{class:"titre",style:Object(i["p"])({"border-color":e.couleur})},Object(i["C"])(e.titre),5),""!==e.texte?(Object(i["t"])(),Object(i["f"])("span",{key:0,class:"texte",innerHTML:e.texte},null,8,We)):Object(i["e"])("",!0),""!==e.date&&""!==e.debut&""!==e.fin?(Object(i["t"])(),Object(i["f"])("div",Ze,[Object(i["g"])("span",Ye,[et,Object(i["h"])(Object(i["C"])(o.definirDate(e.date)),1)]),Object(i["g"])("span",tt,[nt,Object(i["h"])(Object(i["C"])(o.definirHoraire(e.date,e.debut,e.fin)),1)])])):Object(i["e"])("",!0),""!==e.lieu&&!1===e.lieu.includes("http")?(Object(i["t"])(),Object(i["f"])("span",it,[rt,Object(i["g"])("a",{href:"https://www.openstreetmap.org/search?query="+e.lieu,target:"_blank"},Object(i["C"])(e.lieu),9,ct)])):""!==e.lieu&&!0===e.lieu.includes("http")?(Object(i["t"])(),Object(i["f"])("span",ot,[st,Object(i["g"])("a",{href:e.lieu,target:"_blank"},Object(i["C"])(o.definirDomaine(e.lieu)),9,at)])):Object(i["e"])("",!0),""!==e.lien||""!==e.fichier||!0===e.hasOwnProperty("depot")&&"oui"===e.depot&&!0===e.hasOwnProperty("travaux")&&e.travaux.length>0?(Object(i["t"])(),Object(i["f"])("div",lt,[""!==e.lien?(Object(i["t"])(),Object(i["f"])("a",{key:0,class:"bouton",href:e.lien,target:"_blank",style:Object(i["p"])({"border-color":e.couleur})},"Ouvrir le lien",12,ut)):""!==e.fichier?(Object(i["t"])(),Object(i["f"])("a",{key:1,class:"bouton",href:o.definirRacine()+"fichiers/"+c.id+"/"+e.fichier,target:"_blank",style:Object(i["p"])({"border-color":e.couleur})},"Télécharger le fichier",12,dt)):Object(i["e"])("",!0),!0===e.hasOwnProperty("depot")&&"oui"===e.depot&&!0===e.hasOwnProperty("travaux")&&e.travaux.length>0?(Object(i["t"])(),Object(i["f"])("span",{key:2,class:"bouton travaux",role:"button",tabindex:"0",style:Object(i["p"])({"border-color":e.couleur}),onClick:function(t){return o.ouvrirModaleTravaux(e)}},"Afficher les travaux",12,pt)):Object(i["e"])("",!0)])):Object(i["e"])("",!0)],2),Object(i["g"])("div",bt,[!0===e.visibilite?(Object(i["t"])(),Object(i["f"])("span",{key:0,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Masquer"},mt,8,ft)):(Object(i["t"])(),Object(i["f"])("span",{key:1,onClick:function(t){return o.modifierVisibiliteBloc(e.id)},title:"Afficher"},Ot,8,gt)),Object(i["g"])("span",{onClick:function(t){return o.ouvrirModaleBloc("edition",e)},title:"Éditer"},kt,8,vt),Object(i["g"])("span",{onClick:function(t){return o.afficherSupprimerBloc(e.id)},title:"Supprimer"},Ct,8,xt)])],14,Je))],64)})),128))]})),_:1},8,["modelValue","swap-threshold","onEnd"])):c.blocs.length>0&&!c.admin?(Object(i["t"])(),Object(i["f"])("div",St,[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.blocs,(function(e,t){return Object(i["t"])(),Object(i["f"])(i["a"],{key:"bloc_"+t},[!0===e.visibilite&&"section"===e.type?(Object(i["t"])(),Object(i["f"])("article",{key:0,id:e.id,class:"bloc section"},[Object(i["g"])("div",wt,[Object(i["g"])("span",{class:"titre",style:Object(i["p"])({"border-color":e.couleur})},Object(i["C"])(e.titre),5),""!==e.texte?(Object(i["t"])(),Object(i["f"])("span",{key:0,class:"texte",innerHTML:e.texte},null,8,Mt)):Object(i["e"])("",!0)])],8,qt)):!0===e.visibilite&&"section"!==e.type?(Object(i["t"])(),Object(i["f"])("article",{key:1,id:e.id,class:"bloc",style:Object(i["p"])({background:o.eclaircirCouleur(e.couleur)})},[Object(i["g"])("div",{class:"vignette",style:Object(i["p"])({"border-color":e.couleur,color:o.modifierCouleur(e.couleur,-20)})},["icone"===e.vignette.substring(0,5)?(Object(i["t"])(),Object(i["f"])("span",Lt,[Object(i["g"])("i",Pt,Object(i["C"])(e.vignette.substring(6)),1)])):(Object(i["t"])(),Object(i["f"])("span",Tt,[Object(i["g"])("img",{src:o.definirRacine()+"static/vignettes/"+e.vignette+".png"},null,8,zt)])),e.heures>0||e.minutes>0?(Object(i["t"])(),Object(i["f"])("span",It,Object(i["C"])(o.definirDuree(e.heures,e.minutes)),1)):Object(i["e"])("",!0)],4),Object(i["g"])("div",{class:Object(i["o"])(["contenu",e.type])},[Object(i["g"])("span",{class:"titre",style:Object(i["p"])({"border-color":e.couleur})},Object(i["C"])(e.titre),5),""!==e.texte?(Object(i["t"])(),Object(i["f"])("span",{key:0,class:"texte",innerHTML:e.texte},null,8,Et)):Object(i["e"])("",!0),""!==e.date&&""!==e.debut&&""!==e.fin?(Object(i["t"])(),Object(i["f"])("div",Dt,[Object(i["g"])("span",Rt,[Nt,Object(i["h"])(Object(i["C"])(o.definirDate(e.date)),1)]),Object(i["g"])("span",Ht,[Vt,Object(i["h"])(Object(i["C"])(o.definirHoraire(e.date,e.debut,e.fin)),1)])])):Object(i["e"])("",!0),""!==e.lieu&&!1===e.lieu.includes("http")?(Object(i["t"])(),Object(i["f"])("span",At,[Ft,Object(i["g"])("a",{href:"https://www.openstreetmap.org/search?query="+e.lieu,target:"_blank"},Object(i["C"])(e.lieu),9,Bt)])):""!==e.lieu&&!0===e.lieu.includes("http")?(Object(i["t"])(),Object(i["f"])("span",Jt,[Qt,Object(i["g"])("a",{href:e.lieu,target:"_blank"},Object(i["C"])(o.definirDomaine(e.lieu)),9,Xt)])):Object(i["e"])("",!0),""!==e.lien||""!==e.fichier||!0===e.hasOwnProperty("depot")&&"oui"===e.depot?(Object(i["t"])(),Object(i["f"])("div",Gt,[""!==e.lien?(Object(i["t"])(),Object(i["f"])("a",{key:0,class:"bouton",href:e.lien,target:"_blank",style:Object(i["p"])({"border-color":e.couleur})},"Ouvrir le lien",12,Ut)):""!==e.fichier?(Object(i["t"])(),Object(i["f"])("a",{key:1,class:"bouton",href:o.definirRacine()+"fichiers/"+c.id+"/"+e.fichier,target:"_blank",style:Object(i["p"])({"border-color":e.couleur})},"Télécharger le fichier",12,Kt)):Object(i["e"])("",!0),!0===e.hasOwnProperty("depot")&&"oui"===e.depot?(Object(i["t"])(),Object(i["f"])("span",{key:2,class:"bouton travaux",role:"button",tabindex:"0",style:Object(i["p"])({"border-color":e.couleur}),onClick:function(t){return o.ouvrirModaleDepot(e.id)}},"Déposer ou consulter un travail",12,Wt)):Object(i["e"])("",!0)])):Object(i["e"])("",!0)],2)],12,_t)):Object(i["e"])("",!0)],64)})),128))])):0===c.blocs.length?(Object(i["t"])(),Object(i["f"])("div",Zt,en)):Object(i["e"])("",!0)])])]),"bloc"===c.modale?(Object(i["t"])(),Object(i["f"])("div",tn,[Object(i["g"])("div",nn,[Object(i["g"])("header",null,["creation"===c.mode&&"-"===c.type?(Object(i["t"])(),Object(i["f"])("span",rn,"Ajouter une étape")):"creation"===c.mode&&"section"===c.type?(Object(i["t"])(),Object(i["f"])("span",cn,"Ajouter une section")):"creation"===c.mode&&"seance"===c.type?(Object(i["t"])(),Object(i["f"])("span",on,"Ajouter une séance")):"creation"===c.mode&&"document"===c.type?(Object(i["t"])(),Object(i["f"])("span",sn,"Ajouter un document ou un média")):"creation"===c.mode&&"activite"===c.type?(Object(i["t"])(),Object(i["f"])("span",an,"Ajouter une activité ou un exercice")):"creation"===c.mode&&"evaluation"===c.type?(Object(i["t"])(),Object(i["f"])("span",ln,"Ajouter une évaluation")):(Object(i["t"])(),Object(i["f"])("span",un,"Modifier cette étape")),Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[6]||(t[6]=function(){return o.fermerModaleContenu&&o.fermerModaleContenu.apply(o,arguments)})},pn)]),Object(i["g"])("div",bn,[Object(i["g"])("div",fn,[hn,Object(i["g"])("input",{id:"champ-titre",type:"text",placeholder:"Ajouter un titre",value:c.titre,onInput:t[7]||(t[7]=function(e){return c.titre=e.target.value})},null,40,mn),"-"===c.type||"section"===c.type||"seance"===c.type||"document"===c.type?(Object(i["t"])(),Object(i["f"])("label",gn,"Description")):(Object(i["t"])(),Object(i["f"])("label",jn,"Consigne")),On,vn,Object(i["g"])("select",{onChange:t[8]||(t[8]=function(e){return o.modifierType(e.target.value)})},[Object(i["g"])("option",{value:"-",selected:"-"===c.type},"-",8,yn),Object(i["g"])("option",{value:"section",selected:"section"===c.type},"-Section-",8,kn),Object(i["g"])("option",{value:"seance",selected:"seance"===c.type},"Séance en présence ou à distance",8,xn),Object(i["g"])("option",{value:"document",selected:"document"===c.type},"Document ou média",8,$n),Object(i["g"])("option",{value:"activite",selected:"activite"===c.type},"Activité ou exercice",8,Cn),Object(i["g"])("option",{value:"evaluation",selected:"evaluation"===c.type},"Évaluation",8,Sn)],32),"-"!==c.type&&"section"!==c.type?(Object(i["t"])(),Object(i["f"])("div",qn,["seance"===c.type?(Object(i["t"])(),Object(i["f"])(i["a"],{key:0},[Object(i["g"])("div",wn,[Object(i["g"])("div",Mn,[_n,Object(i["g"])("input",{id:"champ-date",type:"date",value:c.date,onInput:t[9]||(t[9]=function(e){return c.date=e.target.value})},null,40,Ln)]),Object(i["g"])("div",Pn,[Tn,Object(i["g"])("input",{id:"champ-debut",type:"time",value:c.debut,onInput:t[10]||(t[10]=function(e){return c.debut=e.target.value})},null,40,zn)]),Object(i["g"])("div",In,[En,Object(i["g"])("input",{id:"champ-fin",type:"time",value:c.fin,onInput:t[11]||(t[11]=function(e){return c.fin=e.target.value})},null,40,Dn)])]),Rn,Object(i["g"])("input",{id:"champ-lieu",type:"text",placeholder:"Exemple : 5 rue des fleurs, 2000 La Digitale ou https://meet.jit.si",value:c.lieu,onInput:t[12]||(t[12]=function(e){return c.lieu=e.target.value})},null,40,Nn)],64)):"document"===c.type||"activite"===c.type||"evaluation"===c.type?(Object(i["t"])(),Object(i["f"])(i["a"],{key:1},[Hn,Object(i["g"])("select",{onChange:t[13]||(t[13]=function(e){return o.modifierRessource(e.target.value)})},["document"!==c.type?(Object(i["t"])(),Object(i["f"])("option",{key:0,value:"-",selected:"-"===c.ressource},"-",8,Vn)):Object(i["e"])("",!0),Object(i["g"])("option",{value:"lien",selected:"lien"===c.ressource},"Lien",8,An),Object(i["g"])("option",{value:"fichier",selected:"fichier"===c.ressource},"Fichier",8,Fn)],32),"lien"===c.ressource?(Object(i["t"])(),Object(i["f"])("label",Bn,"Lien")):Object(i["e"])("",!0),"document"===c.type&&"lien"===c.ressource?(Object(i["t"])(),Object(i["f"])("input",{key:1,id:"champ-lien",type:"text",placeholder:"Exemples : https://ladigitale.dev/digiplay, https://ladigitale.dev/digiread",value:c.lien,onInput:t[14]||(t[14]=function(e){return c.lien=e.target.value})},null,40,Jn)):"document"!==c.type&&"lien"===c.ressource?(Object(i["t"])(),Object(i["f"])("input",{key:2,id:"champ-lien",type:"text",placeholder:"Exemples : https://digipad.app, https://digistorm.app, https://ladigitale.dev/digiquiz",value:c.lien,onInput:t[15]||(t[15]=function(e){return c.lien=e.target.value})},null,40,Qn)):Object(i["e"])("",!0),"fichier"===c.ressource?(Object(i["t"])(),Object(i["f"])("label",Xn,"Fichier (max. 2 Mo)")):Object(i["e"])("",!0),"fichier"===c.ressource?(Object(i["t"])(),Object(i["f"])("div",Gn,["edition"===c.mode&&""!==c.fichier&&c.ancienFichier===c.fichier?(Object(i["t"])(),Object(i["f"])("a",{key:0,class:"bouton",href:o.definirRacine()+"fichiers/"+c.id+"/"+c.fichier,target:"_blank"},"Voir le fichier actuel",8,Un)):Object(i["e"])("",!0),""===c.fichier?(Object(i["t"])(),Object(i["f"])("label",Kn,"Sélectionner un fichier")):"creation"===c.mode&&""!==c.fichier?(Object(i["t"])(),Object(i["f"])("label",Wn,Object(i["C"])(c.fichier),1)):"edition"===c.mode&&""!==c.fichier&&c.ancienFichier===c.fichier?(Object(i["t"])(),Object(i["f"])("label",Zn,"Remplacer le fichier actuel")):"edition"===c.mode&&""!==c.fichier&&c.ancienFichier!==c.fichier?(Object(i["t"])(),Object(i["f"])("label",Yn,Object(i["C"])(c.fichier),1)):Object(i["e"])("",!0),Object(i["g"])("input",{id:"televerser",type:"file",accept:".jpg, .jpeg, .png, .gif, .mp3, .mp4, .pdf, .doc, .docx, .odt, .ppt, .pptx, .odp, .xls, .xlsx, .ods",onChange:t[16]||(t[16]=function(){return o.selectionnerFichier&&o.selectionnerFichier.apply(o,arguments)}),style:{display:"none"}},null,32)])):Object(i["e"])("",!0)],64)):Object(i["e"])("",!0),"activite"===c.type||"evaluation"===c.type?(Object(i["t"])(),Object(i["f"])(i["a"],{key:2},[ei,Object(i["g"])("div",ti,[Object(i["g"])("span",ni,[Object(i["g"])("input",{type:"radio",id:"depot_oui",name:"depot",value:"oui",checked:"oui"===c.depot,onChange:t[17]||(t[17]=function(e){return c.depot=e.target.value})},null,40,ii),ri]),Object(i["g"])("span",ci,[Object(i["g"])("input",{type:"radio",id:"depot_non",name:"depot",value:"non",checked:"non"===c.depot,onChange:t[18]||(t[18]=function(e){return c.depot=e.target.value})},null,40,oi),si])])],64)):Object(i["e"])("",!0),"seance"===c.type?(Object(i["t"])(),Object(i["f"])("label",ai,"Durée")):"document"===c.type?(Object(i["t"])(),Object(i["f"])("label",li,"Durée estimée de consultation")):(Object(i["t"])(),Object(i["f"])("label",ui,"Durée estimée de réalisation")),Object(i["g"])("div",di,[Object(i["g"])("select",{onChange:t[19]||(t[19]=function(e){return c.heures=parseInt(e.target.value)})},[Object(i["g"])("option",{value:"0",selected:0===c.heures},"0",8,pi),Object(i["g"])("option",{value:"1",selected:1===c.heures},"1",8,bi),Object(i["g"])("option",{value:"2",selected:2===c.heures},"2",8,fi),Object(i["g"])("option",{value:"3",selected:3===c.heures},"3",8,hi),Object(i["g"])("option",{value:"4",selected:4===c.heures},"4",8,mi),Object(i["g"])("option",{value:"5",selected:5===c.heures},"5",8,gi),Object(i["g"])("option",{value:"6",selected:6===c.heures},"6",8,ji),Object(i["g"])("option",{value:"7",selected:7===c.heures},"7",8,Oi),Object(i["g"])("option",{value:"8",selected:8===c.heures},"8",8,vi),Object(i["g"])("option",{value:"9",selected:9===c.heures},"9",8,yi),Object(i["g"])("option",{value:"10",selected:10===c.heures},"10",8,ki),Object(i["g"])("option",{value:"11",selected:11===c.heures},"11",8,xi),Object(i["g"])("option",{value:"12",selected:12===c.heures},"12",8,$i)],32),Ci,Object(i["g"])("select",{onChange:t[20]||(t[20]=function(e){return c.minutes=parseInt(e.target.value)})},[Object(i["g"])("option",{value:"0",selected:0===c.minutes},"00",8,Si),Object(i["g"])("option",{value:"5",selected:5===c.minutes},"05",8,qi),Object(i["g"])("option",{value:"10",selected:10===c.minutes},"10",8,wi),Object(i["g"])("option",{value:"15",selected:15===c.minutes},"15",8,Mi),Object(i["g"])("option",{value:"20",selected:20===c.minutes},"20",8,_i),Object(i["g"])("option",{value:"25",selected:25===c.minutes},"25",8,Li),Object(i["g"])("option",{value:"30",selected:30===c.minutes},"30",8,Pi),Object(i["g"])("option",{value:"35",selected:35===c.minutes},"35",8,Ti),Object(i["g"])("option",{value:"40",selected:40===c.minutes},"40",8,zi),Object(i["g"])("option",{value:"45",selected:45===c.minutes},"45",8,Ii),Object(i["g"])("option",{value:"50",selected:50===c.minutes},"50",8,Ei),Object(i["g"])("option",{value:"55",selected:55===c.minutes},"55",8,Di)],32)])])):Object(i["e"])("",!0),"-"!==c.type&&"section"!==c.type?(Object(i["t"])(),Object(i["f"])("label",Ri,"Vignette")):Object(i["e"])("",!0),"seance"===c.type?(Object(i["t"])(),Object(i["f"])("select",{key:4,id:"vignette",onChange:t[21]||(t[21]=function(e){return o.modifierVignette(e.target.value)})},[Object(i["g"])("option",{value:"icone_meeting_room",selected:"icone_meeting_room"===c.vignette},"Icône classe",8,Ni),Object(i["g"])("option",{value:"icone_devices",selected:"icone_devices"===c.vignette},"Icône visioconférence",8,Hi),Object(i["g"])("option",{value:"jitsi",selected:"jitsi"===c.vignette},"Jitsi Meet",8,Vi),Object(i["g"])("option",{value:"teams",selected:"teams"===c.vignette},"Microsoft Teams",8,Ai),Object(i["g"])("option",{value:"zoom",selected:"zoom"===c.vignette},"Zoom",8,Fi),Object(i["g"])("option",{value:"meet",selected:"meet"===c.vignette},"Google Meet",8,Bi)],32)):"document"===c.type?(Object(i["t"])(),Object(i["f"])("select",{key:5,id:"vignette",onChange:t[22]||(t[22]=function(e){return o.modifierVignette(e.target.value)})},[Object(i["g"])("option",{value:"icone_article",selected:"icone_article"===c.vignette},"Icône document",8,Ji),Object(i["g"])("option",{value:"icone_cloud_download",selected:"icone_cloud_download"===c.vignette},"Icône nuage",8,Qi),Object(i["g"])("option",{value:"icone_explore",selected:"icone_explore"===c.vignette},"Icône explorer",8,Xi),Object(i["g"])("option",{value:"ladigitale",selected:"ladigitale"===c.vignette},"La Digitale",8,Gi),Object(i["g"])("option",{value:"wikipedia",selected:"wikipedia"===c.vignette},"Wikipedia",8,Ui),Object(i["g"])("option",{value:"peertube",selected:"peertube"===c.vignette},"Peertube",8,Ki),Object(i["g"])("option",{value:"pdf",selected:"pdf"===c.vignette},"Fichier PDF",8,Wi),Object(i["g"])("option",{value:"odt",selected:"odt"===c.vignette},"LibreOffice Writer",8,Zi),Object(i["g"])("option",{value:"odp",selected:"odp"===c.vignette},"LibreOffice Impress",8,Yi),Object(i["g"])("option",{value:"ods",selected:"ods"===c.vignette},"LibreOffice Calc",8,er),Object(i["g"])("option",{value:"doc",selected:"doc"===c.vignette},"Microsoft Word",8,tr),Object(i["g"])("option",{value:"ppt",selected:"ppt"===c.vignette},"Microsoft Powerpoint",8,nr),Object(i["g"])("option",{value:"xls",selected:"xls"===c.vignette},"Microsoft Excel",8,ir),Object(i["g"])("option",{value:"gdoc",selected:"gdoc"===c.vignette},"Google Document",8,rr),Object(i["g"])("option",{value:"gslides",selected:"gslides"===c.vignette},"Google Slides",8,cr),Object(i["g"])("option",{value:"gsheets",selected:"gsheets"===c.vignette},"Google Sheets",8,or),Object(i["g"])("option",{value:"genially",selected:"genially"===c.vignette},"Genially",8,sr),Object(i["g"])("option",{value:"youtube",selected:"youtube"===c.vignette},"Youtube",8,ar),Object(i["g"])("option",{value:"vimeo",selected:"vimeo"===c.vignette},"Vimeo",8,lr)],32)):"activite"===c.type?(Object(i["t"])(),Object(i["f"])("select",{key:6,id:"vignette",onChange:t[23]||(t[23]=function(e){return o.modifierVignette(e.target.value)})},[Object(i["g"])("option",{value:"icone_check_circle",selected:"icone_check_circle"===c.vignette},"Icône activité",8,ur),Object(i["g"])("option",{value:"ladigitale",selected:"ladigitale"===c.vignette},"La Digitale",8,dr),Object(i["g"])("option",{value:"h5p",selected:"h5p"===c.vignette},"H5P",8,pr),Object(i["g"])("option",{value:"snacks",selected:"snacks"===c.vignette},"Learning Snacks",8,br),Object(i["g"])("option",{value:"quiziniere",selected:"quiziniere"===c.vignette},"QuiZinière",8,fr),Object(i["g"])("option",{value:"vocaroo",selected:"vocaroo"===c.vignette},"Vocaroo",8,hr),Object(i["g"])("option",{value:"quizlet",selected:"quizlet"===c.vignette},"Quizlet",8,mr),Object(i["g"])("option",{value:"flipgrid",selected:"flipgrid"===c.vignette},"Flipgrid",8,gr),Object(i["g"])("option",{value:"genially",selected:"genially"===c.vignette},"Genially",8,jr)],32)):"evaluation"===c.type?(Object(i["t"])(),Object(i["f"])("select",{key:7,id:"vignette",onChange:t[24]||(t[24]=function(e){return o.modifierVignette(e.target.value)})},[Object(i["g"])("option",{value:"icone_assessment",selected:"icone_assessment"===c.vignette},"Icône évaluation",8,Or),Object(i["g"])("option",{value:"ladigitale",selected:"ladigitale"===c.vignette},"La Digitale",8,vr),Object(i["g"])("option",{value:"h5p",selected:"h5p"===c.vignette},"H5P",8,yr),Object(i["g"])("option",{value:"snacks",selected:"snacks"===c.vignette},"Learning Snacks",8,kr),Object(i["g"])("option",{value:"quiziniere",selected:"quiziniere"===c.vignette},"QuiZinière",8,xr),Object(i["g"])("option",{value:"vocaroo",selected:"vocaroo"===c.vignette},"Vocaroo",8,$r),Object(i["g"])("option",{value:"quizlet",selected:"quizlet"===c.vignette},"Quizlet",8,Cr),Object(i["g"])("option",{value:"flipgrid",selected:"flipgrid"===c.vignette},"Flipgrid",8,Sr),Object(i["g"])("option",{value:"genially",selected:"genially"===c.vignette},"Genially",8,qr)],32)):Object(i["e"])("",!0),"-"!==c.type&&"section"!==c.type?(Object(i["t"])(),Object(i["f"])("div",wr,["icone"===c.vignette.substring(0,5)?(Object(i["t"])(),Object(i["f"])("i",Mr,Object(i["C"])(c.vignette.substring(6)),1)):(Object(i["t"])(),Object(i["f"])("img",{key:1,src:o.definirRacine()+"static/vignettes/"+c.vignette+".png"},null,8,_r))])):Object(i["e"])("",!0),Lr,Object(i["g"])("div",Pr,[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.couleurs,(function(e,t){return Object(i["t"])(),Object(i["f"])("span",{class:Object(i["o"])({selectionne:e===c.couleur}),style:Object(i["p"])({background:e}),onClick:function(t){return o.selectionnerCouleur(e)},key:"couleur_"+t},null,14,Tr)})),128)),Object(i["g"])("span",zr,[Ir,c.couleurs.includes(c.couleur)?(Object(i["t"])(),Object(i["f"])("input",{key:0,type:"color",id:"couleur",value:"#dddddd",title:"Sélectionner une couleur",onChange:t[25]||(t[25]=function(e){return o.selectionnerCouleur(e.target.value)})},null,32)):(Object(i["t"])(),Object(i["f"])("input",{key:1,type:"color",id:"couleur",class:"selectionne",title:"Sélectionner une couleur",onChange:t[26]||(t[26]=function(e){return o.selectionnerCouleur(e.target.value)})},null,32))])])])]),"creation"===c.mode?(Object(i["t"])(),Object(i["f"])("div",{key:0,id:"valider",role:"button",tabindex:"0",onClick:t[27]||(t[27]=function(){return o.ajouterBloc&&o.ajouterBloc.apply(o,arguments)})},"Valider")):(Object(i["t"])(),Object(i["f"])("div",{key:1,id:"valider",role:"button",tabindex:"0",onClick:t[28]||(t[28]=function(){return o.modifierBloc&&o.modifierBloc.apply(o,arguments)})},"Modifier"))])])):"televerser"===c.modale?(Object(i["t"])(),Object(i["f"])("div",Er,[Object(i["g"])("div",Dr,[Rr,Object(i["g"])("div",Nr,[Object(i["g"])("div",Hr,[Object(i["g"])("div",Vr,[Object(i["g"])("progress",{class:"barre-progression",max:"100",value:c.progression},null,8,Ar),Fr])])])])])):"supprimer-bloc"===c.modale?(Object(i["t"])(),Object(i["f"])("div",Br,[Object(i["g"])("div",Jr,[Object(i["g"])("div",Qr,[Object(i["g"])("div",Xr,[Gr,Object(i["g"])("div",Ur,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[29]||(t[29]=function(e){return c.modale=""})},"Non"),Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[30]||(t[30]=function(){return o.supprimerBloc&&o.supprimerBloc.apply(o,arguments)})},"Oui")])])])])])):"travaux"===c.modale?(Object(i["t"])(),Object(i["f"])("div",Kr,[Object(i["g"])("div",Wr,[Object(i["g"])("header",null,[Zr,Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[31]||(t[31]=function(){return o.fermerModaleTravaux&&o.fermerModaleTravaux.apply(o,arguments)})},ec)]),Object(i["g"])("div",tc,[Object(i["g"])("div",nc,[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.travaux,(function(e,n){return Object(i["t"])(),Object(i["f"])("div",{id:"travail"+e.motdepasse,class:"travail",key:"travail_"+n},[Object(i["g"])("span",rc,[cc,Object(i["g"])("b",null,Object(i["C"])(e.pseudo),1),Object(i["h"])(" "+Object(i["C"])(o.definirDateEtHeure(e.date))+" ",1),Object(i["g"])("span",oc,"(mot de passe : "+Object(i["C"])(e.motdepasse)+")",1)]),Object(i["g"])("div",sc,[""!==e.lien?(Object(i["t"])(),Object(i["f"])("a",{key:0,class:"bouton",href:e.lien,target:"_blank"},"Ouvrir le lien",8,ac)):""!==e.fichier?(Object(i["t"])(),Object(i["f"])("a",{key:1,class:"bouton",href:o.definirRacine()+"fichiers/"+c.id+"/"+e.fichier,target:"_blank"},"Télécharger le fichier",8,lc)):Object(i["e"])("",!0),parseInt(e.motdepasse)!==parseInt(c.motdepasse)&&""===e.retroaction?(Object(i["t"])(),Object(i["f"])("span",{key:2,class:"bouton",role:"button",tabindex:"0",onClick:function(t){return o.afficherRetroaction(e.motdepasse,e.retroaction)}},"Commenter",8,uc)):parseInt(e.motdepasse)!==parseInt(c.motdepasse)&&""!==e.retroaction?(Object(i["t"])(),Object(i["f"])("span",{key:3,class:"bouton",role:"button",tabindex:"0",onClick:function(t){return o.afficherRetroaction(e.motdepasse,e.retroaction)}},"Modifier le commentaire",8,dc)):Object(i["e"])("",!0)]),parseInt(e.motdepasse)===parseInt(c.motdepasse)?(Object(i["t"])(),Object(i["f"])("div",pc,[bc,Object(i["g"])("div",fc,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[32]||(t[32]=function(){return o.annulerRetroaction&&o.annulerRetroaction.apply(o,arguments)})},"Annuler"),Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[33]||(t[33]=function(){return o.enregistrerRetroaction&&o.enregistrerRetroaction.apply(o,arguments)})},"Enregistrer")])])):Object(i["e"])("",!0)],8,ic)})),128))])]),"deposer"===c.mode||"afficher"===c.mode?(Object(i["t"])(),Object(i["f"])("div",{key:0,id:"valider",role:"button",tabindex:"0",onClick:t[34]||(t[34]=function(){return o.deposer&&o.deposer.apply(o,arguments)})},"Valider")):"verifier"===c.mode?(Object(i["t"])(),Object(i["f"])("div",{key:1,id:"valider",role:"button",tabindex:"0",onClick:t[35]||(t[35]=function(){return o.verifier&&o.verifier.apply(o,arguments)})},"Valider")):Object(i["e"])("",!0)])])):"depot"===c.modale?(Object(i["t"])(),Object(i["f"])("div",hc,[Object(i["g"])("div",{id:"travail",class:Object(i["o"])(["modale",{deposer:"deposer"===c.mode||"afficher"===c.mode,verifier:"verifier"===c.mode}])},[Object(i["g"])("header",null,["deposer"===c.mode?(Object(i["t"])(),Object(i["f"])("span",mc,"Déposer un travail")):"verifier"===c.mode||"afficher"===c.mode?(Object(i["t"])(),Object(i["f"])("span",gc,"Consulter un travail")):(Object(i["t"])(),Object(i["f"])("span",jc,"Déposer ou consulter un travail")),Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[36]||(t[36]=function(){return o.fermerModaleDepot&&o.fermerModaleDepot.apply(o,arguments)})},vc)]),Object(i["g"])("div",yc,[Object(i["g"])("div",kc,[""===c.mode||"-"===c.mode?(Object(i["t"])(),Object(i["f"])("label",xc,"Je veux...")):Object(i["e"])("",!0),""===c.mode||"-"===c.mode?(Object(i["t"])(),Object(i["f"])("select",{key:1,onChange:t[37]||(t[37]=function(e){return o.modifierModeDepot(e.target.value)})},qc,32)):Object(i["e"])("",!0),"deposer"===c.mode?(Object(i["t"])(),Object(i["f"])(i["a"],{key:2},[wc,Object(i["g"])("input",{type:"text",value:c.pseudo,placeholder:"Nom ou pseudo",onInput:t[38]||(t[38]=function(e){return c.pseudo=e.target.value})},null,40,Mc),_c,Object(i["g"])("input",{type:"text",value:c.motdepasse,disabled:""},null,8,Lc),Pc,Object(i["g"])("select",{onChange:t[39]||(t[39]=function(e){return o.modifierRessourceDepot(e.target.value)})},[Object(i["g"])("option",{value:"lien",selected:"lien"===c.ressource},"Lien",8,Tc),Object(i["g"])("option",{value:"fichier",selected:"fichier"===c.ressource},"Fichier",8,zc)],32),"lien"===c.ressource?(Object(i["t"])(),Object(i["f"])("label",Ic,"Lien")):Object(i["e"])("",!0),"lien"===c.ressource?(Object(i["t"])(),Object(i["f"])("input",{key:1,id:"champ-lien",type:"text",value:c.lien,placeholder:"https://...",onInput:t[40]||(t[40]=function(e){return c.lien=e.target.value})},null,40,Ec)):Object(i["e"])("",!0),"fichier"===c.ressource?(Object(i["t"])(),Object(i["f"])("label",Dc,"Fichier (max. 2 Mo)")):Object(i["e"])("",!0),"fichier"===c.ressource?(Object(i["t"])(),Object(i["f"])("div",Rc,[""===c.fichier?(Object(i["t"])(),Object(i["f"])("label",Nc,"Sélectionner un fichier")):(Object(i["t"])(),Object(i["f"])("label",Hc,Object(i["C"])(c.fichier),1)),Object(i["g"])("input",{id:"televerser",type:"file",accept:".jpg, .jpeg, .png, .gif, .mp3, .mp4, .pdf, .doc, .docx, .odt, .ppt, .pptx, .odp, .xls, .xlsx, .ods",onChange:t[41]||(t[41]=function(){return o.selectionnerFichier&&o.selectionnerFichier.apply(o,arguments)}),style:{display:"none"}},null,32)])):Object(i["e"])("",!0)],64)):"verifier"===c.mode?(Object(i["t"])(),Object(i["f"])(i["a"],{key:3},[Vc,Object(i["g"])("input",{type:"text",value:c.motdepasse,placeholder:"6 chiffres",onInput:t[42]||(t[42]=function(e){return c.motdepasse=e.target.value}),onKeydown:t[43]||(t[43]=Object(i["I"])((function(){return o.verifier&&o.verifier.apply(o,arguments)}),["enter"]))},null,40,Ac)],64)):"afficher"===c.mode?(Object(i["t"])(),Object(i["f"])(i["a"],{key:4},[Fc,Object(i["g"])("input",{type:"text",value:c.pseudo,placeholder:"Nom ou pseudo",onInput:t[44]||(t[44]=function(e){return c.pseudo=e.target.value})},null,40,Bc),Jc,Object(i["g"])("input",{type:"text",value:c.motdepasse,disabled:""},null,8,Qc),Xc,Object(i["g"])("select",{onChange:t[45]||(t[45]=function(e){return o.modifierRessourceDepot(e.target.value)})},[Object(i["g"])("option",{value:"lien",selected:"lien"===c.ressource},"Lien",8,Gc),Object(i["g"])("option",{value:"fichier",selected:"fichier"===c.ressource},"Fichier",8,Uc)],32),"lien"===c.ressource?(Object(i["t"])(),Object(i["f"])("label",Kc,"Lien")):Object(i["e"])("",!0),"lien"===c.ressource?(Object(i["t"])(),Object(i["f"])("input",{key:1,id:"champ-lien",type:"text",value:c.lien,placeholder:"https://...",onInput:t[46]||(t[46]=function(e){return c.lien=e.target.value})},null,40,Wc)):Object(i["e"])("",!0),"fichier"===c.ressource?(Object(i["t"])(),Object(i["f"])("label",Zc,"Fichier (max. 2 Mo)")):Object(i["e"])("",!0),"fichier"===c.ressource?(Object(i["t"])(),Object(i["f"])("div",Yc,[""!==c.fichier&&c.ancienFichier===c.fichier?(Object(i["t"])(),Object(i["f"])("a",{key:0,class:"bouton",href:o.definirRacine()+"fichiers/"+c.id+"/"+c.fichier,target:"_blank"},"Voir le fichier actuel",8,eo)):Object(i["e"])("",!0),""===c.fichier?(Object(i["t"])(),Object(i["f"])("label",to,"Sélectionner un fichier")):""!==c.fichier&&c.ancienFichier===c.fichier?(Object(i["t"])(),Object(i["f"])("label",no,"Remplacer le fichier actuel")):""!==c.fichier&&c.ancienFichier!==c.fichier?(Object(i["t"])(),Object(i["f"])("label",io,Object(i["C"])(c.fichier),1)):Object(i["e"])("",!0),Object(i["g"])("input",{id:"televerser",type:"file",accept:".jpg, .jpeg, .png, .gif, .mp3, .mp4, .pdf, .doc, .docx, .odt, .ppt, .pptx, .odp, .xls, .xlsx, .ods",onChange:t[47]||(t[47]=function(){return o.selectionnerFichier&&o.selectionnerFichier.apply(o,arguments)}),style:{display:"none"}},null,32)])):Object(i["e"])("",!0),ro,""!==c.retroaction?(Object(i["t"])(),Object(i["f"])("div",{key:4,id:"retroaction",innerHTML:c.retroaction},null,8,co)):(Object(i["t"])(),Object(i["f"])("div",oo,"Aucune rétroaction."))],64)):Object(i["e"])("",!0)])]),"deposer"===c.mode||"afficher"===c.mode?(Object(i["t"])(),Object(i["f"])("div",{key:0,id:"valider",role:"button",tabindex:"0",onClick:t[48]||(t[48]=function(){return o.deposer&&o.deposer.apply(o,arguments)})},"Valider")):"verifier"===c.mode?(Object(i["t"])(),Object(i["f"])("div",{key:1,id:"valider",role:"button",tabindex:"0",onClick:t[49]||(t[49]=function(){return o.verifier&&o.verifier.apply(o,arguments)})},"Valider")):Object(i["e"])("",!0)],2)])):"connexion"===c.modale?(Object(i["t"])(),Object(i["f"])("div",so,[Object(i["g"])("div",ao,[Object(i["g"])("header",null,[lo,Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[50]||(t[50]=function(){return o.fermerModaleConnexion&&o.fermerModaleConnexion.apply(o,arguments)})},po)]),Object(i["g"])("div",bo,[Object(i["g"])("div",fo,[ho,Object(i["g"])("select",{value:c.question,onChange:t[51]||(t[51]=function(e){return c.question=e.target.value})},[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.questions,(function(e,t){return Object(i["t"])(),Object(i["f"])("option",{key:"option_"+t},Object(i["C"])(e),1)})),128))],40,mo),go,Object(i["g"])("input",{type:"password",value:c.reponse,onInput:t[52]||(t[52]=function(e){return c.reponse=e.target.value}),onKeydown:t[53]||(t[53]=Object(i["I"])((function(){return o.debloquerParcours&&o.debloquerParcours.apply(o,arguments)}),["enter"]))},null,40,jo),Object(i["g"])("div",Oo,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[54]||(t[54]=function(){return o.debloquerParcours&&o.debloquerParcours.apply(o,arguments)})},"Valider")])])])])])):"parcours"===c.modale?(Object(i["t"])(),Object(i["f"])("div",vo,[Object(i["g"])("div",yo,[Object(i["g"])("header",null,[ko,Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[55]||(t[55]=function(){return o.fermerModaleParcours&&o.fermerModaleParcours.apply(o,arguments)})},$o)]),Object(i["g"])("div",Co,[Object(i["g"])("div",So,[Object(i["g"])("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[56]||(t[56]=function(){return o.ouvrirModaleNomParcours&&o.ouvrirModaleNomParcours.apply(o,arguments)})},"Modifier le nom du parcours"),Object(i["g"])("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[57]||(t[57]=function(){return o.ouvrirModaleAccesParcours&&o.ouvrirModaleAccesParcours.apply(o,arguments)})},"Modifier l'accès au parcours"),Object(i["g"])("span",{class:"bouton large rouge",role:"button",tabindex:"0",onClick:t[58]||(t[58]=function(){return o.afficherSupprimerParcours&&o.afficherSupprimerParcours.apply(o,arguments)})},"Supprimer le parcours"),Object(i["g"])("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[59]||(t[59]=function(){return o.terminerSession&&o.terminerSession.apply(o,arguments)})},"Terminer la session d'édition")])])])])):"modifier-nom"===c.modale?(Object(i["t"])(),Object(i["f"])("div",qo,[Object(i["g"])("div",wo,[Object(i["g"])("header",null,[Mo,Object(i["g"])("span",{class:"fermer",role:"button",onClick:t[60]||(t[60]=function(){return o.fermerModaleNomParcours&&o.fermerModaleNomParcours.apply(o,arguments)})},Lo)]),Object(i["g"])("div",Po,[Object(i["g"])("div",To,[zo,Object(i["g"])("input",{type:"text",value:c.nouveaunom,onInput:t[61]||(t[61]=function(e){return c.nouveaunom=e.target.value}),onKeydown:t[62]||(t[62]=Object(i["I"])((function(){return o.modifierNomParcours&&o.modifierNomParcours.apply(o,arguments)}),["enter"]))},null,40,Io),Object(i["g"])("div",Eo,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[63]||(t[63]=function(){return o.modifierNomParcours&&o.modifierNomParcours.apply(o,arguments)})},"Modifier")])])])])])):"modifier-acces"===c.modale?(Object(i["t"])(),Object(i["f"])("div",Do,[Object(i["g"])("div",Ro,[Object(i["g"])("header",null,[No,Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[64]||(t[64]=function(){return o.fermerModaleAccesParcours&&o.fermerModaleAccesParcours.apply(o,arguments)})},Vo)]),Object(i["g"])("div",Ao,[Object(i["g"])("div",Fo,[Bo,Object(i["g"])("select",{value:c.question,onChange:t[65]||(t[65]=function(e){return c.question=e.target.value})},[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.questions,(function(e,t){return Object(i["t"])(),Object(i["f"])("option",{key:"option_"+t},Object(i["C"])(e),1)})),128))],40,Jo),Qo,Object(i["g"])("input",{type:"text",value:c.reponse,onInput:t[66]||(t[66]=function(e){return c.reponse=e.target.value})},null,40,Xo),Go,Object(i["g"])("select",{value:c.nouvellequestion,onChange:t[67]||(t[67]=function(e){return c.nouvellequestion=e.target.value})},[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.questions,(function(e,t){return Object(i["t"])(),Object(i["f"])("option",{key:"option_"+t},Object(i["C"])(e),1)})),128))],40,Uo),Ko,Object(i["g"])("input",{type:"text",value:c.nouvellereponse,onInput:t[68]||(t[68]=function(e){return c.nouvellereponse=e.target.value}),onKeydown:t[69]||(t[69]=Object(i["I"])((function(){return o.modifierAccesParcours&&o.modifierAccesParcours.apply(o,arguments)}),["enter"]))},null,40,Wo),Object(i["g"])("div",Zo,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[70]||(t[70]=function(){return o.modifierAccesParcours&&o.modifierAccesParcours.apply(o,arguments)})},"Modifier")])])])])])):"supprimer-parcours"===c.modale?(Object(i["t"])(),Object(i["f"])("div",Yo,[Object(i["g"])("div",es,[Object(i["g"])("div",ts,[Object(i["g"])("div",ns,[is,Object(i["g"])("div",rs,[Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[71]||(t[71]=function(e){return c.modale=""})},"Non"),Object(i["g"])("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[72]||(t[72]=function(){return o.supprimerParcours&&o.supprimerParcours.apply(o,arguments)})},"Oui")])])])])])):Object(i["e"])("",!0),Object(i["H"])(Object(i["g"])("div",cs,[Object(i["g"])("div",os,[Object(i["g"])("header",null,[ss,Object(i["g"])("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[73]||(t[73]=function(e){return c.modale=""})},ls)]),us])],512),[[i["E"],"code-qr"===c.modale]])])}var ps=n("1da1"),bs=(n("96cf"),n("159b"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("5319"),n("b0c0"),n("fb6a"),n("e9c4"),n("a434"),n("b311")),fs=n.n(bs),hs=n("d5ff"),ms=n.n(hs),gs=n("2113"),js=n("c1df"),Os=n.n(js),vs=n("7d42"),ys={name:"Editeur",components:{draggable:vs["a"]},data:function(){return{modale:"",menu:"",admin:!1,id:"",question:"",questions:["Quel est mon mot préféré ?","Quel est mon film préféré ?","Quelle est ma chanson préférée ?","Quel est le prénom de ma mère ?","Quel est le prénom de mon père ?","Quel est le nom de ma rue ?","Quel est le nom de mon employeur ?","Quel est le nom de mon animal de compagnie ?"],reponse:"",nom:"",nouveaunom:"",nouvellequestion:"",nouvellereponse:"",blocs:[],mode:"creation",bloc:"",titre:"",texte:"",type:"-",date:"",debut:"",fin:"",lieu:"",ressource:"-",lien:"",fichier:"",ancienFichier:"",depot:"non",travaux:[],retroaction:"",pseudo:"",motdepasse:"",vignette:"",heures:0,minutes:0,couleur:"#00ced1",couleurs:["#00ced1","#55efc4","#74b9ff","#a29bfe","#ffeaa7","#fab1a0","#fea7c6"],codeqr:"",position:0,progression:0}},watch:{modale:function(e){""!==e&&(this.menu="")}},created:function(){this.id=this.$route.params.id;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session")),localStorage.getItem("selection")&&(this.selection=JSON.parse(localStorage.getItem("selection")));var t=new XMLHttpRequest;t.onload=function(){if(t.readyState===t.DONE&&200===t.status){var e;try{e=JSON.parse(t.responseText)}catch(i){this.$router.push("/")}if(e.nom&&""!==e.nom){if(this.admin=e.admin,this.nom=e.nom,""!==e.donnees){var n=JSON.parse(e.donnees);this.blocs=n.blocs}setTimeout(function(){document.title=this.nom+" - Digisteps by La Digitale",this.$parent.$parent.chargement=!1;var e=document.querySelectorAll(".texte");e.forEach((function(e){if(e.scrollHeight>e.clientHeight){var t=document.createElement("span");t.classList.add("lire"),t.textContent="Lire la suite",e.insertAdjacentElement("afterend",t)}}));var t=document.querySelectorAll(".lire");t.forEach((function(e){e.addEventListener("click",(function(){var t=e.parentNode.parentNode.id;"block"===document.querySelector("#"+t+" .texte").style.display?(document.querySelector("#"+t+" .texte").style.display="-webkit-box",e.textContent="Lire la suite"):(document.querySelector("#"+t+" .texte").style.display="block",e.textContent="Réduire")}))}))}.bind(this),300)}else this.$router.push("/")}else this.$parent.$parent.chargement=!1,this.$parent.$parent.message="Erreur de communication avec le serveur."}.bind(this),t.open("POST",this.$parent.$parent.hote+"/inc/recuperer_parcours.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("id="+this.id+"&session="+e)},mounted:function(){var e=this.definirRacine()+"#/s/"+this.id,t=new fs.a("#copier-lien .lien",{text:function(){return e}});t.on("success",function(){this.$parent.$parent.notification="Lien copié dans le presse-papier."}.bind(this));var n='<iframe src="'+e+'" allowfullscreen frameborder="0" width="100%" height="500"></iframe>',i=new fs.a("#copier-iframe span",{text:function(){return n}});i.on("success",function(){this.$parent.$parent.notification="Code d'intégration copié dans le presse-papier."}.bind(this)),this.codeqr=new QRCode("qr",{text:e,width:500,height:500,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),document.addEventListener("click",function(e){var t=document.querySelector("#conteneur-partage"),n=document.querySelector("#menu-partager");t&&n&&e.target!==t&&e.target!==n&&!t.contains(e.target)&&!n.contains(e.target)&&(this.menu="")}.bind(this)),window.addEventListener("resize",function(){"partager"===this.menu&&(this.menu="")}.bind(this))},methods:{definirRacine:function(){return window.location.href.split("#")[0]},definirDuree:function(e,t){return 0===e?t+" min.":e>0&&0===t||e>0&&5===t?e+" h 0"+t:e+" h "+t},definirDate:function(e){return"le "+Os()(new Date(e)).locale("fr").format("L")},definirHoraire:function(e,t,n){return"de "+Os()(new Date(e+" "+t)).locale("fr").format("LT")+" à "+Os()(new Date(e+" "+n)).locale("fr").format("LT")},definirDateEtHeure:function(e){return"le "+Os()(new Date(e)).locale("fr").format("L")+" à "+Os()(new Date(e)).locale("fr").format("LT")},definirDomaine:function(e){return new URL(e).hostname},afficherMenuPartager:function(){this.menu="partager",this.$nextTick(function(){var e=document.querySelector("#conteneur-partage").getBoundingClientRect(),t=e.width,n=document.querySelector("#menu-partager").getBoundingClientRect().width;this.position=e.left-(90*n/100-t/2)}.bind(this))},ouvrirModaleBloc:function(e,t){this.mode=e,"edition"===e&&(this.bloc=t.id,this.titre=t.titre,this.texte=t.texte,this.type=t.type,this.date=t.date,this.debut=t.debut,this.fin=t.fin,this.lieu=t.lieu,this.lien=t.lien,this.fichier=t.fichier,this.ancienFichier=t.fichier,""!==this.lien?this.ressource="lien":""!==this.fichier&&(this.ressource="fichier"),!0===t.hasOwnProperty("depot")&&(this.depot=t.depot),!0===t.hasOwnProperty("travaux")&&(this.travaux=t.travaux),this.vignette=t.vignette,this.heures=t.heures,this.minutes=t.minutes,this.couleur=t.couleur),this.modale="bloc",this.$nextTick((function(){"creation"===e?document.querySelector("#champ-titre").focus():"edition"!==e||this.couleurs.includes(t.couleur)||this.$nextTick((function(){document.querySelector("#couleur").value=t.couleur})),document.querySelector("#texte").innerHTML="";var n=ms.a.init({element:document.querySelector("#texte"),onChange:function(e){var t=e.replace(/(<a [^>]*)(target="[^"]*")([^>]*>)/gi,"$1$3");t=t.replace(/(<a [^>]*)(>)/gi,'$1 target="_blank"$2'),t=Object(gs["a"])(t,{defaultProtocol:"https"}),this.texte=t}.bind(this),actions:[{name:"gras",title:"Gras",icon:'<i class="material-icons">format_bold</i>',result:function(){return ms.a.exec("bold")}},{name:"italique",title:"Italique",icon:'<i class="material-icons">format_italic</i>',result:function(){return ms.a.exec("italic")}},{name:"souligne",title:"Souligné",icon:'<i class="material-icons">format_underlined</i>',result:function(){return ms.a.exec("underline")}},{name:"barre",title:"Barré",icon:'<i class="material-icons">format_strikethrough</i>',result:function(){return ms.a.exec("strikethrough")}},{name:"listeordonnee",title:"Liste ordonnée",icon:'<i class="material-icons">format_list_numbered</i>',result:function(){return ms.a.exec("insertOrderedList")}},{name:"liste",title:"Liste",icon:'<i class="material-icons">format_list_bulleted</i>',result:function(){return ms.a.exec("insertUnorderedList")}},{name:"couleur",title:"Couleur du texte",icon:'<label for="couleur-texte"><i class="material-icons">format_color_text</i></label><input id="couleur-texte" type="color" style="display: none;">',result:function(){}},{name:"lien",title:"Lien",icon:'<i class="material-icons">link</i>',result:function(){var e=window.prompt("Adresse du lien");e&&ms.a.exec("createLink",e)}}],classes:{actionbar:"boutons-editeur",button:"bouton-editeur",content:"contenu-editeur",selected:"bouton-actif"}});n.content.innerHTML=this.texte,n.onpaste=function(e){e.preventDefault(),e.stopPropagation();var t=e.clipboardData.getData("text/plain");ms.a.exec("insertText",t)},document.querySelector("#texte .contenu-editeur").addEventListener("focus",(function(){document.querySelector("#texte").classList.add("focus")})),document.querySelector("#texte .contenu-editeur").addEventListener("blur",(function(){document.querySelector("#texte").classList.remove("focus")})),document.querySelector("#couleur-texte").addEventListener("change",this.modifierCouleurTexte)}))},modifierType:function(e){switch(this.type=e,e){case"section":this.date="",this.debut="",this.fin="",this.lieu="",this.ressource="-",this.lien="",this.fichier="",this.depot="non",this.heures=0,this.minutes=0,this.vignette="";break;case"seance":this.ressource="-",this.lien="",this.fichier="",this.depot="non",this.vignette="icone_meeting_room";break;case"document":this.date="",this.debut="",this.fin="",this.lieu="",this.ressource="lien",this.depot="non",this.vignette="icone_article";break;case"activite":this.date="",this.debut="",this.fin="",this.lieu="",this.vignette="icone_check_circle";break;case"evaluation":this.date="",this.debut="",this.fin="",this.lieu="",this.vignette="icone_assessment";break}},modifierRessource:function(e){this.ressource=e,this.lien="",this.fichier=""},modifierVignette:function(e){this.vignette=e},modifierCouleurTexte:function(e){ms.a.exec("foreColor",e.target.value),document.querySelector('#texte .bouton-editeur label[for="couleur-texte"]').style.color=e.target.value},modifierCouleurRetroaction:function(e){ms.a.exec("foreColor",e.target.value),document.querySelector('#retroaction .bouton-editeur label[for="couleur-retroaction"]').style.color=e.target.value},selectionnerFichier:function(e){this.fichier=e.target.files[0].name},selectionnerCouleur:function(e){this.couleur=e},verifierBloc:function(){return""===this.titre?(this.$parent.$parent.message="Veuillez donner un titre à cette étape.",!1):"-"===this.type?(this.$parent.$parent.message="Veuillez choisir un type d'étape.",!1):"seance"!==this.type||""!==this.date&&""!==this.debut&&""!==this.fin&&""!==this.lieu?"document"!==this.type&&"activite"!==this.type&&"evaluation"!==this.type||"lien"!==this.ressource||""===this.lien||!1!==this.verifierLien(this.lien)?"document"!==this.type&&"activite"!==this.type&&"evaluation"!==this.type||"-"===this.ressource||""!==this.lien||""!==this.fichier||("lien"===this.ressource&&""===this.lien?this.$parent.$parent.message="Veuillez indiquer un lien.":"fichier"===this.ressource&&""===this.fichier&&(this.$parent.$parent.message="Veuillez sélectionner un fichier."),!1):(this.$parent.$parent.message="Veuillez indiquer un lien valide.",!1):(""===this.date?this.$parent.$parent.message="Veuillez indiquer une date.":""===this.debut?this.$parent.$parent.message="Veuillez indiquer un horaire de début.":""===this.fin?this.$parent.$parent.message="Veuillez indiquer un horaire de fin.":""===this.lieu&&(this.$parent.$parent.message="Veuillez indiquer une adresse ou un lien de visioconférence."),!1)},televerserFichier:function(){return new Promise(function(e){this.modale="televerser";var t=document.querySelector("#televerser").files[0];if(t.size<2048e3){var n=new FormData;n.append("ancienfichier",this.ancienFichier),n.append("fichier",this.fichier),n.append("parcours",this.id),n.append("blob",t);var i=new XMLHttpRequest;i.onload=function(){i.readyState===i.DONE&&200===i.status?(this.progression=0,"erreur"===i.responseText?(this.modale="bloc",this.$parent.$parent.message="Erreur lors du téléversement du fichier.",e("erreur")):(this.modale="",this.ancienFichier="",e(i.responseText))):(this.$parent.$parent.message="Erreur lors du téléversement du fichier.",e("erreur"))}.bind(this),i.upload.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;this.progression=Math.round(t)}}.bind(this),i.open("POST",this.$parent.$parent.hote+"/inc/televerser_fichier.php",!0),i.send(n)}else this.modale="bloc",this.$parent.$parent.message="La taille maximale autorisée est 2 Mo.",e("erreur")}.bind(this))},ajouterBloc:function(){var e=this;return Object(ps["a"])(regeneratorRuntime.mark((function t(){var n,i,r,c,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.verifierBloc()){t.next=2;break}return t.abrupt("return",!1);case 2:if("fichier"!==e.ressource||""===e.fichier){t.next=8;break}return t.next=5,e.televerserFichier();case 5:if(e.fichier=t.sent,"erreur"!==e.fichier){t.next=8;break}return t.abrupt("return",!1);case 8:e.$parent.$parent.chargement=!0,n="",localStorage.getItem("session")&&(n=localStorage.getItem("session")),i="etape-"+(new Date).getTime()+Math.random().toString(16).slice(10),r=JSON.parse(JSON.stringify(e.blocs)),c={id:i,titre:e.titre,texte:e.texte,type:e.type,date:e.date,debut:e.debut,fin:e.fin,lieu:e.lieu,lien:e.lien,fichier:e.fichier,depot:e.depot,travaux:e.travaux,vignette:e.vignette,heures:e.heures,minutes:e.minutes,couleur:e.couleur,visibilite:!0},r.push(c),o=new XMLHttpRequest,o.onload=function(){o.readyState===o.DONE&&200===o.status?(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),"erreur"===o.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===o.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===o.responseText&&(this.blocs.push(c),this.$parent.$parent.notification="Étape ajoutée.",this.$nextTick((function(){var e=document.querySelector("#"+i+" .texte");if(e&&e.scrollHeight>e.clientHeight){var t=document.createElement("span");t.classList.add("lire"),t.textContent="Lire la suite",e.insertAdjacentElement("afterend",t)}var n=document.querySelector("#"+i+" .lire");n&&n.addEventListener("click",(function(){"block"===e.style.display?(e.style.display="-webkit-box",n.textContent="Lire la suite"):(e.style.display="block",n.textContent="Réduire")}))})))):(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(e),o.open("POST",e.$parent.$parent.hote+"/inc/modifier_parcours.php",!0),o.setRequestHeader("Content-type","application/json"),s={parcours:e.id,donnees:JSON.stringify({blocs:r}),session:n},o.send(JSON.stringify(s));case 21:case"end":return t.stop()}}),t)})))()},modifierBloc:function(){var e=this;return Object(ps["a"])(regeneratorRuntime.mark((function t(){var n,i,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.verifierBloc()){t.next=2;break}return t.abrupt("return",!1);case 2:if("fichier"!==e.ressource||e.fichier===e.ancienFichier){t.next=8;break}return t.next=5,e.televerserFichier();case 5:if(e.fichier=t.sent,"erreur"!==e.fichier){t.next=8;break}return t.abrupt("return",!1);case 8:n=[],""!==e.lien&&""!==e.ancienFichier&&n.push(e.ancienFichier),e.$parent.$parent.chargement=!0,i="",localStorage.getItem("session")&&(i=localStorage.getItem("session")),r=JSON.parse(JSON.stringify(e.blocs)),r.forEach(function(e,t){e.id===this.bloc&&r.splice(t,1,{id:e.id,titre:this.titre,texte:this.texte,type:this.type,date:this.date,debut:this.debut,fin:this.fin,lieu:this.lieu,lien:this.lien,fichier:this.fichier,depot:this.depot,travaux:this.travaux,vignette:this.vignette,heures:this.heures,minutes:this.minutes,couleur:this.couleur,visibilite:e.visibilite})}.bind(e)),c=new XMLHttpRequest,c.onload=function(){c.readyState===c.DONE&&200===c.status?(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),"erreur"===c.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===c.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===c.responseText&&(this.blocs=r,this.$parent.$parent.notification="Étape modifiée.",this.$nextTick(function(){var e=document.querySelector("#"+this.bloc+" .texte"),t=document.querySelector("#"+this.bloc+" .lire");if(e&&e.scrollHeight>e.clientHeight&&!t){var n=document.createElement("span");n.classList.add("lire"),n.textContent="Lire la suite",e.insertAdjacentElement("afterend",n)}e&&e.scrollHeight===e.clientHeight&&t&&t.parentNode.removeChild(t),t&&t.addEventListener("click",(function(){"block"===e.style.display?(e.style.display="-webkit-box",t.textContent="Lire la suite"):(e.style.display="block",t.textContent="Réduire")}))}.bind(this)))):(this.$parent.$parent.chargement=!1,this.fermerModaleContenu(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(e),c.open("POST",e.$parent.$parent.hote+"/inc/modifier_parcours.php",!0),c.setRequestHeader("Content-type","application/json"),o={parcours:e.id,donnees:JSON.stringify({blocs:r}),session:i,fichiers:JSON.stringify(n)},c.send(JSON.stringify(o));case 21:case"end":return t.stop()}}),t)})))()},fermerModaleContenu:function(){this.modale="",this.mode="creation",this.titre="",this.texte="",this.type="-",this.date="",this.debut="",this.fin="",this.lieu="",this.ressource="-",this.lien="",this.fichier="",this.ancienFichier="",this.depot="non",this.travaux=[],this.vignette="",this.heures=0,this.minutes=0,this.couleur="#00ced1",this.progression=0},modifierPositionBloc:function(){if(this.blocs.length>1){this.$parent.$parent.chargementBlocs=!0;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=new XMLHttpRequest;t.onload=function(){t.readyState===t.DONE&&200===t.status?(this.$parent.$parent.chargementBlocs=!1,"non_autorise"===t.responseText&&(this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.")):(this.$parent.$parent.chargementBlocs=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),t.open("POST",this.$parent.$parent.hote+"/inc/modifier_parcours.php",!0),t.setRequestHeader("Content-type","application/json");var n={parcours:this.id,donnees:JSON.stringify({blocs:this.blocs}),session:e};t.send(JSON.stringify(n))}},modifierVisibiliteBloc:function(e){this.$parent.$parent.chargement=!0;var t="";localStorage.getItem("session")&&(t=localStorage.getItem("session"));var n=JSON.parse(JSON.stringify(this.blocs));n.forEach((function(t,i){t.id===e&&(n[i].visibilite=!n[i].visibilite)}));var i=new XMLHttpRequest;i.onload=function(){i.readyState===i.DONE&&200===i.status?(this.$parent.$parent.chargement=!1,"erreur"===i.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===i.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===i.responseText&&(this.blocs=n,this.$parent.$parent.notification="Visibilité de l'étape modifiée.")):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),i.open("POST",this.$parent.$parent.hote+"/inc/modifier_parcours.php",!0),i.setRequestHeader("Content-type","application/json");var r={parcours:this.id,donnees:JSON.stringify({blocs:n}),session:t};i.send(JSON.stringify(r))},afficherSupprimerBloc:function(e){this.bloc=e,this.modale="supprimer-bloc"},supprimerBloc:function(){this.modale="",this.$parent.$parent.chargement=!0;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=JSON.parse(JSON.stringify(this.blocs)),n=[];t.forEach(function(e,i){e.id===this.bloc&&(""!==e.fichier&&n.push(e.fichier),e.hasOwnProperty("travaux")&&e.travaux.forEach((function(e){""!==e.fichier&&n.push(e.fichier)})),t.splice(i,1))}.bind(this));var i=new XMLHttpRequest;i.onload=function(){i.readyState===i.DONE&&200===i.status?(this.$parent.$parent.chargement=!1,"erreur"===i.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===i.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===i.responseText&&(this.blocs=t,this.$parent.$parent.notification="Étape supprimée.")):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),i.open("POST",this.$parent.$parent.hote+"/inc/modifier_parcours.php",!0),i.setRequestHeader("Content-type","application/json");var r={parcours:this.id,donnees:JSON.stringify({blocs:t}),session:e,fichiers:JSON.stringify(n)};i.send(JSON.stringify(r))},ouvrirModaleTravaux:function(e){this.bloc=e.id,this.travaux=e.travaux,this.modale="travaux"},afficherRetroaction:function(e,t){this.motdepasse=e,this.retroaction=t,this.$nextTick((function(){document.querySelector("#retroaction").innerHTML="";var e=ms.a.init({element:document.querySelector("#retroaction"),onChange:function(e){var t=e.replace(/(<a [^>]*)(target="[^"]*")([^>]*>)/gi,"$1$3");t=t.replace(/(<a [^>]*)(>)/gi,'$1 target="_blank"$2'),t=Object(gs["a"])(t,{defaultProtocol:"https"}),this.retroaction=t}.bind(this),actions:[{name:"gras",title:"Gras",icon:'<i class="material-icons">format_bold</i>',result:function(){return ms.a.exec("bold")}},{name:"italique",title:"Italique",icon:'<i class="material-icons">format_italic</i>',result:function(){return ms.a.exec("italic")}},{name:"souligne",title:"Souligné",icon:'<i class="material-icons">format_underlined</i>',result:function(){return ms.a.exec("underline")}},{name:"barre",title:"Barré",icon:'<i class="material-icons">format_strikethrough</i>',result:function(){return ms.a.exec("strikethrough")}},{name:"listeordonnee",title:"Liste ordonnée",icon:'<i class="material-icons">format_list_numbered</i>',result:function(){return ms.a.exec("insertOrderedList")}},{name:"liste",title:"Liste",icon:'<i class="material-icons">format_list_bulleted</i>',result:function(){return ms.a.exec("insertUnorderedList")}},{name:"couleur",title:"Couleur du texte",icon:'<label for="couleur-retroaction"><i class="material-icons">format_color_text</i></label><input id="couleur-retroaction" type="color" style="display: none;">',result:function(){}},{name:"lien",title:"Lien",icon:'<i class="material-icons">link</i>',result:function(){var e=window.prompt("Adresse du lien");e&&ms.a.exec("createLink",e)}}],classes:{actionbar:"boutons-editeur",button:"bouton-editeur",content:"contenu-editeur",selected:"bouton-actif"}});e.content.innerHTML=this.retroaction,e.onpaste=function(e){e.preventDefault(),e.stopPropagation();var t=e.clipboardData.getData("text/plain");ms.a.exec("insertText",t)},document.querySelector("#retroaction .contenu-editeur").addEventListener("focus",(function(){document.querySelector("#retroaction").classList.add("focus")})),document.querySelector("#retroaction .contenu-editeur").addEventListener("blur",(function(){document.querySelector("#retroaction").classList.remove("focus")})),document.querySelector("#couleur-retroaction").addEventListener("change",this.modifierCouleurRetroaction)}))},enregistrerRetroaction:function(){if(""!==this.retroaction){this.$parent.$parent.chargement=!0;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=JSON.parse(JSON.stringify(this.blocs));t.forEach(function(e){e.id===this.bloc&&e.travaux.forEach(function(e){parseInt(e.motdepasse)===parseInt(this.motdepasse)&&(e.retroaction=this.retroaction)}.bind(this))}.bind(this));var n=JSON.parse(JSON.stringify(this.travaux));n.forEach(function(e){parseInt(e.motdepasse)===parseInt(this.motdepasse)&&(e.retroaction=this.retroaction)}.bind(this));var i=new XMLHttpRequest;i.onload=function(){i.readyState===i.DONE&&200===i.status?(this.$parent.$parent.chargement=!1,"non_autorise"===i.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"parcours_modifie"===i.responseText&&(this.blocs=t,this.travaux=n,this.motdepasse="",this.$parent.$parent.notification="Rétroaction enregistrée.")):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),i.open("POST",this.$parent.$parent.hote+"/inc/modifier_parcours.php",!0),i.setRequestHeader("Content-type","application/json");var r={parcours:this.id,donnees:JSON.stringify({blocs:t}),session:e};i.send(JSON.stringify(r))}else this.$parent.$parent.message="Veuillez ajouter du texte."},annulerRetroaction:function(){this.motdepasse=""},fermerModaleTravaux:function(){this.modale="",this.bloc="",this.travaux=[],this.motdepasse=""},ouvrirModaleDepot:function(e){this.bloc=e,this.mode="-",this.modale="depot"},modifierModeDepot:function(e){this.mode=e,"deposer"===e?(this.ressource="lien",this.motdepasse=Math.floor(1e5+9e5*Math.random())):(this.ressource="-",this.motdepasse="")},modifierRessourceDepot:function(e){this.ressource=e,this.lien="",this.fichier=""},deposer:function(){var e=this;return Object(ps["a"])(regeneratorRuntime.mark((function t(){var n,i,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.pseudo){t.next=5;break}return e.$parent.$parent.message="Veuillez indiquer un nom ou un pseudo.",t.abrupt("return",!1);case 5:if("lien"!==e.ressource||""===e.lien||!1!==e.verifierLien(e.lien)){t.next=10;break}return e.$parent.$parent.message="Veuillez indiquer un lien valide.",t.abrupt("return",!1);case 10:if(""!==e.lien||""!==e.fichier){t.next=13;break}return"lien"===e.ressource&&""===e.lien?e.$parent.$parent.message="Veuillez indiquer un lien.":"fichier"===e.ressource&&""===e.fichier&&(e.$parent.$parent.message="Veuillez sélectionner un fichier."),t.abrupt("return",!1);case 13:if("fichier"!==e.ressource||""===e.fichier){t.next=19;break}return t.next=16,e.televerserFichier();case 16:if(e.fichier=t.sent,"erreur"!==e.fichier){t.next=19;break}return t.abrupt("return",!1);case 19:n="",""!==e.lien&&""!==e.ancienFichier&&(n=e.ancienFichier),i=Os()().format(),r=JSON.parse(JSON.stringify(e.blocs)),"deposer"===e.mode?r.forEach(function(e){e.id===this.bloc&&e.travaux.push({motdepasse:this.motdepasse,pseudo:this.pseudo,lien:this.lien,fichier:this.fichier,retroaction:"",date:i})}.bind(e)):"afficher"===e.mode&&r.forEach(function(e){e.id===this.bloc&&e.travaux.forEach(function(e){parseInt(e.motdepasse)===parseInt(this.motdepasse)&&(e.pseudo=this.pseudo,e.lien=this.lien,e.fichier=this.fichier,e.date=i)}.bind(this))}.bind(e)),e.$parent.$parent.chargement=!0,c=new XMLHttpRequest,c.onload=function(){c.readyState===c.DONE&&200===c.status?(this.$parent.$parent.chargement=!1,this.fermerModaleDepot(),"erreur"===c.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"travail_depose"===c.responseText&&(this.blocs=r,this.$parent.$parent.notification="Travail déposé.")):(this.$parent.$parent.chargement=!1,this.fermerModaleDepot(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(e),c.open("POST",e.$parent.$parent.hote+"/inc/deposer_travail.php",!0),c.setRequestHeader("Content-type","application/json"),o={parcours:e.id,id:e.bloc,mode:e.mode,motdepasse:e.motdepasse,pseudo:e.pseudo,lien:e.lien,fichier:e.fichier,date:i,fichierasupprimer:n},c.send(JSON.stringify(o));case 31:case"end":return t.stop()}}),t)})))()},verifier:function(){if(""===this.motdepasse)return this.$parent.$parent.message="Veuillez indiquer un mot de passe.",!1;this.blocs.forEach(function(e){if(e.id===this.bloc){var t=e.travaux,n=!1;t.forEach(function(e){parseInt(e.motdepasse)===parseInt(this.motdepasse)&&(this.mode="afficher",this.pseudo=e.pseudo,this.lien=e.lien,this.fichier=e.fichier,this.ancienFichier=e.fichier,""!==this.lien?this.ressource="lien":""!==this.fichier&&(this.ressource="fichier"),this.retroaction=e.retroaction,n=!0)}.bind(this)),!1===n&&(this.$parent.$parent.message="Ce mot de passe n'existe pas.")}}.bind(this))},fermerModaleDepot:function(){this.bloc="",this.pseudo="",this.motdepasse="",this.lien="",this.fichier="",this.ancienFichier="",this.mode="",this.ressource="-",this.retroaction="",this.modale=""},ouvrirModaleParcours:function(){this.modale="parcours"},fermerModaleParcours:function(){this.modale="",this.question="",this.reponse="",this.nouveaunom="",this.nouvellequestion="",this.nouvellereponse=""},ouvrirModaleNomParcours:function(){this.nouveaunom=this.nom,this.modale="modifier-nom"},fermerModaleNomParcours:function(){this.modale="",this.nouveaunom=""},modifierNomParcours:function(){if(""!==this.nouveaunom){this.$parent.$parent.chargement=!0;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=new XMLHttpRequest;t.onload=function(){t.readyState===t.DONE&&200===t.status?(this.$parent.$parent.chargement=!1,this.fermerModaleNomParcours(),"erreur"===t.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===t.responseText?this.$parent.$parent.message="Vous n'êtes pas autorisé à modifier ce parcours.":"nom_modifie"===t.responseText&&(this.nom=this.nouveaunom,this.$parent.$parent.notification="Nom modifié.",document.title=this.nom+" - Digisteps by La Digitale")):(this.$parent.$parent.chargement=!1,this.fermerModaleNomParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),t.open("POST",this.$parent.$parent.hote+"/inc/modifier_nom_parcours.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("parcours="+this.id+"&nouveaunom="+this.nouveaunom+"&session="+e)}else""===this.nouveaunom&&(this.$parent.$parent.message="Veuillez compléter le champ «&nbsp;Nouveau nom&nbsp;».")},ouvrirModaleAccesParcours:function(){this.modale="modifier-acces"},fermerModaleAccesParcours:function(){this.modale="",this.question="",this.reponse="",this.nouvellequestion="",this.nouvellereponse=""},modifierAccesParcours:function(){if(""!==this.question&&""!==this.reponse&&""!==this.nouvellequestion&&""!==this.nouvellereponse){this.$parent.$parent.chargement=!0;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=new XMLHttpRequest;t.onload=function(){t.readyState===t.DONE&&200===t.status?(this.$parent.$parent.chargement=!1,this.fermerModaleAccesParcours(),"erreur"===t.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===t.responseText?this.$parent.$parent.message="La question et la réponse secrètes ne sont pas correctes.":"acces_modifie"===t.responseText&&(this.$parent.$parent.notification="Accès modifié.")):(this.$parent.$parent.chargement=!1,this.fermerModaleAccesParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),t.open("POST",this.$parent.$parent.hote+"/inc/modifier_acces_parcours.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("parcours="+this.id+"&question="+this.question+"&reponse="+this.reponse+"&nouvellequestion="+this.nouvellequestion+"&nouvellereponse="+this.nouvellereponse+"&session="+e)}else""===this.question?this.$parent.$parent.message="Veuillez sélectionner votre question secrète actuelle.":""===this.reponse?this.$parent.$parent.message="Veuillez indiquer votre réponse secrète actuelle.":""===this.nouvellequestion?this.$parent.$parent.message="Veuillez sélectionner une nouvelle question secrète.":""===this.nouvellereponse&&(this.$parent.$parent.message="Veuillez indiquer une nouvelle réponse secrète.")},ouvrirModaleConnexion:function(){this.modale="connexion"},fermerModaleConnexion:function(){this.modale="",this.question="",this.reponse=""},debloquerParcours:function(){if(""!==this.question&&""!==this.reponse){this.$parent.$parent.chargement=!0;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=new XMLHttpRequest;t.onload=function(){t.readyState===t.DONE&&200===t.status?(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),"erreur"===t.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"non_autorise"===t.responseText?this.$parent.$parent.message="La question et la réponse secrètes ne sont pas correctes.":""!==t.responseText&&(localStorage.setItem("session",t.responseText),this.admin=!0,this.$parent.$parent.notification="Parcours débloqué.")):(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),t.open("POST",this.$parent.$parent.hote+"/inc/ouvrir_parcours.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("parcours="+this.id+"&question="+this.question+"&reponse="+this.reponse+"&session="+e)}else""===this.question?this.$parent.$parent.message="Veuillez sélectionner une question secrète.":""===this.reponse&&(this.$parent.$parent.message="Veuillez complétez le champ «&nbsp;Réponse secrète&nbsp;».")},terminerSession:function(){this.$parent.$parent.chargement=!0;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=new XMLHttpRequest;t.onload=function(){t.readyState===t.DONE&&200===t.status?(this.$parent.$parent.chargement=!1,"session_terminee"===t.responseText&&(this.fermerModaleParcours(),this.admin=!1,localStorage.removeItem("session"),this.$parent.$parent.notification="Session terminée.")):(this.$parent.$parent.chargement=!1,this.fermerModaleParcours(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),t.open("POST",this.$parent.$parent.hote+"/inc/terminer_session_parcours.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("session="+e)},afficherSupprimerParcours:function(){this.modale="supprimer-parcours"},supprimerParcours:function(){this.modale="",this.$parent.$parent.chargement=!1;var e="";localStorage.getItem("session")&&(e=localStorage.getItem("session"));var t=new XMLHttpRequest;t.onload=function(){t.readyState===t.DONE&&200===t.status?(this.$parent.$parent.chargement=!1,"erreur"===t.responseText?this.$parent.$parent.message="Erreur de communication avec le serveur.":"parcours_supprime"===t.responseText&&(document.title="Digisteps by La Digitale",this.$router.push("/"))):(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),this.$parent.$parent.message="Erreur de communication avec le serveur.")}.bind(this),t.open("POST",this.$parent.$parent.hote+"/inc/supprimer_parcours.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("parcours="+this.id+"&session="+e)},eclaircirCouleur:function(e){var t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);return"rgba("+t+", "+n+", "+i+", 0.25)"},modifierCouleur:function(e,t){var n=parseInt(e.substring(1,3),16),i=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);n=parseInt(n*(100+t)/100),i=parseInt(i*(100+t)/100),r=parseInt(r*(100+t)/100),n=n<255?n:255,i=i<255?i:255,r=r<255?r:255;var c=1===n.toString(16).length?"0"+n.toString(16):n.toString(16),o=1===i.toString(16).length?"0"+i.toString(16):i.toString(16),s=1===r.toString(16).length?"0"+r.toString(16):r.toString(16);return"#"+c+o+s},verifierLien:function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}}};n("b906"),n("f9ad");const ks=h()(ys,[["render",ds],["__scopeId","data-v-822588c0"]]);var xs=ks,$s=[{path:"/",name:"Accueil",component:ee},{path:"/s/:id",name:"Editeur",component:xs}],Cs=Object(j["a"])({history:Object(j["b"])(),routes:$s}),Ss=Cs;Object(i["c"])(g).use(Ss).mount("#app")},8938:function(e,t,n){},b3a3:function(e,t,n){"use strict";n("ea1c")},b906:function(e,t,n){"use strict";n("bfa7")},bfa7:function(e,t,n){},d73d:function(e,t,n){"use strict";n("8938")},db5e:function(e,t,n){},ea1c:function(e,t,n){},f9ad:function(e,t,n){"use strict";n("db5e")}});